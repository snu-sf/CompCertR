
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Cshmgenproof</title>
<meta name="description" content="Documentation of Coq module Cshmgenproof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Cshmgenproof</h1>
<div class="coq">
<br/>
<h1> Correctness of the translation from Clight to C#minor. </h1>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html">Clight</a></span> <span class="id"><a href="compcert.backend.Cminor.html">Cminor</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html">Csharpminor</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html">Cshmgen</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<br/>
<h1> Relational specification of the transformation </h1>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_fundef">match_fundef</a></span> (<span class="id">p</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) : <span class="id"><a href="compcert.cfrontend.Clight.html#fundef">Clight.fundef</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#fundef">Csharpminor.fundef</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_fundef_internal">match_fundef_internal</a></span>: <span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Ctypes.Internal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span>) (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_fundef_external">match_fundef_external</a></span>: <span class="kwd">forall</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ef">ef</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc">cc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">Ctypes.External</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc">cc</a></span>) (<span class="id"><a href="compcert.common.AST.html#External">AST.External</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ef">ef</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_varinfo">match_varinfo</a></span> (<span class="id">v</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">tv</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_prog">match_prog</a></span> (<span class="id">p</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) (<span class="id">tp</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#program">Csharpminor.program</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program_gen">match_program_gen</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_varinfo">match_varinfo</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tp">tp</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_program_match">transf_program_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">tp</span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_program">transl_program</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tp">tp</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#p">p</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tp">tp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4768')">Proof.</div>
<div class="proofscript" id="proof4768">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_program">transl_program</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Linking.html#match_transform_partial_program2">match_transform_partial_program2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">H</span>.<br/>
- <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
+ <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#signature_eq">signature_eq</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">e</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id">t</span> <span class="id">t0</span> <span class="id">c</span>)); <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of operations over types </h1>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="transl_params_types">transl_params_types</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">params</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#typ_of_type">typ_of_type</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#params">params</a></span>) = <span class="id"><a href="compcert.cfrontend.Ctypes.html#typlist_of_typelist">typlist_of_typelist</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_of_params">type_of_params</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#params">params</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4769')">Proof.</div>
<div class="proofscript" id="proof4769">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">params</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]; <span class="tactic">simpl</span>. <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_fundef_sig1">transl_fundef_sig1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span>) = <span class="id"><a href="compcert.cfrontend.Cop.html#fun_case_f">fun_case_f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc">cc</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc">cc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4770')">Proof.</div>
<div class="proofscript" id="proof4770">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
- <span class="id">monadInv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#signature_of_function">signature_of_function</a></span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_params_types">transl_params_types</a></span>.<br/>
- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_fundef_sig2">transl_fundef_sig2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc">cc</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#funsig">funsig</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cc">cc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4771')">Proof.</div>
<div class="proofscript" id="proof4771">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_fundef_sig1">transl_fundef_sig1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_sizeof">transl_sizeof</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span> <span class="id">prog</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span class="id">t</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4772')">Proof.</div>
<div class="proofscript" id="proof4772">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_stable">Ctypes.sizeof_stable</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_alignof">transl_alignof</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span> <span class="id">prog</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span class="id">t</span> <span class="id">al</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al">al</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al">al</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">Ctypes.alignof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4773')">Proof.</div>
<div class="proofscript" id="proof4773">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#alignof">alignof</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_stable">Ctypes.alignof_stable</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_alignof_blockcopy">transl_alignof_blockcopy</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span> <span class="id">prog</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span class="id">t</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4774')">Proof.</div>
<div class="proofscript" id="proof4774">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#sizeof">sizeof</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
- <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_stable">Ctypes.sizeof_stable</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">revert</span> <span class="id">C</span>. <span class="tactic">induction</span> <span class="id">t</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>)!<span class="id">i</span> <span class="kwd">as</span> [<span class="id">co</span>|] <span class="id">eqn</span>:<span class="id">X</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">erewrite</span> <span class="id">H1</span> <span class="tactic">by</span> <span class="tactic">eauto</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_offset_stable">field_offset_stable</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span> <span class="id">prog</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>) <span class="id">id</span> <span class="id">co</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co">co</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co">co</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co">co</a></span>) = <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#co">co</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4775')">Proof.</div>
<div class="proofscript" id="proof4775">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_consistent">composite_consistent</a></span> <span class="id">cunit</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id">co</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#build_composite_env_consistent">build_composite_env_consistent</a></span> <span class="kwd">with</span> <span class="id">cunit</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span>) <span class="id">id</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">A</span>].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_consistent_complete">co_consistent_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span>. <span class="tactic">generalize</span> 0. <span class="tactic">induction</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>) <span class="kwd">as</span> [ | [<span class="id">f1</span> <span class="id">t1</span>] <span class="id">m</span>]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_stable">alignof_stable</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span>) <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_stable">sizeof_stable</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span>) <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">f</span> <span class="id">f1</span>); <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of the translation functions </h1>
<br/>
<div class="doc">Transformation of expressions and statements. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_lvalue">transl_expr_lvalue</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">loc</span> <span class="id">ofs</span> <span class="id">ce</span> <span class="id">ta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#loc">loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">tb</span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lvalue">transl_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tb">tb</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_load">make_load</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tb">tb</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4776')">Proof.</div>
<div class="proofscript" id="proof4776">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ta</span>; <span class="tactic">intros</span> <span class="id">EVAL</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">EVAL</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eaddrof">Eaddrof</a></span> <span class="id">id</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;var&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eaddrof">Eaddrof</a></span> <span class="id">id</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> <span class="id">x0</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> <span class="id">x0</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of labeled statements </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lbl_stmt_1">transl_lbl_stmt_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">n</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">Clight.select_switch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4777')">Proof.</div>
<div class="proofscript" id="proof4777">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DFL</span>: <span class="kwd">forall</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_default">Clight.select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">sl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">CASE</span>: <span class="kwd">forall</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">Clight.select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sl</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tsl</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">tsl</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">sl</span>' = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">tsl</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">sl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>; <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">o</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">z</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHsl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHsl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">CASE</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#select_switch">Clight.select_switch</a></span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#select_switch">select_switch</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#select_switch_case">Clight.select_switch_case</a></span> <span class="id">n</span> <span class="id">sl</span>) <span class="kwd">as</span> [<span class="id">sl</span>'|].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">CASE</span> <span class="kwd">as</span> [<span class="id">tsl</span>' [<span class="id">P</span> <span class="id">Q</span>]]. <span class="tactic">rewrite</span> <span class="id">P</span>, <span class="id">Q</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">CASE</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lbl_stmt_2">transl_lbl_stmt_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sl">sl</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#seq_of_lbl_stmt">seq_of_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tsl">tsl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4778')">Proof.</div>
<div class="proofscript" id="proof4778">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">sl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> (<span class="id">IHsl</span> <span class="id">_</span> <span class="id">EQ1</span>). <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of Csharpminor construction functions </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CONSTRUCTORS">CONSTRUCTORS</a></span>.<br/>
<br/>
<span class="kwd">Variables</span> <span class="id"><a name="CONSTRUCTORS.cunit">cunit</a></span> <span class="id"><a name="CONSTRUCTORS.prog">prog</a></span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.LINK">LINK</a></span>: <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.se">se</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.ge">ge</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#genv">genv</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_intconst_correct">make_intconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4779')">Proof.</div>
<div class="proofscript" id="proof4779">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatconst_correct">make_floatconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatconst">make_floatconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4780')">Proof.</div>
<div class="proofscript" id="proof4780">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatconst">make_floatconst</a></span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_singleconst_correct">make_singleconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleconst">make_singleconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4781')">Proof.</div>
<div class="proofscript" id="proof4781">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleconst">make_singleconst</a></span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_longconst_correct">make_longconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longconst">make_longconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4782')">Proof.</div>
<div class="proofscript" id="proof4782">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatconst">make_floatconst</a></span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_ptrofsconst">make_ptrofsconst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4783')">Proof.</div>
<div class="proofscript" id="proof4783">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_ptrofsconst">make_ptrofsconst</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_singleoffloat_correct">make_singleoffloat_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleoffloat">make_singleoffloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4784')">Proof.</div>
<div class="proofscript" id="proof4784">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatofsingle_correct">make_floatofsingle_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatofsingle">make_floatofsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4785')">Proof.</div>
<div class="proofscript" id="proof4785">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatofint_correct">make_floatofint_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">sg</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatofint">make_floatofint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sg">sg</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_float">cast_int_float</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4786')">Proof.</div>
<div class="proofscript" id="proof4786">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatofint">make_floatofint</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_float">cast_int_float</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sg</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">make_intconst_correct</span> <span class="id">make_floatconst_correct</span> <span class="id">make_longconst_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_singleconst_correct</span> <span class="id">make_singleoffloat_correct</span> <span class="id">make_floatofsingle_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_floatofint_correct</span>: <span class="id">cshm</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#eval_exprlist">eval_exprlist</a></span>: <span class="id">cshm</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 2 (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">traceEq</span>: <span class="id">cshm</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmpu_ne_zero">make_cmpu_ne_zero</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4787')">Proof.</div>
<div class="proofscript" id="proof4787">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span>) <span class="id">a</span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>))).<br/>
&nbsp;&nbsp;{ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.cmpu">Int.cmpu</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">CMP</span>: <span class="kwd">forall</span> <span class="id">ob</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ob">ob</a></span> = <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">n</span> = (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_false">Int.eq_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.one_not_zero">Int.one_not_zero</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpl">Val.cmpl</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="kwd">as</span> [[]|]; <span class="id">inv</span> <span class="id">H6</span>; <span class="tactic">reflexivity</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="kwd">as</span> [[]|]; <span class="id">inv</span> <span class="id">H6</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmpu_ne_zero">make_cmpu_ne_zero</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4788')">Proof.</div>
<div class="proofscript" id="proof4788">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="compcert.backend.Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span>) <span class="id">a</span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intconst">make_intconst</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)) <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>, <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">OF_OPTBOOL</span>: <span class="kwd">forall</span> <span class="id">ob</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ob">ob</a></span>) &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span> <span class="kwd">as</span> [[]|]; <span class="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">OF_BOOL</span>: <span class="kwd">forall</span> <span class="id">ob</span>, <span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.common.Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ob">ob</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span> <span class="kwd">as</span> [[]|]; <span class="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_BOOL</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_BOOL</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cast_int_correct">make_cast_int_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">sz</span> <span class="id">si</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast_int">make_cast_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_int">cast_int_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4789')">Proof.</div>
<div class="proofscript" id="proof4789">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast_int">make_cast_int</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_int">cast_int_int</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sz</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_longofint_correct">make_longofint_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">si</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4790')">Proof.</div>
<div class="proofscript" id="proof4790">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span>. <span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">make_cast_int_correct</span> <span class="id">make_longofint_correct</span>: <span class="id">cshm</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvEval</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">InvEval</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">InvEval</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cast_correct">make_cast_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">v</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast">make_cast</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty2">ty2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty2">ty2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4791')">Proof.</div>
<div class="proofscript" id="proof4791">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cast">make_cast</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_cast">classify_cast</a></span> <span class="id">ty1</span> <span class="id">ty2</span>); <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleofint">make_singleofint</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_float">cast_int_float</a></span>. <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_int_correct">make_cast_int_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_float_int">cast_float_int</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intoffloat">make_intoffloat</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_int_correct">make_cast_int_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_single_int">cast_single_int</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_intofsingle">make_intofsingle</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatoflong">make_floatoflong</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_long_float">cast_long_float</a></span>. <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_singleoflong">make_singleoflong</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_long_single">cast_long_single</a></span>. <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_float_long">cast_float_long</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longoffloat">make_longoffloat</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cast_single_long">cast_single_long</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofsingle">make_longofsingle</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;int&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;pointer&nbsp;(32&nbsp;bits)&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.cmpu">Int64.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;pointer&nbsp;(64&nbsp;bits)&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb0</span>, <span class="id">Heqb1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">reflexivity</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp_ne_eq">Float.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float.zero">Float.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp_ne_eq">Float32.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.zero">Float32.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>); <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>); <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_boolean_correct">make_boolean_correct</a></span>:<br/>
&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_boolean">make_boolean</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Values.html#Val.bool_of_val">Val.bool_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4792')">Proof.</div>
<div class="proofscript" id="proof4792">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_boolean">make_boolean</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_bool">classify_bool</a></span> <span class="id">ty</span>); <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">InvEval</span>.<br/>
- <span class="comment">(*&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">simpl</span>; <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;ptr&nbsp;32&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">simpl</span>; <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;ptr&nbsp;64&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="compcert.common.Values.html#Vone">Vone</a></span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>, <span class="id">Heqb1</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Floats.html#Float.cmp_ne_eq">Float.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float.zero">Float.zero</a></span>); <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp_ne_eq">Float32.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.zero">Float32.zero</a></span>); <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_neg_correct">make_neg_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_neg">sem_neg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_neg">make_neg</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4793')">Proof.</div>
<div class="proofscript" id="proof4793">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_neg">sem_neg</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_neg">make_neg</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_absfloat_correct">make_absfloat_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_absfloat">sem_absfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_absfloat">make_absfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4794')">Proof.</div>
<div class="proofscript" id="proof4794">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_absfloat">sem_absfloat</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_absfloat">make_absfloat</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_floatoflong">make_floatoflong</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#cast_long_float">cast_long_float</a></span>. <span class="tactic">destruct</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_notbool_correct">make_notbool_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_notbool">sem_notbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notbool">make_notbool</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4795')">Proof.</div>
<div class="proofscript" id="proof4795">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_notbool">sem_notbool</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notbool">make_notbool</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_bool">classify_bool</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SEM</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.cmpu">Int.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">V</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">V</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id">V</span>, <span class="id"><a href="compcert.lib.Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.cmpu">Int64.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">V</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">V</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id">V</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpf">Val.cmpf</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float.zero">Float.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpfs">Val.cmpfs</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.zero">Float32.zero</a></span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_notint_correct">make_notint_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_notint">sem_notint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notint">make_notint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4796')">Proof.</div>
<div class="proofscript" id="proof4796">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_notint">sem_notint</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_notint">make_notint</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_notint">classify_notint</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sem">sem</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb">tyb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make">make</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb">tyb</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shift_constructor_correct">shift_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.common.Errors.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sem">sem</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb">tyb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make">make</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb">tyb</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN">MAKE_BIN</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#signedness">signedness</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#signedness">signedness</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>.<br/>
<span class="kwd">Variables</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#binary_operation">binary_operation</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Signed">Signed</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Unsigned">Unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Signed">Signed</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Unsigned">Unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.fop_ok">fop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sop_ok">sop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_binarith_correct">make_binarith_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith">make_binarith</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4797')">Proof.</div>
<div class="proofscript" id="proof4797">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith">make_binarith</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">cls</span> := <span class="id"><a href="compcert.cfrontend.Cop.html#classify_binarith">classify_binarith</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ty</span> := <span class="id"><a href="compcert.cfrontend.Cop.html#binarith_type">binarith_type</a></span> <span class="id">cls</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">va</span> <span class="id">tya</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">va</span>'|] <span class="id">eqn</span>:<span class="id">Ca</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">vb</span> <span class="id">tyb</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">vb</span>'|] <span class="id">eqn</span>:<span class="id">Cb</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EV1</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ1</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EV2</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cls</span>; <span class="id">inv</span> <span class="id">EQ2</span>; <span class="tactic">destruct</span> <span class="id">va</span>'; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">vb</span>'; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.fop_ok">fop_ok</a></span> <span class="kwd">in</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sop_ok">sop_ok</a></span> <span class="kwd">in</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_binarith_int_correct">make_binarith_int_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith_int">make_binarith_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4798')">Proof.</div>
<div class="proofscript" id="proof4798">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_binarith_int">make_binarith_int</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binarith">sem_binarith</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">cls</span> := <span class="id"><a href="compcert.cfrontend.Cop.html#classify_binarith">classify_binarith</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ty</span> := <span class="id"><a href="compcert.cfrontend.Cop.html#binarith_type">binarith_type</a></span> <span class="id">cls</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">va</span> <span class="id">tya</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">va</span>'|] <span class="id">eqn</span>:<span class="id">Ca</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">vb</span> <span class="id">tyb</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">vb</span>'|] <span class="id">eqn</span>:<span class="id">Cb</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EV1</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>. <span class="id">eexact</span> <span class="id">EQ1</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EV2</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cls</span>; <span class="id">inv</span> <span class="id">EQ2</span>; <span class="tactic">destruct</span> <span class="id">va</span>'; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">vb</span>'; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.MAKE_BIN">MAKE_BIN</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 2 (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) <span class="id">_</span> <span class="id">_</span>) =&gt; (<span class="tactic">simpl</span>; <span class="tactic">reflexivity</span>) : <span class="id">cshm</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_add_correct">make_add_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add">make_add</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)) (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_add">sem_add</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4799')">Proof.</div>
<div class="proofscript" id="proof4799">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">si</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_int">make_add_ptr_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_int">make_add_ptr_int</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>; <span class="tactic">intros</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">SEM</span>; <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">Ptrofs.agree64</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span> <span class="id">si</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">Ptrofs.agree64_repr</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) <span class="id">i0</span>) <span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_long">make_add_ptr_long</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add_ptr_long">make_add_ptr_long</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>; <span class="tactic">intros</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">SEM</span>; <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i0</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i0</span>)) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">Ptrofs.agree32_repr</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_add">make_add</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_add">sem_add</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_add">classify_add</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="tactic">eauto</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_sub_correct">make_sub_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_sub">make_sub</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)) (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_sub">sem_sub</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4800')">Proof.</div>
<div class="proofscript" id="proof4800">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_sub">make_sub</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_sub">sem_sub</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_sub">classify_sub</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">MAKE</span>).<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">Ptrofs.agree64</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#cast_int_long">cast_int_long</a></span> <span class="id">si</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">Ptrofs.agree64_repr</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) <span class="id">i0</span>) <span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>) <span class="kwd">in</span> <span class="id">EQ0</span>. <span class="tactic">clear</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">sz</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>) <span class="id">ty</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">b1</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> 0 <span class="id">sz</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id">sz</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SEM</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E1</span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">sz</span>) = <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed_repr">Ptrofs.signed_repr</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.min_signed_neg">Ptrofs.min_signed_neg</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="tactic">inversion</span> <span class="id">EQ0</span>; <span class="tactic">clear</span> <span class="id">EQ0</span>; <span class="tactic">subst</span> <span class="id">c</span>.<br/>
+ <span class="tactic">assert</span> (<span class="id">E</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) = <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed_neg">Int64.min_signed_neg</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">Ptrofs.half_modulus</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">Ptrofs.modulus_eq64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_zero">Int64.signed_zero</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">Int64.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_mone">Int64.signed_mone</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">assert</span> (<span class="id">E</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) = <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_repr">Int.signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed_neg">Int.min_signed_neg</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">Ptrofs.half_modulus</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">Ptrofs.modulus</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.wordsize">Ptrofs.wordsize</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_zero">Int.signed_zero</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_mone">Int.signed_mone</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span> <span class="id">EQ</span>).<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i0</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i0</span>)) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">Ptrofs.agree32_repr</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_mul_correct">make_mul_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_mul">make_mul</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_mul">sem_mul</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4801')">Proof.</div>
<div class="proofscript" id="proof4801">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_div_correct">make_div_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_div">make_div</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_div">sem_div</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4802')">Proof.</div>
<div class="proofscript" id="proof4802">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_mod_correct">make_mod_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_mod">make_mod</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_mod">sem_mod</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4803')">Proof.</div>
<div class="proofscript" id="proof4803">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_and_correct">make_and_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_and">make_and</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_and">sem_and</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4804')">Proof.</div>
<div class="proofscript" id="proof4804">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_or_correct">make_or_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_or">make_or</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_or">sem_or</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4805')">Proof.</div>
<div class="proofscript" id="proof4805">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_xor_correct">make_xor_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_xor">make_xor</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_xor">sem_xor</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4806')">Proof.</div>
<div class="proofscript" id="proof4806">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">comput</span> <span class="id">val</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="tactic">fresh</span> <span class="kwd">in</span> <span class="tactic">set</span> <span class="id">val</span> <span class="kwd">as</span> <span class="id">x</span> <span class="kwd">in</span> *; <span class="id">vm_compute</span> <span class="kwd">in</span> <span class="id">x</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="small_shift_amount_1">small_shift_amount_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>) <span class="id">Int64.iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4807')">Proof.</div>
<div class="proofscript" id="proof4807">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu_inv">Int64.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">i</span> = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">comput</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="small_shift_amount_2">small_shift_amount_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 32) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4808')">Proof.</div>
<div class="proofscript" id="proof4808">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu_inv">Int64.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 32)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">i</span> = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">comput</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="small_shift_amount_3">small_shift_amount_3</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span> <span class="id">Int64.iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>)) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4809')">Proof.</div>
<div class="proofscript" id="proof4809">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">Int64.iwordsize</span>').<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">comput</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_shl_correct">make_shl_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#shift_constructor_correct">shift_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shl">make_shl</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shl">sem_shl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4810')">Proof.</div>
<div class="proofscript" id="proof4810">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shl">make_shl</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shl">sem_shl</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shift">sem_shift</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_shift">classify_shift</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="id">inv</span> <span class="id">MAKE</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_1">small_shift_amount_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">f_equal</span>. <span class="tactic">unfold</span> <span class="id">Int64.shl</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">Int64.shl</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 32)) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_2">small_shift_amount_2</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>') <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shl</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">Int64.shl</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_3">small_shift_amount_3</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_shr_correct">make_shr_correct</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#shift_constructor_correct">shift_constructor_correct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shr">make_shr</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shr">sem_shr</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4811')">Proof.</div>
<div class="proofscript" id="proof4811">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_shr">make_shr</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shr">sem_shr</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_shift">sem_shift</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_shift">classify_shift</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="id">inv</span> <span class="id">MAKE</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_1">small_shift_amount_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">A</span>;<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shr</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">Int64.shr</a></span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shru</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 32)) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_2">small_shift_amount_2</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>') <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shr</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">Int64.shr</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_3">small_shift_amount_3</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shru</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#small_shift_amount_3">small_shift_amount_3</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cmp</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">va</span> <span class="id">b</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#cmp_ptr">cmp_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp">cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp_ptr">make_cmp_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp">cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4812')">Proof.</div>
<div class="proofscript" id="proof4812">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp_ptr">make_cmp_ptr</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.cmpu">Val.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">cmp</span> <span class="id">va</span> <span class="id">vb</span>) <span class="kwd">as</span> [<span class="id">bo</span>|]; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">i</span> <span class="id">si</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#si">si</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4813')">Proof.</div>
<div class="proofscript" id="proof4813">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>, <span class="id"><a href="compcert.cfrontend.Cop.html#ptrofs_of_int">ptrofs_of_int</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_longofint">make_longofint</a></span>. <span class="tactic">destruct</span> <span class="id">si</span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">Ptrofs.of_ints</a></span> <span class="id">i</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm64">Ptrofs.eqm64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_intu">Ptrofs.of_intu</a></span> <span class="id">i</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm64">Ptrofs.eqm64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
- <span class="tactic">destruct</span> <span class="id">si</span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">Ptrofs.of_ints</a></span> <span class="id">i</span>)) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_intu">Ptrofs.of_intu</a></span> <span class="id">i</span>)) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Eunop">Eunop</a></span> <span class="id"><a href="compcert.backend.Cminor.html#Ointoflong">Ointoflong</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i">i</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4814')">Proof.</div>
<div class="proofscript" id="proof4814">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>)) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm32">Ptrofs.eqm32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmp_correct">make_cmp_correct</a></span>: <span class="kwd">forall</span> <span class="id">cmp</span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp">make_cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp">cmp</a></span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cmp">sem_cmp</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cmp">cmp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4815')">Proof.</div>
<div class="proofscript" id="proof4815">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cmp">sem_cmp</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_cmp">make_cmp</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_cmp">classify_cmp</a></span> <span class="id">tya</span> <span class="id">tyb</span>).<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_unop_correct">transl_unop_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_unop">transl_unop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4816')">Proof.</div>
<div class="proofscript" id="proof4816">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_notbool_correct">make_notbool_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_notint_correct">make_notint_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_neg_correct">make_neg_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_absfloat_correct">make_absfloat_correct</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_binop_correct">transl_binop_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_binop">transl_binop</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb">tyb</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tya">tya</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyb">tyb</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#c">c</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4817')">Proof.</div>
<div class="proofscript" id="proof4817">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_add_correct">make_add_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_sub_correct">make_sub_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_mul_correct">make_mul_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_div_correct">make_div_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_mod_correct">make_mod_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_and_correct">make_and_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_or_correct">make_or_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_xor_correct">make_xor_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_shl_correct">make_shl_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_shr_correct">make_shr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_load_correct">make_load_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">ty</span> <span class="id">code</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_load">make_load</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr">addr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code">code</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr">addr</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code">code</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4818')">Proof.</div>
<div class="proofscript" id="proof4818">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_load">make_load</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">MKLOAD</span> <span class="id">EVEXP</span> <span class="id">DEREF</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DEREF</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;scalar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Eload">eval_Eload</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;by&nbsp;reference&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;by&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_memcpy_correct">make_memcpy_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">dst</span> <span class="id">src</span> <span class="id">ty</span> <span class="id">k</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">m</span>' <span class="id">s</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#dst">dst</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#src">src</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_copy">By_copy</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_memcpy">make_memcpy</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#dst">dst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#src">src</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4819')">Proof.</div>
<div class="proofscript" id="proof4819">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_alignof_blockcopy">transl_alignof_blockcopy</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.LINK">LINK</a></span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id">le</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.backend.Cminor.html#set_optvar">set_optvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id">le</span>) <span class="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy_1248">alignof_blockcopy_1248</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_pos">sizeof_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_alignof_blockcopy_compat">sizeof_alignof_blockcopy_compat</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_store_correct">make_store_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">ty</span> <span class="id">rhs</span> <span class="id">code</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">m</span>' <span class="id">f</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr">addr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#rhs">rhs</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code">code</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#addr">addr</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#rhs">rhs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#code">code</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4820')">Proof.</div>
<div class="proofscript" id="proof4820">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store</a></span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">k</span>; <span class="tactic">intros</span> <span class="id">MKSTORE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">ASSIGN</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">ASSIGN</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;nonvolatile&nbsp;scalar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKSTORE</span>; <span class="id">inv</span> <span class="id">MKSTORE</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;by&nbsp;copy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKSTORE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_memcpy_correct">make_memcpy_correct</a></span> <span class="kwd">with</span> (<span class="id">b</span> := <span class="id">b</span>) (<span class="id">v</span> := <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id">ofs</span>'); <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CONSTRUCTORS">CONSTRUCTORS</a></span>.<br/>
<br/>
<h1> Basic preservation invariants </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS">CORRECTNESS</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.prog">prog</a></span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.tprog">tprog</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#program">Csharpminor.program</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.TRANSL">TRANSL</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.CORELEMMA">CORELEMMA</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.se">se</a></span> <span class="id"><a name="CORRECTNESS.CORELEMMA.tse">tse</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>.<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="CORRECTNESS.CORELEMMA.MATCH_SENV">MATCH_SENV</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tse">tse</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.ge">ge</a></span>: <span class="id"><a href="compcert.cfrontend.Clight.html#genv">Clight.genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.tge">tge</a></span> : <span class="id"><a href="compcert.cfrontend.Csharpminor.html#genv">Csharpminor.genv</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.GENV_COMPAT">GENV_COMPAT</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Clight.html#genv_cenv">genv_cenv</a></span>).<br/>
<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="CORRECTNESS.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="compcert.common.Linking.html#match_globdef">match_globdef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_varinfo">match_varinfo</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="symbols_preserved">symbols_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_match_genv">Genv.find_symbol_match_genv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="senv_preserved">senv_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_match_genv">Genv.senv_match_genv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_ptr_translated">function_ptr_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">cu</span> <span class="id">tf</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> /\ <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_match_genv">Genv.find_funct_ptr_match_genv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="functions_translated">functions_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">cu</span> <span class="id">tf</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> /\ <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_match_genv">Genv.find_funct_match_genv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<h1> Matching between environments </h1>
<br/>
<div class="doc">In this section, we define a matching relation between
  a Clight local environment and a Csharpminor local environment. </div>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="match_env">match_env</a></span> (<span class="id">e</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#env">Clight.env</a></span>) (<span class="id">te</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="mk_match_env">mk_match_env</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="me_local">me_local</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">b</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span>!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span>!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="me_local_inv">me_local_inv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">b</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span>!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#sz">sz</a></span>) -&gt; <span class="id">exists</span> <span class="id">ty</span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span>!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span>)<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_globals">match_env_globals</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">te</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span>!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span>!<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4821')">Proof.</div>
<div class="proofscript" id="proof4821">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">te</span>!<span class="id">id</span>) <span class="kwd">as</span> [[<span class="id">b</span> <span class="id">sz</span>] | ] <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local_inv">me_local_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ty</span> <span class="id">EQ</span>]. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_same_blocks">match_env_same_blocks</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">te</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> = <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">Clight.blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4822')">Proof.</div>
<div class="proofscript" id="proof4822">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">R</span> := <span class="kwd">fun</span> (<span class="id">x</span>: (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) (<span class="id">y</span>: (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#x">x</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">b1</span>, <span class="id">ty</span>), (<span class="id">b2</span>, <span class="id">sz</span>) =&gt; <span class="id">b2</span> = <span class="id">b1</span> /\ <span class="id">sz</span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_forall2">list_forall2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">i_x</span> <span class="id">i_y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_x">i_x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_y">i_y</a></span> /\ <span class="id">R</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_x">i_x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#i_y">i_y</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">te</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elements_canonical_order">PTree.elements_canonical_order</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> [<span class="id">b</span> <span class="id">ty</span>] <span class="id">GET</span>. <span class="id">exists</span> (<span class="id">b</span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id">ty</span>); <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> [<span class="id">b</span> <span class="id">sz</span>] <span class="id">GET</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local_inv">me_local_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ty</span> <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">b</span>, <span class="id">ty</span>); <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">red</span>; <span class="tactic">split</span>; <span class="tactic">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span>, <span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">Clight.blocks_of_env</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H0</span>. <span class="tactic">induction</span> 1. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#block_of_binding">block_of_binding</a></span>, <span class="id"><a href="compcert.cfrontend.Clight.html#block_of_binding">Clight.block_of_binding</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a1</span> <span class="kwd">as</span> [<span class="id">id1</span> [<span class="id">blk1</span> <span class="id">ty1</span>]]. <span class="tactic">destruct</span> <span class="id">b1</span> <span class="kwd">as</span> [<span class="id">id2</span> [<span class="id">blk2</span> <span class="id">sz2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_free_blocks">match_env_free_blocks</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">te</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#blocks_of_env">Clight.blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4823')">Proof.</div>
<div class="proofscript" id="proof4823">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_same_blocks">match_env_same_blocks</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_empty">match_env_empty</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">Clight.empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">Csharpminor.empty_env</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4824')">Proof.</div>
<div class="proofscript" id="proof4824">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Clight.html#empty_env">Clight.empty_env</a></span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#empty_env">Csharpminor.empty_env</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ty</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">sz</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The following lemmas establish the <span class="bracket"><span class="id">match_env</span></span> invariant at
  the beginning of a function invocation, after allocation of
  local variables and initialization of the parameters. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_alloc_variables">match_env_alloc_variables</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cunit</span>, <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e1</span> <span class="id">m1</span> <span class="id">vars</span> <span class="id">e2</span> <span class="id">m2</span>, <span class="id"><a href="compcert.cfrontend.Clight.html#alloc_variables">Clight.alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e1">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m1">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e2">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tvars</span> <span class="id">te1</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#mmap">mmap</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_var">transl_var</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars">vars</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars">tvars</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e1">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te1">te1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">te2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#alloc_variables">Csharpminor.alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te1">te1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m1">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars">tvars</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te2">te2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m2">m2</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e2">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te2">te2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4825')">Proof.</div>
<div class="proofscript" id="proof4825">
&nbsp;&nbsp;<span class="tactic">induction</span> 2; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H0</span>. <span class="id">exists</span> <span class="id">te1</span>; <span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
- <span class="id">monadInv</span> <span class="id">H2</span>. <span class="id">monadInv</span> <span class="id">EQ</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">SZ</span>; <span class="tactic">rewrite</span> <span class="id">SZ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHalloc_variables</span> <span class="id">x0</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id">b1</span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id">ty</span>) <span class="id">te1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;me_local&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ty0</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>); <span class="tactic">intros</span>. <span class="tactic">congruence</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;me_local_inv&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">sz</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>); <span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">ty</span>; <span class="tactic">congruence</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local_inv">me_local_inv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">te2</span> [<span class="id">ALLOC</span> <span class="id">MENV</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">te2</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.GENV_COMPAT">GENV_COMPAT</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="create_undef_temps_match">create_undef_temps_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">temps</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#temps">temps</a></span>) = <span class="id"><a href="compcert.cfrontend.Clight.html#create_undef_temps">Clight.create_undef_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#temps">temps</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4826')">Proof.</div>
<div class="proofscript" id="proof4826">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">temps</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]. <span class="tactic">simpl</span>. <span class="id">decEq</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bind_parameter_temps_match">bind_parameter_temps_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span> <span class="id">vals</span> <span class="id">le1</span> <span class="id">le2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#bind_parameter_temps">Clight.bind_parameter_temps</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars">vars</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vals">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le1">le1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le2">le2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#bind_parameters">bind_parameters</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars">vars</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vals">vals</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le1">le1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le2">le2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4827')">Proof.</div>
<div class="proofscript" id="proof4827">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">vals</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]. <span class="tactic">destruct</span> <span class="id">vals</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_vars_names">transl_vars_names</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">vars</span> <span class="id">tvars</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Errors.html#mmap">mmap</a></span> (<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_var">transl_var</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars">vars</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars">tvars</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tvars">tvars</a></span> = <span class="id"><a href="compcert.cfrontend.Clight.html#var_names">var_names</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4828')">Proof.</div>
<div class="proofscript" id="proof4828">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Errors.html#mmap_inversion">mmap_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">generalize</span> <span class="id">vars</span> <span class="id">tvars</span>. <span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="id">monadInv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<h1> Proof of semantic preservation </h1>
<br/>
<h2> Semantic preservation for expressions </h2>
<br/>
<div class="doc">The proof of semantic preservation for the translation of expressions
  relies on simulation diagrams of the following form:
<pre>
         e, le, m, a ------------------- te, le, m, ta
            |                                |
            |                                |
            |                                |
            v                                v
         e, le, m, v ------------------- te, le, m, v</pre>
  Left: evaluation of r-value expression <span class="bracket"><span class="id">a</span></span> in Clight.
  Right: evaluation of its translation <span class="bracket"><span class="id">ta</span></span> in Csharpminor.
  Top (precondition): matching between environments <span class="bracket"><span class="id">e</span></span>, <span class="bracket"><span class="id">te</span></span>,
    plus well-typedness of expression <span class="bracket"><span class="id">a</span></span>.
  Bottom (postcondition): the result values <span class="bracket"><span class="id">v</span></span>
    are identical in both evaluations.
  We state these diagrams as the following properties, parameterized
  by the Clight evaluation. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR">EXPR</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>: <span class="id"><a href="compcert.cfrontend.Clight.html#program">Clight.program</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.LINK">LINK</a></span>: <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.e">e</a></span>: <span class="id"><a href="compcert.cfrontend.Clight.html#env">Clight.env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.le">le</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#temp_env">temp_env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.m">m</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.te">te</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#env">Csharpminor.env</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.EXPR.MENV">MENV</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.te">te</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>:<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span>) ,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>)<br/>
/\(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lvalue">transl_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4829')">Proof.</div>
<div class="proofscript" id="proof4829">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr_lvalue_ind">eval_expr_lvalue_ind</a></span>; <span class="tactic">intros</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>).<br/>
- <span class="comment">(*&nbsp;const&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;const&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_floatconst_correct">make_floatconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;const&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_singleconst_correct">make_singleconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;const&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;temp&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_unop_correct">transl_unop_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_binop_correct">transl_binop_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.GENV_COMPAT">GENV_COMPAT</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.LINK">LINK</a></span> <span class="id">EQ</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.GENV_COMPAT">GENV_COMPAT</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_alignof">transl_alignof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.LINK">LINK</a></span> <span class="id">EQ</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.GENV_COMPAT">GENV_COMPAT</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;rvalue&nbsp;out&nbsp;of&nbsp;lvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_lvalue">transl_expr_lvalue</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tb</span> [<span class="id">TRLVAL</span> <span class="id">MKLOAD</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_load_correct">make_load_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#me_local">me_local</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.MENV">MENV</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_var_addr_local">eval_var_addr_local</a></span>. <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;var&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_var_addr_global">eval_var_addr_global</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_globals">match_env_globals</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_field_access">make_field_access</a></span> <span class="kwd">in</span> <span class="id">EQ0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>)!<span class="id">id</span> <span class="kwd">as</span> [<span class="id">co</span>'|] <span class="id">eqn</span>:<span class="id">CO</span>; <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#field_offset_stable">field_offset_stable</a></span>. <span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.LINK">LINK</a></span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">i</span>). <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">B</span> <span class="kwd">in</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">x0</span> = <span class="id">delta</span>) <span class="tactic">by</span> (<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Ebinop">eval_Ebinop</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_Ebinop">eval_Ebinop</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_field_access">make_field_access</a></span> <span class="kwd">in</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ0</span>; <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_correct">transl_expr_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_expr">transl_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#v">v</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lvalue_correct">transl_lvalue_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lvalue">transl_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ta">ta</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ofs">ofs</a></span>).<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_arglist_correct">transl_arglist_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">tyl</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl">tyl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tal</span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_arglist">transl_arglist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.cunit">cunit</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl">tyl</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tal">tal</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#eval_exprlist">Csharpminor.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tal">tal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4830')">Proof.</div>
<div class="proofscript" id="proof4830">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="typlist_of_arglist_eq">typlist_of_arglist_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">tyl</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl">tyl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#typlist_of_arglist">typlist_of_arglist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl">tyl</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#typlist_of_typelist">typlist_of_typelist</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyl">tyl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4831')">Proof.</div>
<div class="proofscript" id="proof4831">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.EXPR">EXPR</a></span>.<br/>
<br/>
<h2> Semantic preservation for statements </h2>
<br/>
<div class="doc">The simulation diagram for the translation of statements and functions
  is a "plus" diagram of the form
<pre>
           I
     S1 ------- R1
     |          |
   t |        + | t
     v          v
     S2 ------- R2
           I                         I</pre>
The invariant <span class="bracket"><span class="id">I</span></span> is the <span class="bracket"><span class="id">match_states</span></span> predicate that we now define.
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_transl">match_transl</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#stmt">stmt</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">cont</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#stmt">stmt</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">cont</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_transl_0">match_transl_0</a></span>: <span class="kwd">forall</span> <span class="id">ts</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl">match_transl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_transl_1">match_transl_1</a></span>: <span class="kwd">forall</span> <span class="id">ts</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl">match_transl</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_transl_step">match_transl_step</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ts</span> <span class="id">tk</span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id">f</span> <span class="id">te</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl">match_transl</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id">ts</span>' <span class="id">tk</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tse">tse</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4832')">Proof.</div>
<div class="proofscript" id="proof4832">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_cont">match_cont</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Clight.html#cont">Clight.cont</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#cont">Csharpminor.cont</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kstop">match_Kstop</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Kstop">Clight.Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kstop">Kstop</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kseq">match_Kseq</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">s</span> <span class="id">k</span> <span class="id">ts</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kloop1">match_Kloop1</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span> <span class="id">ts1</span> <span class="id">ts2</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 1%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1">s1</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1">ts1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2">s2</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2">ts2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 1%<span class="id">nat</span> 0%<span class="id">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Clight.Kloop1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1">s1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2">s2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2">ts2</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sloop">Sloop</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1">ts1</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2">ts2</a></span>)) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kloop2">match_Kloop2</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span> <span class="id">ts1</span> <span class="id">ts2</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 1%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1">s1</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1">ts1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2">s2</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2">ts2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop2">Clight.Kloop2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s1">s1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s2">s2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sloop">Sloop</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts1">ts1</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts2">ts2</a></span>)) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kswitch">match_Kswitch</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kswitch">Clight.Kswitch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kcall">match_Kcall</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">f</span> <span class="id">e</span> <span class="id">k</span> <span class="id">id</span> <span class="id">tf</span> <span class="id">te</span> <span class="id">le</span> <span class="id">tk</span> <span class="id">cu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span>) <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Clight.html#Kcall">Clight.Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Kcall">Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span>: <span class="id"><a href="compcert.cfrontend.Clight.html#state">Clight.state</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#state">Csharpminor.state</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_state">match_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">s</span> <span class="id">k</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">tf</span> <span class="id">ts</span> <span class="id">tk</span> <span class="id">te</span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id">cu</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRF</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MTR</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl">match_transl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id">ts</span>' <span class="id">tk</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MENV</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MK</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">Clight.State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_callstate">match_callstate</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fptr</span> <span class="id">ty</span> <span class="id">args</span> <span class="id">k</span> <span class="id">m</span> <span class="id">tk</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span> <span class="id">ce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MK</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span> 0%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISCC</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">Clight.is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TYP</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> = (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#targs">targs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres">tres</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cconv">cconv</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Callstate">Clight.Callstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#fptr">fptr</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#fptr">fptr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#targs">targs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres">tres</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cconv">cconv</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_returnstate">match_returnstate</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">res</span> <span class="id">k</span> <span class="id">m</span> <span class="id">tk</span> <span class="id">ce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MK</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span> 0%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Returnstate">Clight.Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#res">res</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>).<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="match_states_skip">match_states_skip</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">e</span> <span class="id">le</span> <span class="id">te</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tf</span> <span class="id">tk</span> <span class="id">m</span> <span class="id">cu</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env">match_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) (<span class="id"><a href="compcert.cfrontend.Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#State">Clight.State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Clight.html#Sskip">Clight.Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#State">State</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#te">te</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#le">le</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4833')">Proof.</div>
<div class="proofscript" id="proof4833">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">reflexivity</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Commutation between label resolution and compilation </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#label">label</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_find_label">transl_find_label</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">ts</span> <span class="id">tk</span><br/>
&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">MC</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#s">s</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">s</span>', <span class="id">k</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ts</span>', <span class="id">exists</span> <span class="id">tk</span>', <span class="id">exists</span> <span class="id">nbrk</span>', <span class="id">exists</span> <span class="id">ncnt</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label">find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ts">ts</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">ts</span>', <span class="id">tk</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">s</span>' = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">ts</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">k</span>' <span class="id">tk</span>'<br/>
&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="transl_find_label_ls">transl_find_label_ls</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tls</span> <span class="id">tk</span><br/>
&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_lbl_stmt">transl_lbl_stmt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ls">ls</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tls">tls</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">MC</span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Clight.html#find_label_ls">Clight.find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ls">ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tls">tls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">s</span>', <span class="id">k</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ts</span>', <span class="id">exists</span> <span class="id">tk</span>', <span class="id">exists</span> <span class="id">nbrk</span>', <span class="id">exists</span> <span class="id">ncnt</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csharpminor.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tls">tls</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">ts</span>', <span class="id">tk</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_statement">transl_statement</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">s</span>' = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">ts</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">k</span>' <span class="id">tk</span>'<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4834')">Proof.</div>
<div class="proofscript" id="proof4834">
* <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">case</span> <span class="id">s</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>); <span class="tactic">simpl</span>.<br/>
- <span class="comment">(*&nbsp;skip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_memcpy">make_memcpy</a></span> <span class="kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">e</span>)); <span class="id">monadInv</span> <span class="id">EQ3</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">e</span>)); <span class="id">monadInv</span> <span class="id">TR</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> <span class="id">s1</span> <span class="id">k</span>)); <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> <span class="id">s1</span> <span class="id">k</span>)) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> <span class="id">k</span>) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span> 1%<span class="id">nat</span> 0%<span class="id">nat</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">s0</span> <span class="id">s1</span> <span class="id">k</span>)); <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kloop1">Kloop1</a></span> <span class="id">s0</span> <span class="id">s1</span> <span class="id">k</span>)) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;break&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;continue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">destruct</span> <span class="id">o</span>; <span class="id">monadInv</span> <span class="id">TR</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b</span>, <span class="id">ts</span> = <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sswitch">Sswitch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id">x</span> <span class="id">x0</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">e</span>)); <span class="id">inv</span> <span class="id">EQ2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">b</span> <span class="id">EQ3</span>]; <span class="tactic">rewrite</span> <span class="id">EQ3</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label_ls</span> <span class="kwd">with</span> (<span class="id">k</span> := <span class="id"><a href="compcert.cfrontend.Clight.html#Kswitch">Clight.Kswitch</a></span> <span class="id">k</span>); <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">x</span>; <span class="id">exists</span> <span class="id">tk</span>; <span class="id">exists</span> <span class="id">nbrk</span>; <span class="id">exists</span> <span class="id">ncnt</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
<br/>
* <span class="tactic">intro</span> <span class="id">ls</span>; <span class="tactic">case</span> <span class="id">ls</span>; <span class="tactic">intros</span>; <span class="id">monadInv</span> <span class="id">TR</span>; <span class="tactic">simpl</span>.<br/>
- <span class="comment">(*&nbsp;nil&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">l</span>) <span class="id">k</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lbl_stmt_2">transl_lbl_stmt_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL.lbl">lbl</a></span> <span class="id">s</span> (<span class="id"><a href="compcert.cfrontend.Clight.html#Kseq">Clight.Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">l</span>) <span class="id">k</span>)) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label_ls</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<br/>
<div class="doc">Properties of call continuations </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_cont_call_cont">match_cont_call_cont</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>' (<span class="id"><a href="compcert.cfrontend.Clight.html#call_cont">Clight.call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#call_cont">call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4835')">Proof.</div>
<div class="proofscript" id="proof4835">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_cont_is_call_cont">match_cont_is_call_cont</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tk</span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ce">ce</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tyret">tyret</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#nbrk">nbrk</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#ncnt">ncnt</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Clight.html#is_call_cont">Clight.is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont">match_cont</a></span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span> /\ <span class="id"><a href="compcert.cfrontend.Csharpminor.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tk">tk</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4836')">Proof.</div>
<div class="proofscript" id="proof4836">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_type_implies_sig">function_type_implies_sig</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TYP</span>: <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_function">type_of_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#targs">targs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres">tres</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cconv">cconv</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SIG</span>: <span class="id"><a href="compcert.cfrontend.Cshmgen.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#f">f</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#targs">targs</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tres">tres</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cconv">cconv</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4837')">Proof.</div>
<div class="proofscript" id="proof4837">
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#signature_of_function">signature_of_function</a></span>, <span class="id"><a href="compcert.cfrontend.Clight.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_params_types">transl_params_types</a></span>. <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The simulation proof </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_step">transl_step</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">S1</span> <span class="id">t</span> <span class="id">S2</span>, <span class="id"><a href="compcert.cfrontend.Clight.html#step2">Clight.step2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S1">S1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S2">S2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">T1</span>, <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S1">S1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T1">T1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">T2</span>, <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tse">tse</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T1">T1</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T2">T2</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S2">S2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#T2">T2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4838')">Proof.</div>
<div class="proofscript" id="proof4838">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">T1</span> <span class="id">MST</span>; <span class="id">inv</span> <span class="id">MST</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAME</span>: <span class="id">ts</span>' = <span class="id">ts</span> /\ <span class="id">tk</span>' = <span class="id">tk</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">inversion</span> <span class="id">MTR</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">ts</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_store">make_store</a></span>, <span class="id"><a href="compcert.cfrontend.Cshmgen.html#make_memcpy">make_memcpy</a></span> <span class="kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a1</span>)); <span class="id">monadInv</span> <span class="id">EQ3</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SAME</span>; <span class="tactic">subst</span> <span class="id">ts</span>' <span class="id">tk</span>'.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_store_correct">make_store_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lvalue_correct">transl_lvalue_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.GENV_COMPAT">GENV_COMPAT</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">TR</span>. <span class="tactic">simpl</span>. <span class="id">case_eq</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a</span>)); <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cc</span> <span class="id">CF</span> <span class="id">TR</span>. <span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">CF</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CF</span>. <span class="id">inv</span> <span class="id">CF</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">with</span> (<span class="id">cunit</span> := <span class="id">cu</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_arglist_correct">transl_arglist_correct</a></span> <span class="kwd">with</span> (<span class="id">cunit</span> := <span class="id">cu</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#typlist_of_arglist_eq">typlist_of_arglist_eq</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_Kcall">match_Kcall</a></span> <span class="kwd">with</span> (<span class="id">ce</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>) (<span class="id">cu</span> := <span class="id">cu</span>); <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_arglist_correct">transl_arglist_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.se">se</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;skip&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_skip_seq">step_skip_seq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;continue&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">reflexivity</span>. <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;break&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">reflexivity</span>. <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_boolean_correct">make_boolean_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_ifthenelse">step_ifthenelse</a></span> <span class="kwd">with</span> (<span class="id">v</span> := <span class="id">v</span>) (<span class="id">b</span> := <span class="id">b</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl_step">match_transl_step</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>. <span class="tactic">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;skip-or-continue&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id">ts</span>' = <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> \/ <span class="id">ts</span>' = <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sexit">Sexit</a></span> <span class="id">ncnt</span>) /\ <span class="id">tk</span>' = <span class="id">tk</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">subst</span> <span class="id">x</span>; <span class="id">monadInv</span> <span class="id">TR</span>; <span class="id">inv</span> <span class="id">MTR</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">ts</span>'. 2:<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;break&nbsp;loop1&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>. <span class="tactic">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;skip&nbsp;loop2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">H8</span>; <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;break&nbsp;loop2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;return&nbsp;none&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_free_blocks">match_env_free_blocks</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="kwd">with</span> (<span class="id">ce</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;return&nbsp;some&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#make_cast_correct">make_cast_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_free_blocks">match_env_free_blocks</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="kwd">with</span> (<span class="id">ce</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;skip&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_is_call_cont">match_cont_is_call_cont</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_skip_call">step_skip_call</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_free_blocks">match_env_free_blocks</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="kwd">with</span> (<span class="id">ce</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>); <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E</span>: <span class="id">exists</span> <span class="id">b</span>, <span class="id">ts</span> = <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sblock">Sblock</a></span> (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sswitch">Sswitch</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id">x</span> <span class="id">x0</span>) /\ <span class="id"><a href="compcert.common.Switch.html#switch_argument">Switch.switch_argument</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#b">b</a></span> <span class="id">v</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#sem_switch_arg">sem_switch_arg</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#typeof">typeof</a></span> <span class="id">a</span>)); <span class="id">inv</span> <span class="id">EQ2</span>; <span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">E</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="tactic">subst</span> <span class="id">ts</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_expr_correct">transl_expr_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">EV</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_transl_step">match_transl_step</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lbl_stmt_2">transl_lbl_stmt_2</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_lbl_stmt_1">transl_lbl_stmt_1</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;skip&nbsp;or&nbsp;break&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id">ts</span>' = <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sskip">Sskip</a></span> \/ <span class="id">ts</span>' = <span class="id"><a href="compcert.cfrontend.Csharpminor.html#Sexit">Sexit</a></span> <span class="id">nbrk</span>) /\ <span class="id">tk</span>' = <span class="id">tk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">subst</span> <span class="id">x</span>; <span class="id">monadInv</span> <span class="id">TR</span>; <span class="id">inv</span> <span class="id">MTR</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">ts</span>'. 2:<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states_skip">match_states_skip</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;continue&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>. <span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">reflexivity</span>. <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">TRF</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span>. <span class="tactic">intro</span> <span class="id">TRF</span>'. <span class="id">monadInv</span> <span class="id">TRF</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_find_label">transl_find_label</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cu</span>) <span class="id">lbl</span>). <span class="id">eexact</span> <span class="id">EQ</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>'' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>. <span class="tactic">simpl</span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">cu</span> (<span class="id">tf</span>: <span class="id"><a href="compcert.cfrontend.Csharpminor.html#function">function</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">LINK</span>: <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span>) <span class="id">f</span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FPTR</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id">fptr</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#tf">tf</a></span>)&gt;&gt;).<br/>
&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#functions_translated">functions_translated</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_is_call_cont">match_cont_is_call_cont</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_alloc_variables">match_env_alloc_variables</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_env_empty">match_env_empty</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">te1</span> [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csharpminor.html#step_internal_function">step_internal_function</a></span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#function_type_implies_sig">function_type_implies_sig</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_vars_names">transl_vars_names</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#create_undef_temps_match">create_undef_temps_match</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#bind_parameter_temps_match">bind_parameter_temps_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cshmgen.html#transl_function">transl_function</a></span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">EQ1</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;external&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">cu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">LINK</span>: <span class="id"><a href="compcert.common.Linking.html#linkorder">linkorder</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#cu">cu</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transl_fundef&nbsp;(prog_comp_env&nbsp;cu)&nbsp;(External&nbsp;ef&nbsp;targs&nbsp;tres&nbsp;cconv)&nbsp;=&nbsp;OK&nbsp;tf&nbsp;/\&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FPTR</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA.tge">tge</a></span> <span class="id">fptr</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#External">AST.External</a></span> <span class="id">ef</span>)&gt;&gt;).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#functions_translated">functions_translated</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_cont_is_call_cont">match_cont_is_call_cont</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. { <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_returnstate">match_returnstate</a></span> <span class="kwd">with</span> (<span class="id">ce</span> := <span class="id">ce</span>); <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;returnstate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">reflexivity</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.CORELEMMA">CORELEMMA</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.WHOLE">WHOLE</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="CORRECTNESS.WHOLE.ge">ge</a></span> := <span class="id"><a href="compcert.cfrontend.Clight.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="CORRECTNESS.WHOLE.tge">tge</a></span> := <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="CORRECTNESS.WHOLE.GENV_COMPAT">GENV_COMPAT</a></span>: <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>) = <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Clight.html#genv_cenv">genv_cenv</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4839')">Proof.</div>
<div class="proofscript" id="proof4839">
 <span class="id">ss</span>. Qed.</div>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="CORRECTNESS.WHOLE.MATCH_GENV">MATCH_GENV</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="compcert.common.Linking.html#match_globdef">match_globdef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_varinfo">match_varinfo</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>) <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4840')">Proof.</div>
<div class="proofscript" id="proof4840">
 <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenvs_match">Genv.globalenvs_match</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_initial_states">transl_initial_states</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">S</span>, <span class="id"><a href="compcert.cfrontend.Clight.html#initial_state">Clight.initial_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S">S</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">R</span>, <span class="id"><a href="compcert.cfrontend.Csharpminor.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R">R</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R">R</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4841')">Proof.</div>
<div class="proofscript" id="proof4841">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">D</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE.tge">tge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span> <span class="kwd">as</span> (<span class="id">P</span> &amp; <span class="id">Q</span> &amp; <span class="id">R</span>). <span class="tactic">rewrite</span> <span class="id">Q</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#symbols_preserved">symbols_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_match">Genv.init_mem_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">unshelve</span> <span class="id">rpapply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_callstate">match_callstate</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_final_states">transl_final_states</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">S</span> <span class="id">R</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R">R</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Clight.html#final_state">Clight.final_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#r">r</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csharpminor.html#final_state">final_state</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#R">R</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#r">r</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4842')">Proof.</div>
<div class="proofscript" id="proof4842">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MK</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transl_program_correct">transl_program_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.cfrontend.Clight.html#semantics2">Clight.semantics2</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.prog">prog</a></span>) (<span class="id"><a href="compcert.cfrontend.Csharpminor.html#semantics">Csharpminor.semantics</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.tprog">tprog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4843')">Proof.</div>
<div class="proofscript" id="proof4843">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_plus">forward_simulation_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#senv_preserved">senv_preserved</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_initial_states">transl_initial_states</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_final_states">transl_final_states</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#transl_step">transl_step</a></span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_match">Genv.senv_match</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.TRANSL">TRANSL</a></span>); <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS.WHOLE">WHOLE</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#CORRECTNESS">CORRECTNESS</a></span>.<br/>
<br/>
<h2> Commutation with linking </h2>
<br/>
<span class="kwd">Instance</span> <span class="id"><a name="TransfCshmgenLink">TransfCshmgenLink</a></span> : <span class="id"><a href="compcert.common.Linking.html#TransfLink">TransfLink</a></span> <span class="id"><a href="compcert.cfrontend.Cshmgenproof.html#match_prog">match_prog</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4844')">Proof.</div>
<div class="proofscript" id="proof4844">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Linking.html#link_linkorder">link_linkorder</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> (<span class="id">LO1</span> &amp; <span class="id">LO2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span>.<br/>
<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Linker_program">Ctypes.Linker_program</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#link_program">link_program</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#program_of_program">program_of_program</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#program_of_program">program_of_program</a></span> <span class="id">p2</span>)) <span class="kwd">as</span> [<span class="id">pp</span>|] <span class="id">eqn</span>:<span class="id">LP</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#lift_option">lift_option</a></span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p2</span>))) <span class="kwd">as</span> [[<span class="id">typs</span> <span class="id">EQ</span>]|<span class="id">P</span>]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#link_build_composite_env">link_build_composite_env</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_types">prog_types</a></span> <span class="id">p2</span>) <span class="id">typs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">p1</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">p2</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span> <span class="id">p1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span> <span class="id">p2</span>) <span class="id">EQ</span>) <span class="kwd">as</span> (<span class="id">env</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Linking.html#link_match_program">Linking.link_match_program</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">intros</span>.<br/>
<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Linker_fundef">Linker_fundef</a></span> <span class="id"><a href="compcert.common.Linking.html#Linker_fundef">Linking.Linker_fundef</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
+ <span class="tactic">discriminate</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ef</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">left</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ef</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">right</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">des_ifs</span>; <span class="tactic">eauto</span>. <span class="id">InvBooleans</span>. <span class="id">clarify</span>. <span class="id">esplits</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>; <span class="id">constructor</span>. <span class="tactic">congruence</span>.<br/>
- <span class="tactic">intros</span>. <span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#program_of_program">program_of_program</a></span> <span class="id">p</span>) <span class="kwd">with</span> <span class="id">pp</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">E</span>; <span class="tactic">destruct</span> <span class="id">pp</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
