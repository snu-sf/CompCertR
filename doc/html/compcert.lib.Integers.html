
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Integers</title>
<meta name="description" content="Documentation of Coq module Integers" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Integers</h1>
<div class="coq">
<br/>
<div class="doc">Formalizations of machine integers modulo $2^N$ 2<sup>N</sup>. </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Eqdep_dec.html">Eqdep_dec</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zquot.html">Zquot</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zwf.html">Zwf</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.x86_64.Archi.html">Archi</a></span>.<br/>
<br/>
<h1> Comparisons </h1>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="comparison">comparison</a></span> : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Ceq">Ceq</a></span> : <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>               <span class="docright">(* same  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cne">Cne</a></span> : <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>               <span class="docright">(* different  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Clt">Clt</a></span> : <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>               <span class="docright">(* less than  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cle">Cle</a></span> : <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>               <span class="docright">(* less than or equal  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cgt">Cgt</a></span> : <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>               <span class="docright">(* greater than  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cge">Cge</a></span> : <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>.              <span class="docright">(* greater than or equal  *)</span><br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="negate_comparison">negate_comparison</a></span> (<span class="id">c</span>: <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>): <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="swap_comparison">swap_comparison</a></span> (<span class="id">c</span>: <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>): <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Parameterization by the word size, in bits. </h1>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="WORDSIZE">WORDSIZE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="WORDSIZE.wordsize">wordsize</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="WORDSIZE.wordsize_not_zero">wordsize_not_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#WORDSIZE.wordsize">wordsize</a></span> &lt;&gt; 0%<span class="id">nat</span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#WORDSIZE">WORDSIZE</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Unset</span> <span class="id">Elimination</span> <span class="id">Schemes</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Unset</span> <span class="id">Case</span> <span class="id">Analysis</span> <span class="id">Schemes</span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Make">Make</a></span>(<span class="id">WS</span>: <span class="id"><a href="compcert.lib.Integers.html#WORDSIZE">WORDSIZE</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.wordsize">wordsize</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> := <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize">WS.wordsize</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.zwordsize">zwordsize</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.modulus">modulus</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.half_modulus">half_modulus</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> / 2.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.max_unsigned">max_unsigned</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - 1.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.max_signed">max_signed</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> - 1.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.min_signed">min_signed</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := - <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.wordsize_pos">wordsize_pos</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> &gt; 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof385')">Proof.</div>
<div class="proofscript" id="proof385">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize_not_zero">WS.wordsize_not_zero</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.modulus_power">modulus_power</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof386')">Proof.</div>
<div class="proofscript" id="proof386">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.modulus_pos">modulus_pos</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> &gt; 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof387')">Proof.</div>
<div class="proofscript" id="proof387">
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<h1> Representation of machine integers </h1>
<br/>
<div class="doc">A machine integer (type <span class="bracket"><span class="id">int</span></span>) is represented as a Coq arbitrary-precision
  integer (type <span class="bracket"><span class="id">Z</span></span>) plus a proof that it is in the range 0 (included) to
  <span class="bracket"><span class="id">modulus</span></span> (excluded). </div>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="Make.int">int</a></span>: <span class="kwd">Type</span> := <span class="id"><a name="Make.mkint">mkint</a></span> { <span class="id"><a name="Make.intval">intval</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>; <span class="id"><a name="Make.intrange">intrange</a></span>: -1 &lt; <span class="id"><a href="compcert.lib.Integers.html#intval">intval</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> }.<br/>
<br/>
<div class="doc">Fast normalization modulo <span class="bracket">2^<span class="id">wordsize</span></span> </div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="Make.P_mod_two_p">P_mod_two_p</a></span> (<span class="id">p</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) {<span class="kwd">struct</span> <span class="id">n</span>} : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; 0<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">q</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.double">Z.double</a></span> (<span class="id"><a href="compcert.lib.Integers.html#P_mod_two_p">P_mod_two_p</a></span> <span class="id">q</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xI">xI</a></span> <span class="id">q</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ_double">Z.succ_double</a></span> (<span class="id"><a href="compcert.lib.Integers.html#P_mod_two_p">P_mod_two_p</a></span> <span class="id">q</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.Z_mod_modulus">Z_mod_modulus</a></span> (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; 0<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span> =&gt; <span class="kwd">let</span> <span class="id">r</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="kwd">in</span> <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#r">r</a></span> 0 <span class="kwd">then</span> 0 <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - <span class="id"><a href="compcert.lib.Integers.html#r">r</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.P_mod_two_p_range">P_mod_two_p_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">p</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof388')">Proof.</div>
<div class="proofscript" id="proof388">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_O">two_power_nat_O</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>. <span class="tactic">destruct</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">generalize</span> (<span class="id">IHn</span> <span class="id">p</span>). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ_double_spec">Z.succ_double_spec</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">generalize</span> (<span class="id">IHn</span> <span class="id">p</span>). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.double_spec">Z.double_spec</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span> <span class="id">n</span>). <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.P_mod_two_p_eq">P_mod_two_p_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span>) <span class="id">mod</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof389')">Proof.</div>
<div class="proofscript" id="proof389">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">n</span> <span class="id">p</span>, <span class="id">exists</span> <span class="id">y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_O">two_power_nat_O</a></span>. <span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>). <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>. <span class="tactic">destruct</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id">IHn</span> <span class="id">p</span>) <span class="kwd">as</span> [<span class="id">y</span> <span class="id">EQ</span>]. <span class="id">exists</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>~1) <span class="kwd">with</span> (2 * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> + 1). <span class="tactic">rewrite</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ_double_spec">Z.succ_double_spec</a></span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id">IHn</span> <span class="id">p</span>) <span class="kwd">as</span> [<span class="id">y</span> <span class="id">EQ</span>]. <span class="id">exists</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>~0) <span class="kwd">with</span> (2 * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>). <span class="tactic">rewrite</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.double_spec">Z.double_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id">n</span>)). <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exists</span> 0; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">H</span> <span class="id">n</span> <span class="id">p</span>) <span class="kwd">as</span> [<span class="id">y</span> <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> <span class="id">y</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p_range">P_mod_two_p_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Z_mod_modulus_range">Z_mod_modulus_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof390')">Proof.</div>
<div class="proofscript" id="proof390">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos</a></span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p_range">P_mod_two_p_range</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">set</span> (<span class="id">r</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">r</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p_range">P_mod_two_p_range</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">r</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos</a></span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">Psatz.lia</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Z_mod_modulus_range</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, -1 &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof391')">Proof.</div>
<div class="proofscript" id="proof391">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_range">Z_mod_modulus_range</a></span> <span class="id">x</span>); <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Z_mod_modulus_eq">Z_mod_modulus_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof392')">Proof.</div>
<div class="proofscript" id="proof392">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span>. <span class="tactic">destruct</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zmod_0_l">Zmod_0_l</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p_eq">P_mod_two_p_eq</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p_range">P_mod_two_p_range</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="id">p</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p_eq">P_mod_two_p_eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">intros</span> <span class="id">A</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos</a></span>. <span class="tactic">intros</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">q</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> / <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">r</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.P_mod_two_p">P_mod_two_p</a></span> <span class="id">p</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">B</span> <span class="kwd">in</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.neg">Z.neg</a></span> <span class="id">p</span>) <span class="kwd">with</span> (- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">p</span>)). <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">r</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-<span class="id">q</span>). <span class="tactic">rewrite</span> <span class="id">C</span>; <span class="tactic">rewrite</span> <span class="id">e</span>. <span class="id">Psatz.lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-<span class="id">q</span> - 1). <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="id">Psatz.lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The <span class="bracket"><span class="id">unsigned</span></span> and <span class="bracket"><span class="id">signed</span></span> functions return the Coq integer corresponding
  to the given machine integer, interpreted as unsigned or signed
  respectively. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.unsigned">unsigned</a></span> (<span class="id">n</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.intval">intval</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.signed">signed</a></span> (<span class="id">n</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<br/>
<div class="doc">Conversely, <span class="bracket"><span class="id">repr</span></span> takes a Coq integer and returns the corresponding
  machine integer.  The argument is treated modulo <span class="bracket"><span class="id">modulus</span></span>. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.repr">repr</a></span> (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.mkint">mkint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus">Z_mod_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id">Z_mod_modulus_range</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.zero">zero</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> 0.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.one">one</a></span>  := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> 1.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.mone">mone</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (-1).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.iwordsize">iwordsize</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.mkint_eq">mkint_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Px</span> <span class="id">Py</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.mkint">mkint</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Px">Px</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mkint">mkint</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Py">Py</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof393')">Proof.</div>
<div class="proofscript" id="proof393">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> (<span class="id">n</span> <span class="id">m</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">P1</span> <span class="id">P2</span>: <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span>), <span class="id"><a href="compcert.lib.Integers.html#P1">P1</a></span> = <span class="id"><a href="compcert.lib.Integers.html#P2">P2</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt">Z.lt</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Eqdep_dec.html#eq_proofs_unicity">eq_proofs_unicity</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">c1</span> <span class="id">c2</span>. <span class="tactic">destruct</span> <span class="id">c1</span>; <span class="tactic">destruct</span> <span class="id">c2</span>; (<span class="id">left</span>; <span class="tactic">reflexivity</span>) || (<span class="id">right</span>; <span class="tactic">congruence</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Px</span> <span class="kwd">as</span> [<span class="id">Px1</span> <span class="id">Px2</span>]. <span class="tactic">destruct</span> <span class="id">Py</span> <span class="kwd">as</span> [<span class="id">Py1</span> <span class="id">Py2</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px1</span> <span class="id">Py1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Px2</span> <span class="id">Py2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eq_dec">eq_dec</a></span>: <span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>), {<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>} + {<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof394')">Proof.</div>
<div class="proofscript" id="proof394">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">intval0</span> <span class="id">intval1</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">red</span>; <span class="tactic">intro</span>. <span class="tactic">injection</span> <span class="id">H</span>. <span class="tactic">exact</span> <span class="id">n</span>.<br/>
Defined.</div>
<br/>
<h1> Arithmetic and logical operations over machine integers </h1>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.lt">lt</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.ltu">ltu</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.neg">neg</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (- <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.add">add</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.sub">sub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.mul">mul</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.divs">divs</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.mods">mods</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.divu">divu</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> / <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.modu">modu</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id">mod</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<br/>
<div class="doc">Bitwise boolean operations. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.and">and</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.or">or</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.xor">xor</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lxor">Z.lxor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.not">not</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<br/>
<div class="doc">Shifts and rotates. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.shl">shl</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.shru">shru</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.shr">shr</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.rol">rol</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">n</span> := (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>))).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.ror">ror</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">n</span> := (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>))).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.rolm">rolm</a></span> (<span class="id">x</span> <span class="id">a</span> <span class="id">m</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span>.<br/>
<br/>
<div class="doc">Viewed as signed divisions by powers of two, <span class="bracket"><span class="id">shrx</span></span> rounds towards
  zero, while <span class="bracket"><span class="id">shr</span></span> rounds towards minus infinity. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.shrx">shrx</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<br/>
<div class="doc">High half of full multiply. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.mulhu">mulhu</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) / <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.mulhs">mulhs</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) / <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<br/>
<div class="doc">Condition flags </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.negative">negative</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.add_carry">add_carry</a></span> (<span class="id">x</span> <span class="id">y</span> <span class="id">cin</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#cin">cin</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.add_overflow">add_overflow</a></span> (<span class="id">x</span> <span class="id">y</span> <span class="id">cin</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#cin">cin</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#s">s</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#s">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.sub_borrow">sub_borrow</a></span> (<span class="id">x</span> <span class="id">y</span> <span class="id">bin</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#bin">bin</a></span>) 0 <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.sub_overflow">sub_overflow</a></span> (<span class="id">x</span> <span class="id">y</span> <span class="id">bin</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#bin">bin</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#s">s</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#s">s</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">shr_carry</span> <span class="id">x</span> <span class="id">y</span></span> is 1 if <span class="bracket"><span class="id">x</span></span> is negative and at least one 1 bit is shifted away. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.shr_carry">shr_carry</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<div class="doc">Zero and sign extensions </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.Zshiftin">Zshiftin</a></span> (<span class="id">b</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ_double">Z.succ_double</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.double">Z.double</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<br/>
<div class="doc">In pseudo-code:
<pre>
    Fixpoint Zzero_ext (n: Z) (x: Z) : Z :=
      if zle n 0 then
        0
      else
        Zshiftin (Z.odd x) (Zzero_ext (Z.pred n) (Z.div2 x)).
    Fixpoint Zsign_ext (n: Z) (x: Z) : Z :=
      if zle n 1 then
        if Z.odd x then -1 else 0
      else
        Zshiftin (Z.odd x) (Zzero_ext (Z.pred n) (Z.div2 x)).</pre>
  We encode this <span class="bracket"><span class="id">nat</span></span>-like recursion using the <span class="bracket"><span class="id">Z.iter</span></span> iteration
  function, in order to make the <span class="bracket"><span class="id">Zzero_ext</span></span> and <span class="bracket"><span class="id">Zsign_ext</span></span>
  functions efficiently executable within Coq.
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.Zzero_ext">Zzero_ext</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">rec</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#rec">rec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.Zsign_ext">Zsign_ext</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">rec</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#rec">rec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="kwd">then</span> -1 <span class="kwd">else</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.zero_ext">zero_ext</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zzero_ext">Zzero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.sign_ext">sign_ext</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsign_ext">Zsign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)).<br/>
<br/>
<div class="doc">Decomposition of a number as a sum of powers of two. </div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="Make.Z_one_bits">Z_one_bits</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">i</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) {<span class="kwd">struct</span> <span class="id">n</span>}: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> :: <span class="id"><a href="compcert.lib.Integers.html#Z_one_bits">Z_one_bits</a></span> <span class="id">m</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>+1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Z_one_bits">Z_one_bits</a></span> <span class="id">m</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>+1)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.one_bits">one_bits</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) 0).<br/>
<br/>
<div class="doc">Recognition of powers of two. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.is_power2">is_power2</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">i</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Comparisons. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.cmp">cmp</a></span> (<span class="id">c</span>: <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.cmpu">cmpu</a></span> (<span class="id">c</span>: <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.is_false">is_false</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="kwd">Prop</span> := <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.is_true">is_true</a></span>  (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="kwd">Prop</span> := <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.notbool">notbool</a></span>  (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>  := <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<br/>
<div class="doc">x86-style extended division and modulus </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.divmodu2">divmodu2</a></span> (<span class="id">nhi</span> <span class="id">nlo</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span class="id">d</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_dec">eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="kwd">let</span> (<span class="id">q</span>, <span class="id">r</span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#nhi">nhi</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#nlo">nlo</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#q">q</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#q">q</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#r">r</a></span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.divmods2">divmods2</a></span> (<span class="id">nhi</span> <span class="id">nlo</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span class="id">d</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_dec">eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="kwd">let</span> (<span class="id">q</span>, <span class="id">r</span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quotrem">Z.quotrem</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#nhi">nhi</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#nlo">nlo</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#q">q</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> <span class="id"><a href="compcert.lib.Integers.html#q">q</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#q">q</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#r">r</a></span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<h1> Properties of integers and integer arithmetic </h1>
<br/>
<h2> Properties of <span class="bracket"><span class="id">modulus</span></span>, <span class="bracket"><span class="id">max_unsigned</span></span>, etc. </h2>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.half_modulus_power">half_modulus_power</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof395')">Proof.</div>
<div class="proofscript" id="proof395">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ws1</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id">ws1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_S">two_p_S</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mult">Z_div_mult</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">ws1</span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">ws1</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.half_modulus_modulus">half_modulus_modulus</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof396')">Proof.</div>
<div class="proofscript" id="proof396">
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_S">two_p_S</a></span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Relative positions, from greatest to smallest:
<pre>
      max_unsigned
      max_signed
      2*wordsize-1
      wordsize
      0
      min_signed</pre>
</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.half_modulus_pos">half_modulus_pos</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> &gt; 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof397')">Proof.</div>
<div class="proofscript" id="proof397">
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.min_signed_neg">min_signed_neg</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt; 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof398')">Proof.</div>
<div class="proofscript" id="proof398">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.max_signed_pos">max_signed_pos</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> &gt;= 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof399')">Proof.</div>
<div class="proofscript" id="proof399">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof400')">Proof.</div>
<div class="proofscript" id="proof400">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_strict">two_p_strict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned</a></span>: 2 * <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof401')">Proof.</div>
<div class="proofscript" id="proof401">
&nbsp;&nbsp;<span class="tactic">assert</span> (2 * <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1 &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_strict_2">two_p_strict_2</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.max_signed_unsigned">max_signed_unsigned</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof402')">Proof.</div>
<div class="proofscript" id="proof402">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.unsigned_repr_eq">unsigned_repr_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof403')">Proof.</div>
<div class="proofscript" id="proof403">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_eq">Z_mod_modulus_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.signed_repr_eq">signed_repr_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof404')">Proof.</div>
<div class="proofscript" id="proof404">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Modulo arithmetic </h2>
<br/>
<div class="doc">We define and state properties of equality and arithmetic modulo a
  positive integer. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Make.EQ_MODULO">EQ_MODULO</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Make.EQ_MODULO.modul">modul</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Make.EQ_MODULO.modul_pos">modul_pos</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> &gt; 0.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.eqmod">eqmod</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> := <span class="id">exists</span> <span class="id">k</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#k">k</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> + <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_refl">eqmod_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof405')">Proof.</div>
<div class="proofscript" id="proof405">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>. <span class="id">exists</span> 0. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_refl2">eqmod_refl2</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof406')">Proof.</div>
<div class="proofscript" id="proof406">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">y</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_sym">eqmod_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof407')">Proof.</div>
<div class="proofscript" id="proof407">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> [<span class="id">k</span> <span class="id">EQ</span>]; <span class="tactic">red</span>. <span class="id">exists</span> (-<span class="id">k</span>). <span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_trans">eqmod_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof408')">Proof.</div>
<div class="proofscript" id="proof408">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span> [<span class="id">k1</span> <span class="id">EQ1</span>] [<span class="id">k2</span> <span class="id">EQ2</span>]; <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">k1</span> + <span class="id">k2</span>). <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">subst</span> <span class="id">y</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_small_eq">eqmod_small_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof409')">Proof.</div>
<div class="proofscript" id="proof409">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> [<span class="id">k</span> <span class="id">EQ</span>] <span class="id">I1</span> <span class="id">I2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_unique">Zdiv_unique</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span> <span class="id">I2</span>). <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_small">Zdiv_small</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> <span class="id">I1</span>) <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">k</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_mod_eq">eqmod_mod_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof410')">Proof.</div>
<div class="proofscript" id="proof410">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> [<span class="id">k</span> <span class="id">EQ</span>]. <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_comm">Z.add_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_plus">Z_mod_plus</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_mod">eqmod_mod</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof411')">Proof.</div>
<div class="proofscript" id="proof411">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>. <span class="id">exists</span> (<span class="id">x</span> / <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_add">eqmod_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> + <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> + <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof412')">Proof.</div>
<div class="proofscript" id="proof412">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span> [<span class="id">k1</span> <span class="id">EQ1</span>] [<span class="id">k2</span> <span class="id">EQ2</span>]; <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>; <span class="tactic">subst</span> <span class="id">c</span>. <span class="id">exists</span> (<span class="id">k1</span> + <span class="id">k2</span>). <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_neg">eqmod_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (-<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (-<span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof413')">Proof.</div>
<div class="proofscript" id="proof413">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> [<span class="id">k</span> <span class="id">EQ</span>]; <span class="tactic">red</span>. <span class="id">exists</span> (-<span class="id">k</span>). <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_sub">eqmod_sub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> - <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> - <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof414')">Proof.</div>
<div class="proofscript" id="proof414">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span> [<span class="id">k1</span> <span class="id">EQ1</span>] [<span class="id">k2</span> <span class="id">EQ2</span>]; <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>; <span class="tactic">subst</span> <span class="id">c</span>. <span class="id">exists</span> (<span class="id">k1</span> - <span class="id">k2</span>). <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_mult">eqmod_mult</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> * <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> * <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof415')">Proof.</div>
<div class="proofscript" id="proof415">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span> [<span class="id">k1</span> <span class="id">EQ1</span>] [<span class="id">k2</span> <span class="id">EQ2</span>]; <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>; <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">k1</span> * <span class="id">k2</span> * <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO.modul">modul</a></span> + <span class="id">c</span> * <span class="id">k2</span> + <span class="id">k1</span> * <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Make.EQ_MODULO">EQ_MODULO</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_divides">eqmod_divides</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof416')">Proof.</div>
<div class="proofscript" id="proof416">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">k1</span> <span class="id">EQ1</span>]. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">k2</span> <span class="id">EQ2</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">k1</span>*<span class="id">k2</span>). <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_assoc">Z.mul_assoc</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">EQ2</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">We then specialize these definitions to equality modulo
  $2^{wordsize}$ 2<sup>wordsize</sup>. </div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">modulus_pos</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.eqm">eqm</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_refl">eqm_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_refl</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_refl2">eqm_refl2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl2">eqmod_refl2</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_refl2</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_sym">eqm_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sym">eqmod_sym</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_sym</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_trans">eqm_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_trans">eqmod_trans</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_trans</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_small_eq">eqm_small_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_small_eq">eqmod_small_eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_small_eq</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_add">eqm_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> + <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> + <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_add">eqmod_add</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_add</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_neg">eqm_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (-<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (-<span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_neg">eqmod_neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_neg</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_sub">eqm_sub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> - <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> - <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sub">eqmod_sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_sub</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_mult">eqm_mult</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> * <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> * <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mult">eqmod_mult</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_mult</span>: <span class="id">ints</span>.<br/>
<br/>
<h2> Properties of the coercions between <span class="bracket"><span class="id">Z</span></span> and <span class="bracket"><span class="id">int</span></span> </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_samerepr">eqm_samerepr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof417')">Proof.</div>
<div class="proofscript" id="proof417">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_eq">Z_mod_modulus_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">exact</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof418')">Proof.</div>
<div class="proofscript" id="proof418">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod">eqmod_mod</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_unsigned_repr</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof419')">Proof.</div>
<div class="proofscript" id="proof419">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_unsigned_repr_l</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof420')">Proof.</div>
<div class="proofscript" id="proof420">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> <span class="id">b</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">eqm_unsigned_repr_r</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof421')">Proof.</div>
<div class="proofscript" id="proof421">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">set</span> (<span class="id">y</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>. <span class="tactic">red</span>; <span class="id">exists</span> (-1); <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_range">unsigned_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof422')">Proof.</div>
<div class="proofscript" id="proof422">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>. <span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">unsigned_range</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_range_2">unsigned_range_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof423')">Proof.</div>
<div class="proofscript" id="proof423">
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">i</span>). <span class="tactic">omega</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">unsigned_range_2</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_range">signed_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof424')">Proof.</div>
<div class="proofscript" id="proof424">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">i</span>). <span class="tactic">set</span> (<span class="id">n</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">i</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span> <span class="kwd">in</span> *. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.repr_unsigned">repr_unsigned</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof425')">Proof.</div>
<div class="proofscript" id="proof425">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_mod_modulus_eq">Z_mod_modulus_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">repr_unsigned</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.repr_signed">repr_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof426')">Proof.</div>
<div class="proofscript" id="proof426">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">repr_signed</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="id">Opaque</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_repr_eq">eqm_repr_eq</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof427')">Proof.</div>
<div class="proofscript" id="proof427">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">y</span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_repr">unsigned_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof428')">Proof.</div>
<div class="proofscript" id="proof428">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">unsigned_repr</span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_repr">signed_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof429')">Proof.</div>
<div class="proofscript" id="proof429">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> 0 <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z</span>)) <span class="kwd">with</span> <span class="id">z</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed_unsigned">max_signed_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> (<span class="id">z</span>' := <span class="id">z</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">z</span>')) <span class="kwd">with</span> <span class="id">z</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">unfold</span> <span class="id">z</span>'. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">z</span>'. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">z</span>', <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">unfold</span> <span class="id">z</span>'; <span class="tactic">red</span>. <span class="id">exists</span> 1. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_eq_unsigned">signed_eq_unsigned</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof430')">Proof.</div>
<div class="proofscript" id="proof430">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">omegaContradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_positive">signed_positive</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &gt;= 0 &lt;-&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof431')">Proof.</div>
<div class="proofscript" id="proof431">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ptrofs_add_repr">Ptrofs_add_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)) = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof432')">Proof.</div>
<div class="proofscript" id="proof432">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<h2> Properties of zero, one, minus one </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_zero">unsigned_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof433')">Proof.</div>
<div class="proofscript" id="proof433">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zmod_0_l">Zmod_0_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_one">unsigned_one</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = 1.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof434')">Proof.</div>
<div class="proofscript" id="proof434">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>. <span class="tactic">split</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">replace</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Nat.html#pred">Init.Nat.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Nat.html#pred">Init.Nat.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_mone">unsigned_mone</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - 1.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof435')">Proof.</div>
<div class="proofscript" id="proof435">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (-1) <span class="kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - 1) + (-1) * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_plus_full">Z_mod_plus_full</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_zero">signed_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof436')">Proof.</div>
<div class="proofscript" id="proof436">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_one">signed_one</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> &gt; 1 -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = 1.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof437')">Proof.</div>
<div class="proofscript" id="proof437">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <br/>
&nbsp;&nbsp;<span class="id">change</span> 1 <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 0). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">omega</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.signed_mone">signed_mone</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = -1.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof438')">Proof.</div>
<div class="proofscript" id="proof438">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.one_not_zero">one_not_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof439')">Proof.</div>
<div class="proofscript" id="proof439">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof440')">Proof.</div>
<div class="proofscript" id="proof440">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of equality </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.eq_sym">eq_sym</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof441')">Proof.</div>
<div class="proofscript" id="proof441">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.eq_spec">eq_spec</a></span>: <span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>), <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof442')">Proof.</div>
<div class="proofscript" id="proof442">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_dec">eq_dec</a></span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">y</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">red</span>; <span class="tactic">intro</span>. <span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mkint_eq">mkint_eq</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.eq_true">eq_true</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof443')">Proof.</div>
<div class="proofscript" id="proof443">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">x</span>); <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id">x</span> <span class="id">x</span>); <span class="tactic">intros</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.eq_false">eq_false</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof444')">Proof.</div>
<div class="proofscript" id="proof444">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">intros</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.eq_signed">eq_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof445')">Proof.</div>
<div class="proofscript" id="proof445">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">y</span>). <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of addition </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_unsigned">add_unsigned</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof446')">Proof.</div>
<div class="proofscript" id="proof446">
 <span class="tactic">intros</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_signed">add_signed</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof447')">Proof.</div>
<div class="proofscript" id="proof447">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_unsigned">add_unsigned</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_commut">add_commut</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof448')">Proof.</div>
<div class="proofscript" id="proof448">
 <span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">decEq</span>. <span class="tactic">omega</span>. Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_zero">add_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof449')">Proof.</div>
<div class="proofscript" id="proof449">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_zero_l">add_zero_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof450')">Proof.</div>
<div class="proofscript" id="proof450">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_assoc">add_assoc</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof451')">Proof.</div>
<div class="proofscript" id="proof451">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> ((<span class="id">x</span>' + <span class="id">y</span>') + <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_assoc">Z.add_assoc</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_permut">add_permut</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof452')">Proof.</div>
<div class="proofscript" id="proof452">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span> <span class="id">y</span> <span class="id">z</span>). <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_neg_zero">add_neg_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof453')">Proof.</div>
<div class="proofscript" id="proof453">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> 0 <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + (- (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_add_carry">unsigned_add_carry</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof454')">Proof.</div>
<div class="proofscript" id="proof454">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> 0. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> 1. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.unsigned_add_either">unsigned_add_either</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span><br/>
&nbsp;&nbsp;\/ <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof455')">Proof.</div>
<div class="proofscript" id="proof455">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_add_carry">unsigned_add_carry</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="id">left</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="id">right</span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of negation </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_repr">neg_repr</a></span>: <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (-<span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof456')">Proof.</div>
<div class="proofscript" id="proof456">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_zero">neg_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof457')">Proof.</div>
<div class="proofscript" id="proof457">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_involutive">neg_involutive</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof458')">Proof.</div>
<div class="proofscript" id="proof458">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_neg">eqm_neg</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_add_distr">neg_add_distr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof459')">Proof.</div>
<div class="proofscript" id="proof459">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> (- (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (- (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((- <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) + (- <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of subtraction </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_zero_l">sub_zero_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof460')">Proof.</div>
<div class="proofscript" id="proof460">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> - 0) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_zero_r">sub_zero_r</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof461')">Proof.</div>
<div class="proofscript" id="proof461">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_add_opp">sub_add_opp</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof462')">Proof.</div>
<div class="proofscript" id="proof462">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_idem">sub_idem</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof463')">Proof.</div>
<div class="proofscript" id="proof463">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">decEq</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_add_l">sub_add_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof464')">Proof.</div>
<div class="proofscript" id="proof464">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_add_r">sub_add_r</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof465')">Proof.</div>
<div class="proofscript" id="proof465">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_add_distr">neg_add_distr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_permut">add_permut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_shifted">sub_shifted</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof466')">Proof.</div>
<div class="proofscript" id="proof466">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_add_distr">neg_add_distr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id">z</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span> <span class="id">z</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_neg_zero">add_neg_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_signed">sub_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof467')">Proof.</div>
<div class="proofscript" id="proof467">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.unsigned_sub_borrow">unsigned_sub_borrow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof468')">Proof.</div>
<div class="proofscript" id="proof468">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) 0).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-1). <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> 0. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of multiplication </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_commut">mul_commut</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof469')">Proof.</div>
<div class="proofscript" id="proof469">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="id">decEq</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_zero">mul_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof470')">Proof.</div>
<div class="proofscript" id="proof470">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="id">decEq</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_one">mul_one</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof471')">Proof.</div>
<div class="proofscript" id="proof471">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)). <span class="id">decEq</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_mone">mul_mone</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof472')">Proof.</div>
<div class="proofscript" id="proof472">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (-<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="kwd">with</span> (0 - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> * (<span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - 1)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>. <span class="id">exists</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>). <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_assoc">mul_assoc</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof473')">Proof.</div>
<div class="proofscript" id="proof473">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> ((<span class="id">x</span>' * <span class="id">y</span>') * <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_assoc">Z.mul_assoc</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_add_distr_l">mul_add_distr_l</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof474')">Proof.</div>
<div class="proofscript" id="proof474">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> ((<span class="id">x</span>' + <span class="id">y</span>') * <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> ((<span class="id">x</span>' + <span class="id">y</span>') * <span class="id">z</span>') <span class="kwd">with</span> (<span class="id">x</span>' * <span class="id">z</span>' + <span class="id">y</span>' * <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_add_distr_r">mul_add_distr_r</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof475')">Proof.</div>
<div class="proofscript" id="proof475">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_add_distr_l">mul_add_distr_l</a></span>.<br/>
&nbsp;&nbsp;<span class="id">decEq</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_mul_distr_l">neg_mul_distr_l</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof476')">Proof.</div>
<div class="proofscript" id="proof476">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>).  <span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> (- (<span class="id">x</span>' * <span class="id">y</span>')).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (- (<span class="id">x</span>' * <span class="id">y</span>')) <span class="kwd">with</span> ((-<span class="id">x</span>') * <span class="id">y</span>') <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_mul_distr_r">neg_mul_distr_r</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof477')">Proof.</div>
<div class="proofscript" id="proof477">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span> <span class="id">x</span> <span class="id">y</span>). <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_mul_distr_l">neg_mul_distr_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_signed">mul_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof478')">Proof.</div>
<div class="proofscript" id="proof478">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_mult">eqm_mult</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<h2> Properties of division and modulus </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.modu_divu_Euclid">modu_divu_Euclid</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof479')">Proof.</div>
<div class="proofscript" id="proof479">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)). <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>). <span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> ((<span class="id">x</span>' / <span class="id">y</span>') * <span class="id">y</span>' + <span class="id">x</span>' <span class="id">mod</span> <span class="id">y</span>').<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> &lt;&gt; 0). <span class="tactic">red</span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">y</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span>'. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.modu_divu">modu_divu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof480')">Proof.</div>
<div class="proofscript" id="proof480">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span>, <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_l">sub_add_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu_divu_Euclid">modu_divu_Euclid</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.mods_divs_Euclid">mods_divs_Euclid</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof481')">Proof.</div>
<div class="proofscript" id="proof481">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)). <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>). <span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> ((<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">x</span>' <span class="id">y</span>') * <span class="id">y</span>' + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span> <span class="id">x</span>' <span class="id">y</span>').<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="tactic">apply</span> <span class="id">Z.quot_rem</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_mult">eqm_mult</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span>'. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mods_divs">mods_divs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof482')">Proof.</div>
<div class="proofscript" id="proof482">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span>, <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_l">sub_add_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_commut">add_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods_divs_Euclid">mods_divs_Euclid</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divu_one">divu_one</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof483')">Proof.</div>
<div class="proofscript" id="proof483">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv_1_r">Zdiv_1_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divs_one">divs_one</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> &gt; 1 -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof484')">Proof.</div>
<div class="proofscript" id="proof484">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_one">signed_one</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.modu_one">modu_one</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof485')">Proof.</div>
<div class="proofscript" id="proof485">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu_divu">modu_divu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu_one">divu_one</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_not_zero">one_not_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divs_mone">divs_mone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof486')">Proof.</div>
<div class="proofscript" id="proof486">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_mone">signed_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (-1)) <span class="kwd">with</span> (- (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_neg">eqm_neg</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span>' := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">one</span> := 1).<br/>
&nbsp;&nbsp;<span class="id">change</span> (-1) <span class="kwd">with</span> (- <span class="id">one</span>). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_opp_r">Zquot_opp_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">x</span>' <span class="id">one</span> = <span class="id">x</span>').<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_unique_full">Zquot_unique_full</a></span> <span class="kwd">with</span> 0. <span class="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id">one</span>) <span class="kwd">with</span> 1.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> 0 <span class="id">x</span>'). <span class="id">left</span>. <span class="tactic">omega</span>. <span class="id">right</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>; <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mods_mone">mods_mone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof487')">Proof.</div>
<div class="proofscript" id="proof487">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mods_divs">mods_divs</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs_mone">divs_mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.neg_mul_distr_l">neg_mul_distr_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_mone">mul_mone</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_involutive">neg_involutive</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divmodu2_divu_modu">divmodu2_divu_modu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.divmodu2">divmodu2</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof488')">Proof.</div>
<div class="proofscript" id="proof488">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divmodu2">divmodu2</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">N</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E1</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span> = <span class="id">N</span>) <span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#N">N</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">ring</span>). <span class="tactic">rewrite</span> ! <span class="id">E1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">D</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="id">N</span> / <span class="id">D</span>); <span class="tactic">set</span> (<span class="id">R</span> := <span class="id">N</span> <span class="id">mod</span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> <span class="id">N</span> <span class="id">D</span> = (<span class="id">Q</span>, <span class="id">R</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">R</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div">Z.div</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div_eucl">Z.div_eucl</a></span> <span class="id">N</span> <span class="id">D</span>); <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">E2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span> &lt;&gt; 0).<br/>
&nbsp;&nbsp;{ <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">d</span>). <span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt; <span class="id">D</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">D</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">d</span>); <span class="tactic">intros</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">Q</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">Q</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_interval_2">Zdiv_interval_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">E1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range_2">unsigned_range_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_pos">modulus_pos</a></span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.unsigned_signed">unsigned_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof489')">Proof.</div>
<div class="proofscript" id="proof489">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divmods2_divs_mods">divmods2_divs_mods</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> \/ <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divmods2">divmods2</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof490')">Proof.</div>
<div class="proofscript" id="proof490">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divmods2">divmods2</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mods">mods</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">N</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) * <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">D</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">D</span> &lt;&gt; 0).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">D</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">d</span>). <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">N</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#N">N</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_signed">unsigned_signed</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_mone">signed_mone</a></span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="tactic">ring</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">N</span> <span class="id">D</span>); <span class="tactic">set</span> (<span class="id">R</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span> <span class="id">N</span> <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quotrem">Z.quotrem</a></span> <span class="id">N</span> <span class="id">D</span> = (<span class="id">Q</span>, <span class="id">R</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">R</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.rem">Z.rem</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quotrem">Z.quotrem</a></span> <span class="id">N</span> <span class="id">D</span>); <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">E2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id">N</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>) <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id">Q</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">Q</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">D</span> 1); [ | <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">D</span> (-1))].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;D&nbsp;=&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;D&nbsp;=&nbsp;-1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="id">change</span> (-1) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.opp">Z.opp</a></span> 1). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_opp_r">Z.quot_opp_r</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">N</span> &lt;&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">elim</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">n</span>). <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">elim</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span> <span class="id">d</span>). <span class="tactic">unfold</span> <span class="id">D</span> <span class="kwd">in</span> <span class="id">e</span>; <span class="tactic">rewrite</span> <span class="id">e</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> *. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;|D|&nbsp;&gt;&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id">N</span> <span class="id">D</span>) &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_abs">Z.quot_abs</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_lt_upper_bound">Zquot_lt_upper_bound</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">xomega</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_lt_trans">Z.le_lt_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> * 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_1_r">Z.mul_1_r</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zmult_lt_compat_l">Zmult_lt_compat_l</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span>; <span class="tactic">omega</span>. <span class="id">xomega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_lt">Z.abs_lt</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>; <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">R</span>; <span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Bit-level properties </h2>
<br/>
<h2> Properties of bit-level operations over <span class="bracket"><span class="id">Z</span></span> </h2>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_0">Ztestbit_0</a></span>: <span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> 0 <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<span class="kwd">Proof</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_1">Ztestbit_1</a></span>: <span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> 1 <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof491')">Proof.</div>
<div class="proofscript" id="proof491">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_m1">Ztestbit_m1</a></span>: <span class="kwd">forall</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (-1) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof492')">Proof.</div>
<div class="proofscript" id="proof492">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Zshiftin_spec">Zshiftin_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="kwd">then</span> 1 <span class="kwd">else</span> 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof493')">Proof.</div>
<div class="proofscript" id="proof493">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ_double_spec">Z.succ_double_spec</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.double_spec">Z.double_spec</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Zshiftin_inj">Zshiftin_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">x1</span> <span class="id">b2</span> <span class="id">x2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#x1">x1</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x2">x2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> = <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> /\ <span class="id"><a href="compcert.lib.Integers.html#x1">x1</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x2">x2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof494')">Proof.</div>
<div class="proofscript" id="proof494">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b1</span>; <span class="tactic">destruct</span> <span class="id">b2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">omega</span>].<br/>
&nbsp;&nbsp;<span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">omega</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Zdecomp">Zdecomp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof495')">Proof.</div>
<div class="proofscript" id="proof495">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.pred_double_succ">Pos.pred_double_succ</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> 0 <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof496')">Proof.</div>
<div class="proofscript" id="proof496">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">n</span> 0).<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">destruct</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_odd_0">Z.testbit_odd_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_even_0">Z.testbit_even_0</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">assert</span> (0 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">n</span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">n</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">n</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id">n</span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id">n</span>') <span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id">n</span>'; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_odd_succ">Z.testbit_odd_succ</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_even_succ">Z.testbit_even_succ</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_shiftin_base">Ztestbit_shiftin_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) 0 = <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof497')">Proof.</div>
<div class="proofscript" id="proof497">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_shiftin_succ">Ztestbit_shiftin_succ</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof498')">Proof.</div>
<div class="proofscript" id="proof498">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred_succ">Z.pred_succ</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_eq">Ztestbit_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> 0 <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof499')">Proof.</div>
<div class="proofscript" id="proof499">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_base">Ztestbit_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> 0 = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof500')">Proof.</div>
<div class="proofscript" id="proof500">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Ztestbit_succ">Ztestbit_succ</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof501')">Proof.</div>
<div class="proofscript" id="proof501">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred_succ">Z.pred_succ</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_same_bits">eqmod_same_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof502')">Proof.</div>
<div class="proofscript" id="proof502">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> 0) <span class="kwd">with</span> 1. <span class="id">exists</span> (<span class="id">x</span>-<span class="id">y</span>); <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHn</span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- !<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_succ">Ztestbit_succ</a></span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">k</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">H</span> 0). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_base">Ztestbit_base</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqm_same_bits">eqm_same_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_same_bits">eqmod_same_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.same_bits_eqmod">same_bits_eqmod</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof503')">Proof.</div>
<div class="proofscript" id="proof503">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> !(<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span> <span class="id">i</span>); <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EQ</span>': <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">y</span>) (<span class="id">k</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="kwd">in</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">y</span>) <span class="kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_inj">Zshiftin_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IHn</span>. <span class="id">exists</span> <span class="id">k</span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.same_bits_eqm">same_bits_eqm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqmod">same_bits_eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.two_power_nat_infinity">two_power_nat_infinity</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id">exists</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof504')">Proof.</div>
<div class="proofscript" id="proof504">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x0</span> <span class="id">POS0</span>; <span class="tactic">pattern</span> <span class="id">x0</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#natlike_ind">natlike_ind</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">n</span> <span class="id">LT</span>]. <span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span> <span class="id">n</span>). <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.equal_same_bits">equal_same_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof505')">Proof.</div>
<div class="proofscript" id="proof505">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span> := <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">x</span> <span class="id">y</span> <span class="kwd">then</span> <span class="id">y</span> - <span class="id">x</span> <span class="kwd">else</span> <span class="id">x</span> - <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">z</span>; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.two_power_nat_infinity">two_power_nat_infinity</a></span> <span class="id">z</span>); <span class="tactic">auto</span>. <span class="tactic">intros</span> [<span class="id">n</span> <span class="id">LT</span>].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span>) <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_same_bits">eqmod_same_bits</a></span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span>) <span class="id">z</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">z</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> 0 <span class="kwd">with</span> (<span class="id">y</span> - <span class="id">y</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sub">eqmod_sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> 0 <span class="kwd">with</span> (<span class="id">x</span> - <span class="id">x</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sub">eqmod_sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sym">eqmod_sym</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">z</span> = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_small_eq">eqmod_small_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span>). <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">z</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">x</span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Z_one_complement">Z_one_complement</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (-<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>-1) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof506')">Proof.</div>
<div class="proofscript" id="proof506">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i0</span> <span class="id">POS0</span>. <span class="tactic">pattern</span> <span class="id">i0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#Zlt_0_ind">Zlt_0_ind</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">IND</span> <span class="id">POS</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>). <span class="tactic">set</span> (<span class="id">y</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (- <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>) <span class="id">y</span> - 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>)) (- <span class="id">y</span> - 1)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0). <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">IND</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">simpl</span> <span class="id">negb</span>; <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ztestbit_above">Ztestbit_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &gt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof507')">Proof.</div>
<div class="proofscript" id="proof507">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> 0) <span class="kwd">with</span> 1 <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> 0 <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHn</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ztestbit_above_neg">Ztestbit_above_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;-<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; 0 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &gt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof508')">Proof.</div>
<div class="proofscript" id="proof508">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">set</span> (<span class="id">y</span> := -<span class="id">x</span>-1).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id">y</span> <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_above">Ztestbit_above</a></span> <span class="kwd">with</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span>; <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_complement">Z_one_complement</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zsign_bit">Zsign_bit</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof509')">Proof.</div>
<div class="proofscript" id="proof509">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> 1) <span class="kwd">with</span> 2 <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">x</span> = 0 \/ <span class="id">x</span> = 1) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred_succ">Z.pred_succ</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHn</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">n</span>)); <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>); <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zshiftin_ind">Zshiftin_ind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> 0 -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof510')">Proof.</div>
<div class="proofscript" id="proof510">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">induction</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id">P</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">p</span>))). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id">P</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">p</span>))). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id">P</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0)). <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zshiftin_pos_ind">Zshiftin_pos_ind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> 1 -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof511')">Proof.</div>
<div class="proofscript" id="proof511">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id">P</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">p</span>))). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id">P</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">p</span>))). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ztestbit_le">Ztestbit_le</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof512')">Proof.</div>
<div class="proofscript" id="proof512">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y0</span> <span class="id">POS0</span>; <span class="id">revert</span> <span class="id">x</span>; <span class="tactic">pattern</span> <span class="id">y0</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_ind">Zshiftin_ind</a></span>; <span class="tactic">auto</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> 0. <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.equal_same_bits">equal_same_bits</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id">x</span> <span class="id">i</span>) <span class="kwd">as</span> [] <span class="id">eqn</span>:<span class="id">E</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x0</span> &lt;= <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">intros</span>. <span class="id">exploit</span> (<span class="id">H1</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_succ">Ztestbit_succ</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin_succ">Ztestbit_shiftin_succ</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x0</span>). <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x0</span>) <span class="kwd">as</span> [] <span class="id">eqn</span>:<span class="id">E1</span>; <span class="tactic">destruct</span> <span class="id">b</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:<span class="id">E2</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">H1</span> 0). <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_base">Ztestbit_base</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin_base">Ztestbit_shiftin_base</a></span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<h2> Bit-level reasoning over type <span class="bracket"><span class="id">int</span></span> </h2>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.testbit">testbit</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span class="id">i</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.testbit_repr">testbit_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof513')">Proof.</div>
<div class="proofscript" id="proof513">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.same_bits_eq">same_bits_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof514')">Proof.</div>
<div class="proofscript" id="proof514">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_same_bits">eqm_same_bits</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_above">bits_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &gt;= <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof515')">Proof.</div>
<div class="proofscript" id="proof515">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_above">Ztestbit_above</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_zero">bits_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof516')">Proof.</div>
<div class="proofscript" id="proof516">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.bits_one">bits_one</a></span>: <span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof517')">Proof.</div>
<div class="proofscript" id="proof517">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_1">Ztestbit_1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_mone">bits_mone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof518')">Proof.</div>
<div class="proofscript" id="proof518">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_m1">Ztestbit_m1</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero">bits_zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span> : <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">bit_solve</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>; <span class="id">autorewrite</span> <span class="kwd">with</span> <span class="id">ints</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof519')">Proof.</div>
<div class="proofscript" id="proof519">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ws1</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Nat.html#pred">Init.Nat.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1 = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">ws1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>, <span class="id">ws1</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize">WS.wordsize</a></span> <span class="kwd">as</span> [] <span class="id">eqn</span>:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id"><a href="compcert.lib.Integers.html#WS.wordsize_not_zero">WS.wordsize_not_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span>. <span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id">ws1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsign_bit">Zsign_bit</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_signed">bits_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof520')">Proof.</div>
<div class="proofscript" id="proof520">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_above">Ztestbit_above</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_above_neg">Ztestbit_above_neg</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>). <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_le">bits_le</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof521')">Proof.</div>
<div class="proofscript" id="proof521">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_le">Ztestbit_le</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>). <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>) <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of bitwise and, or, xor </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_and">bits_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof522')">Proof.</div>
<div class="proofscript" id="proof522">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span>; <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_or">bits_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> || <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof523')">Proof.</div>
<div class="proofscript" id="proof523">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>; <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_xor">bits_xor</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof524')">Proof.</div>
<div class="proofscript" id="proof524">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lxor_spec">Z.lxor_spec</a></span>; <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_not">bits_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof525')">Proof.</div>
<div class="proofscript" id="proof525">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_not">bits_not</a></span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_commut">and_commut</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof526')">Proof.</div>
<div class="proofscript" id="proof526">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_assoc">and_assoc</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof527')">Proof.</div>
<div class="proofscript" id="proof527">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_zero">and_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof528')">Proof.</div>
<div class="proofscript" id="proof528">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_b_false">andb_b_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.and_zero_l">and_zero_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof529')">Proof.</div>
<div class="proofscript" id="proof529">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_zero">and_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_mone">and_mone</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof530')">Proof.</div>
<div class="proofscript" id="proof530">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_b_true">andb_b_true</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.and_mone_l">and_mone_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof531')">Proof.</div>
<div class="proofscript" id="proof531">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_mone">and_mone</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_idem">and_idem</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof532')">Proof.</div>
<div class="proofscript" id="proof532">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_commut">or_commut</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof533')">Proof.</div>
<div class="proofscript" id="proof533">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_assoc">or_assoc</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof534')">Proof.</div>
<div class="proofscript" id="proof534">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_zero">or_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof535')">Proof.</div>
<div class="proofscript" id="proof535">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.or_zero_l">or_zero_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof536')">Proof.</div>
<div class="proofscript" id="proof536">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_commut">or_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_zero">or_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_mone">or_mone</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof537')">Proof.</div>
<div class="proofscript" id="proof537">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_idem">or_idem</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof538')">Proof.</div>
<div class="proofscript" id="proof538">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_or_distrib">and_or_distrib</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof539')">Proof.</div>
<div class="proofscript" id="proof539">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#demorgan1">demorgan1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.and_or_distrib_l">and_or_distrib_l</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof540')">Proof.</div>
<div class="proofscript" id="proof540">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id">x</span> <span class="id">y</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_or_distrib">and_or_distrib</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_and_distrib">or_and_distrib</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof541')">Proof.</div>
<div class="proofscript" id="proof541">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_andb_distrib_r">orb_andb_distrib_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.or_and_distrib_l">or_and_distrib_l</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof542')">Proof.</div>
<div class="proofscript" id="proof542">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or_commut">or_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_and_distrib">or_and_distrib</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_commut">or_commut</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_or_absorb">and_or_absorb</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof543')">Proof.</div>
<div class="proofscript" id="proof543">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> &amp;&amp; (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> || <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) <span class="tactic">by</span> <span class="id">destr_bool</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_and_absorb">or_and_absorb</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof544')">Proof.</div>
<div class="proofscript" id="proof544">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> || (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) <span class="tactic">by</span> <span class="id">destr_bool</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_commut">xor_commut</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof545')">Proof.</div>
<div class="proofscript" id="proof545">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_comm">xorb_comm</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_assoc">xor_assoc</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof546')">Proof.</div>
<div class="proofscript" id="proof546">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_assoc">xorb_assoc</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_zero">xor_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof547')">Proof.</div>
<div class="proofscript" id="proof547">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_false">xorb_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.xor_zero_l">xor_zero_l</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof548')">Proof.</div>
<div class="proofscript" id="proof548">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_commut">xor_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_idem">xor_idem</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof549')">Proof.</div>
<div class="proofscript" id="proof549">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#xorb_nilpotent">xorb_nilpotent</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_zero_one">xor_zero_one</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof550')">Proof.</div>
<div class="proofscript" id="proof550">
 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_commut">xor_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>. Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_one_one">xor_one_one</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof551')">Proof.</div>
<div class="proofscript" id="proof551">
 <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_zero_equal">xor_zero_equal</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof552')">Proof.</div>
<div class="proofscript" id="proof552">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero">bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>); <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>); <span class="tactic">reflexivity</span> || <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_is_zero">xor_is_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof553')">Proof.</div>
<div class="proofscript" id="proof553">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_equal">xor_zero_equal</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">y</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_true">eq_true</a></span>; <span class="tactic">auto</span>. <br/>
- <span class="id">predSpec</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id">y</span>.<br/>
+ <span class="tactic">elim</span> <span class="id">H</span>; <span class="tactic">subst</span> <span class="id">y</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <br/>
+ <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_xor_distrib">and_xor_distrib</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof554')">Proof.</div>
<div class="proofscript" id="proof554">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span>, <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> &amp;&amp; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>)) <span class="tactic">by</span> <span class="id">destr_bool</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_le">and_le</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof555')">Proof.</div>
<div class="proofscript" id="proof555">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_le">bits_le</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_le">or_le</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof556')">Proof.</div>
<div class="proofscript" id="proof556">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_le">bits_le</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of bitwise complement.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.not_involutive">not_involutive</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>), <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof557')">Proof.</div>
<div class="proofscript" id="proof557">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_assoc">xor_assoc</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.not_zero">not_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof558')">Proof.</div>
<div class="proofscript" id="proof558">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_commut">xor_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.not_mone">not_mone</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof559')">Proof.</div>
<div class="proofscript" id="proof559">
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.not_involutive">not_involutive</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>). <span class="tactic">symmetry</span>. <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not_zero">not_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.not_or_and_not">not_or_and_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof560')">Proof.</div>
<div class="proofscript" id="proof560">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_orb">negb_orb</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.not_and_or_not">not_and_or_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof561')">Proof.</div>
<div class="proofscript" id="proof561">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_andb">negb_andb</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_not_self">and_not_self</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof562')">Proof.</div>
<div class="proofscript" id="proof562">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_not_self">or_not_self</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof563')">Proof.</div>
<div class="proofscript" id="proof563">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_not_self">xor_not_self</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof564')">Proof.</div>
<div class="proofscript" id="proof564">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.unsigned_not">unsigned_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof565')">Proof.</div>
<div class="proofscript" id="proof565">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>(-<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> - 1))).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="id">bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_complement">Z_one_complement</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_eq">unsigned_repr_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-1).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.not_neg">not_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof566')">Proof.</div>
<div class="proofscript" id="proof566">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (-<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> - 1) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_complement">Z_one_complement</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (-<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> - 1) <span class="kwd">with</span> (-<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + (-1)) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>. <span class="id">exists</span> (-1). <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.neg_not">neg_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof567')">Proof.</div>
<div class="proofscript" id="proof567">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.not_neg">not_neg</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_mone">unsigned_mone</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (-1). <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_add_not">sub_add_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof568')">Proof.</div>
<div class="proofscript" id="proof568">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.neg_not">neg_not</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_add_not_3">sub_add_not_3</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> \/ <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof569')">Proof.</div>
<div class="proofscript" id="proof569">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_not">sub_add_not</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Make.add_assoc">add_assoc</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.neg_not">neg_not</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.sub_add_opp">sub_add_opp</a></span>. <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_zero_l">sub_zero_l</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_idem">sub_idem</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_borrow_add_carry">sub_borrow_add_carry</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> \/ <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.not">not</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof570')">Proof.</div>
<div class="proofscript" id="proof570">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_borrow">sub_borrow</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add_carry">add_carry</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_not">unsigned_not</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>)) <span class="kwd">with</span> (1 - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Connections between <span class="bracket"><span class="id">add</span></span> and bitwise logical operations. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Z_add_is_or">Z_add_is_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">j</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#j">j</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#j">j</a></span> &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> || <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof571')">Proof.</div>
<div class="proofscript" id="proof571">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i0</span> <span class="id">POS0</span>. <span class="tactic">pattern</span> <span class="id">i0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#Zlt_0_ind">Zlt_0_ind</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">IND</span> <span class="id">POS</span> <span class="id">x</span> <span class="id">y</span> <span class="id">EXCL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="kwd">in</span> *. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">y</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span> || <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">y</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">y</span>)) <span class="id">i</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXCL</span> 0). <span class="tactic">omega</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin_base">Ztestbit_shiftin_base</a></span>. <span class="tactic">intros</span>.<br/>
<span class="id">Opaque</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul">Z.mul</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">y</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">discriminate</span> || <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id">IND</span>. <span class="tactic">omega</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXCL</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id">j</span>)). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin_succ">Ztestbit_shiftin_succ</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_is_or">add_is_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof572')">Proof.</div>
<div class="proofscript" id="proof572">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_add_is_or">Z_add_is_or</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">j</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id">j</span>) <span class="tactic">by</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">autorewrite</span> <span class="kwd">with</span> <span class="id">ints</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">assumption</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_is_or">xor_is_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof573')">Proof.</div>
<div class="proofscript" id="proof573">
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id">i</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id">i</span>) <span class="tactic">by</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">autorewrite</span> <span class="kwd">with</span> <span class="id">ints</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> <span class="id">i</span>); <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_is_xor">add_is_xor</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof574')">Proof.</div>
<div class="proofscript" id="proof574">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_is_or">xor_is_or</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_is_or">add_is_or</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.add_and">add_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof575')">Proof.</div>
<div class="proofscript" id="proof575">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_is_or">add_is_or</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_or_distrib">and_or_distrib</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_commut">and_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_zero">and_zero</a></span>.<br/>
Qed.</div>
<br/>
<h2> Properties of shifts </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_shl">bits_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof576')">Proof.</div>
<div class="proofscript" id="proof576">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_shru">bits_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof577')">Proof.</div>
<div class="proofscript" id="proof577">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_shr">bits_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof578')">Proof.</div>
<div class="proofscript" id="proof578">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_signed">bits_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shl_zero">shl_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof579')">Proof.</div>
<div class="proofscript" id="proof579">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bitwise_binop_shl">bitwise_binop_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">f</span>' <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id">f</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof580')">Proof.</div>
<div class="proofscript" id="proof580">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_shl">and_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof581')">Proof.</div>
<div class="proofscript" id="proof581">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shl">bitwise_binop_shl</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_shl">or_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof582')">Proof.</div>
<div class="proofscript" id="proof582">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shl">bitwise_binop_shl</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_shl">xor_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof583')">Proof.</div>
<div class="proofscript" id="proof583">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shl">bitwise_binop_shl</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.ltu_inv">ltu_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof584')">Proof.</div>
<div class="proofscript" id="proof584">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof585')">Proof.</div>
<div class="proofscript" id="proof585">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shl_shl">shl_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof586')">Proof.</div>
<div class="proofscript" id="proof586">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>)).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sub_ltu">sub_ltu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof587')">Proof.</div>
<div class="proofscript" id="proof587">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="tactic">intros</span> .<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shru_zero">shru_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof588')">Proof.</div>
<div class="proofscript" id="proof588">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bitwise_binop_shru">bitwise_binop_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">f</span>' <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id">f</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id">f</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof589')">Proof.</div>
<div class="proofscript" id="proof589">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_shru">and_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof590')">Proof.</div>
<div class="proofscript" id="proof590">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shru">bitwise_binop_shru</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_shru">or_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof591')">Proof.</div>
<div class="proofscript" id="proof591">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shru">bitwise_binop_shru</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_shru">xor_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof592')">Proof.</div>
<div class="proofscript" id="proof592">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shru">bitwise_binop_shru</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shru_shru">shru_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof593')">Proof.</div>
<div class="proofscript" id="proof593">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shr_zero">shr_zero</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof594')">Proof.</div>
<div class="proofscript" id="proof594">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bitwise_binop_shr">bitwise_binop_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">f</span>' <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id">f</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof595')">Proof.</div>
<div class="proofscript" id="proof595">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_shr">and_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof596')">Proof.</div>
<div class="proofscript" id="proof596">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shr">bitwise_binop_shr</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_shr">or_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof597')">Proof.</div>
<div class="proofscript" id="proof597">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shr">bitwise_binop_shr</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.xor_shr">xor_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof598')">Proof.</div>
<div class="proofscript" id="proof598">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_shr">bitwise_binop_shr</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shr_shr">shr_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof599')">Proof.</div>
<div class="proofscript" id="proof599">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>; <span class="tactic">auto</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">replace</span> (<span class="id">i</span> + (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>)) <span class="kwd">with</span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="id">_</span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1 + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.and_shr_shru">and_shr_shru</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof600')">Proof.</div>
<div class="proofscript" id="proof600">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">z</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">z</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shr_and_shru_and">shr_and_shru_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof601')">Proof.</div>
<div class="proofscript" id="proof601">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_shru">and_shru</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_shr_shru">and_shr_shru</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shru_lt_zero">shru_lt_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof602')">Proof.</div>
<div class="proofscript" id="proof602">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_l">Z.add_0_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">simpl</span> <span class="id">Z.div2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">simpl</span> <span class="id">Z.div2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shr_lt_zero">shr_lt_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof603')">Proof.</div>
<div class="proofscript" id="proof603">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero">bits_zero</a></span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of rotations </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_rol">bits_rol</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof604')">Proof.</div>
<div class="proofscript" id="proof604">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">j</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="tactic">set</span> (<span class="id">k</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> / <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">j</span>. <span class="tactic">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. 2: <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">j</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-<span class="id">k</span> - 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> + (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">j</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> - <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-<span class="id">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_ror">bits_ror</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> ((<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof605')">Proof.</div>
<div class="proofscript" id="proof605">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">j</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="tactic">set</span> (<span class="id">k</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> / <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">j</span>. <span class="tactic">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. 2: <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id">j</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> + <span class="id">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (<span class="id">k</span> + 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_ror">bits_ror</a></span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shl_rolm">shl_rolm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof606')">Proof.</div>
<div class="proofscript" id="proof606">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shru_rolm">shru_rolm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.mone">mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof607')">Proof.</div>
<div class="proofscript" id="proof607">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-1). <span class="tactic">ring</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rol_zero">rol_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof608')">Proof.</div>
<div class="proofscript" id="proof608">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bitwise_binop_rol">bitwise_binop_rol</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">f</span>' <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id">f</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof609')">Proof.</div>
<div class="proofscript" id="proof609">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rol_and">rol_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof610')">Proof.</div>
<div class="proofscript" id="proof610">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_rol">bitwise_binop_rol</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rol_or">rol_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof611')">Proof.</div>
<div class="proofscript" id="proof611">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_rol">bitwise_binop_rol</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rol_xor">rol_xor</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof612')">Proof.</div>
<div class="proofscript" id="proof612">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bitwise_binop_rol">bitwise_binop_rol</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rol_rol">rol_rol</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof613')">Proof.</div>
<div class="proofscript" id="proof613">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">M</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>); <span class="tactic">set</span> (<span class="id">N</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_trans">eqmod_trans</a></span> <span class="kwd">with</span> (<span class="id">i</span> - <span class="id">M</span> - <span class="id">N</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sub">eqmod_sub</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sym">eqmod_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod">eqmod_mod</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">i</span> - <span class="id">M</span> - <span class="id">N</span>) <span class="kwd">with</span> (<span class="id">i</span> - (<span class="id">M</span> + <span class="id">N</span>)) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sub">eqmod_sub</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_trans">eqmod_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">m</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">M</span> + <span class="id">N</span>) <span class="kwd">with</span> (<span class="id">N</span> + <span class="id">M</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod">eqmod_mod</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="id">fold</span> <span class="id">M</span>; <span class="id">fold</span> <span class="id">N</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">a</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_divides">eqmod_divides</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_trans">eqmod_trans</a></span>. 2: <span class="tactic">apply</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl2">eqmod_refl2</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rolm_zero">rolm_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof614')">Proof.</div>
<div class="proofscript" id="proof614">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol_zero">rol_zero</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.rolm_rolm">rolm_rolm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n1</span> <span class="id">m1</span> <span class="id">n2</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n1">n1</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1">m1</a></span>) <span class="id"><a href="compcert.lib.Integers.html#n2">n2</a></span> <span class="id"><a href="compcert.lib.Integers.html#m2">m2</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#n1">n1</a></span> <span class="id"><a href="compcert.lib.Integers.html#n2">n2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Integers.html#n2">n2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#m2">m2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof615')">Proof.</div>
<div class="proofscript" id="proof615">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol_and">rol_and</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_assoc">and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rol_rol">rol_rol</a></span>. <span class="tactic">reflexivity</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_rolm">or_rolm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1">m1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#m2">m2</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Integers.html#m2">m2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof616')">Proof.</div>
<div class="proofscript" id="proof616">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.rolm">rolm</a></span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_or_distrib">and_or_distrib</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.ror_rol">ror_rol</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof617')">Proof.</div>
<div class="proofscript" id="proof617">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_ror">bits_ror</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span>; <span class="tactic">auto</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>. <span class="id">exists</span> 1. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.ror_rol_neg">ror_rol_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> | <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.neg">neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof618')">Proof.</div>
<div class="proofscript" id="proof618">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_ror">bits_ror</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_rol">bits_rol</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod_eq">eqmod_mod_eq</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_trans">eqmod_trans</a></span> <span class="kwd">with</span> (<span class="id">i</span> - (- <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl2">eqmod_refl2</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sub">eqmod_sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_refl">eqmod_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_divides">eqmod_divides</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.or_ror">or_ror</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof619')">Proof.</div>
<div class="proofscript" id="proof619">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_iwordsize_inv">ltu_iwordsize_inv</a></span> <span class="id">_</span> <span class="id">H0</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ror">ror</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eqm">same_bits_eqm</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id">y</span> <span class="id">z</span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_wordsize_max_unsigned">two_wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_small">Zmod_small</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of <span class="bracket"><span class="id">Z_one_bits</span></span> and <span class="bracket"><span class="id">is_power2</span></span>. </h2>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="Make.powerserie">powerserie</a></span> (<span class="id">l</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; 0<br/>
&nbsp;&nbsp;| <span class="id">x</span> :: <span class="id">xs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#powerserie">powerserie</a></span> <span class="id">xs</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Z_one_bits_powerserie">Z_one_bits_powerserie</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.powerserie">powerserie</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof620')">Proof.</div>
<div class="proofscript" id="proof620">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.powerserie">powerserie</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_O">two_power_nat_O</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">x</span> = 0) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat_S">two_power_nat_S</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="id">Z_one_bits</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EQ</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">i</span> + 1) = <span class="id"><a href="compcert.lib.Integers.html#Make.powerserie">powerserie</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id">n</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span>) (<span class="id">i</span> + 1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHn</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span> <span class="kwd">in</span> <span class="id">EQ</span>. <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 1) <span class="kwd">with</span> 2 <span class="kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">simpl</span> <span class="id">powerserie</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">EQ</span>; <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 0) <span class="kwd">with</span> 1. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">exact</span> <span class="id">H0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Z_one_bits_range">Z_one_bits_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> 0) -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof621')">Proof.</div>
<div class="proofscript" id="proof621">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#j">j</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) -&gt; <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#j">j</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">simpl</span> <span class="id">In</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x</span> <span class="id">i</span> <span class="id">j</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">j</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id">n</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x</span>) (<span class="id">i</span> + 1)) -&gt; <span class="id">i</span> &lt;= <span class="id">j</span> &lt; <span class="id">i</span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">IHn</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x</span>); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span>|<span class="id">B</span>]. <span class="tactic">subst</span> <span class="id">j</span>. <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id">H</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> <span class="id">x</span> 0 <span class="id">i</span> <span class="id">H0</span>). <span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.is_power2_rng">is_power2_rng</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof622')">Proof.</div>
<div class="proofscript" id="proof622">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span> <span class="id">logn</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_range">Z_one_bits_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) 0).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">injection</span> <span class="id">H0</span>; <span class="tactic">intro</span>; <span class="tactic">subst</span> <span class="id">logn</span>; <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">z</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.is_power2_range">is_power2_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof623')">Proof.</div>
<div class="proofscript" id="proof623">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_rng">is_power2_rng</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.is_power2_correct">is_power2_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof624')">Proof.</div>
<div class="proofscript" id="proof624">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n</span> <span class="id">logn</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_powerserie">Z_one_bits_powerserie</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_range">Z_one_bits_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">n</span>) 0).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">injection</span> <span class="id">H1</span>; <span class="tactic">intros</span>; <span class="tactic">subst</span> <span class="id">logn</span>; <span class="tactic">clear</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">z</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">z</span> + 0).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">elim</span> (<span class="id">H</span> <span class="id">z</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.two_p_range">two_p_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof625')">Proof.</div>
<div class="proofscript" id="proof625">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n</span> &gt; 0). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Z_one_bits_zero">Z_one_bits_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> 0 <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof626')">Proof.</div>
<div class="proofscript" id="proof626">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Z_one_bits_two_p">Z_one_bits_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof627')">Proof.</div>
<div class="proofscript" id="proof627">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Nat2Z.inj_succ">Nat2Z.inj_succ</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">x</span> = 0 \/ 0 &lt; <span class="id">x</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">simpl</span>. <span class="id">decEq</span>. <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_zero">Z_one_bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">x</span>-1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_inj">Zshiftin_inj</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_S">two_p_S</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHn</span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.is_power2_two_p">is_power2_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof628')">Proof.</div>
<div class="proofscript" id="proof628">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_two_p">Z_one_bits_two_p</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.two_p_range">two_p_range</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Relation between bitwise operations and multiplications / divisions by powers of 2 </h2>
<br/>
<div class="doc">Left shifts and multiplications by powers of 2. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zshiftl_mul_two_p">Zshiftl_mul_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof629')">Proof.</div>
<div class="proofscript" id="proof629">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">pattern</span> <span class="id">p</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.peano_ind">Pos.peano_ind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos">two_power_pos</a></span> 1) <span class="kwd">with</span> 2. <span class="tactic">simpl</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.iter_succ">Pos.iter_succ</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pplus_one_succ_l">Pplus_one_succ_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos_is_exp">two_power_pos_is_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos">two_power_pos</a></span> 1) <span class="kwd">with</span> 2. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.shl_mul_two_p">shl_mul_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof630')">Proof.</div>
<div class="proofscript" id="proof630">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftl_mul_two_p">Zshiftl_mul_two_p</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shl_mul">shl_mul</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof631')">Proof.</div>
<div class="proofscript" id="proof631">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.mul_pow2">mul_pow2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof632')">Proof.</div>
<div class="proofscript" id="proof632">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">n</span> <span class="id">logn</span> <span class="id">H</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shifted_or_is_add">shifted_or_is_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof633')">Proof.</div>
<div class="proofscript" id="proof633">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.add_is_or">add_is_or</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_mult">eqm_mult</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl2">eqm_refl2</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id">y</span> <span class="id">i</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EQ</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>) = <span class="id">n</span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_above">Ztestbit_above</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">EQ</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Unsigned right shifts and unsigned divisions by powers of 2. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof634')">Proof.</div>
<div class="proofscript" id="proof634">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv_1_r">Zdiv_1_r</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">pattern</span> <span class="id">p</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.peano_ind">Pos.peano_ind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos">two_power_pos</a></span> 1) <span class="kwd">with</span> 2. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv2_div">Zdiv2_div</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.iter_succ">Pos.iter_succ</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pplus_one_succ_l">Pplus_one_succ_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos_is_exp">two_power_pos_is_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos">two_power_pos</a></span> 1) <span class="kwd">with</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv2_div">Zdiv2_div</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_Zdiv">Zdiv_Zdiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos_nat">two_power_pos_nat</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.shru_div_two_p">shru_div_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof635')">Proof.</div>
<div class="proofscript" id="proof635">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divu_pow2">divu_pow2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof636')">Proof.</div>
<div class="proofscript" id="proof636">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">n</span> <span class="id">logn</span> <span class="id">H</span>). <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divu">divu</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru_div_two_p">shru_div_two_p</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Signed right shifts and signed divisions by powers of 2. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.shr_div_two_p">shr_div_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof637')">Proof.</div>
<div class="proofscript" id="proof637">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.divs_pow2">divs_pow2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof638')">Proof.</div>
<div class="proofscript" id="proof638">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Unsigned modulus over <span class="bracket">2^<span class="id">n</span></span> is masking with <span class="bracket">2^<span class="id">n</span>-1</span>. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ztestbit_mod_two_p">Ztestbit_mod_two_p</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id">mod</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof639')">Proof.</div>
<div class="proofscript" id="proof639">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n0</span> <span class="id">x</span> <span class="id">i</span> <span class="id">N0POS</span>. <span class="id">revert</span> <span class="id">x</span> <span class="id">i</span>; <span class="tactic">pattern</span> <span class="id">n0</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#natlike_ind">natlike_ind</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 0) <span class="kwd">with</span> 1. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zmod_1_r">Zmod_1_r</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_0_l">Z.testbit_0_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_S">two_p_S</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">x0</span> <span class="id">mod</span> (2 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x0</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x0</span> <span class="id">mod</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span> <span class="id">i</span> <span class="id">x0</span>); <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">i</span>) <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zdecomp">Zdecomp</a></span> <span class="id">x0</span>) <span class="tactic">at</span> 3. <span class="tactic">set</span> (<span class="id">x1</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div2">Z.div2</a></span> <span class="id">x0</span>). <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (<span class="id">x1</span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_assoc">Z.add_assoc</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">transitivity</span> (2 * (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span> * (<span class="id">x1</span> / <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>) + <span class="id">x1</span> <span class="id">mod</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_spec">Zshiftin_spec</a></span>. <span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> <span class="id">x1</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">x</span>)). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x0</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> - 1) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof640')">Proof.</div>
<div class="proofscript" id="proof640">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n</span> - 1) <span class="kwd">with</span> ((-1) <span class="id">mod</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_mod_two_p">Ztestbit_mod_two_p</a></span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_m1">Ztestbit_m1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-1). <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span> <span class="id">n</span>). <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.modu_and">modu_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2">is_power2</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof641')">Proof.</div>
<div class="proofscript" id="proof641">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_correct">is_power2_correct</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_rng">is_power2_rng</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_mod_two_p">Ztestbit_mod_two_p</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">logn</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>. <span class="tactic">tauto</span>. <span class="tactic">tauto</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of <span class="bracket"><span class="id">shrx</span></span> (signed division by a power of 2) </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zquot_Zdiv">Zquot_Zdiv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &gt; 0 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot">Z.quot</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> 0 <span class="kwd">then</span> (<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - 1) / <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> / <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof642')">Proof.</div>
<div class="proofscript" id="proof642">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">x</span> 0).<br/>
&nbsp;&nbsp;- <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_unique_full">Zquot_unique_full</a></span> <span class="kwd">with</span> ((<span class="id">x</span> + <span class="id">y</span> - 1) <span class="id">mod</span> <span class="id">y</span> - (<span class="id">y</span> - 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">red</span>. <span class="id">right</span>; <span class="tactic">split</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id">x</span> + <span class="id">y</span> - 1) <span class="id">y</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs_eq">Z.abs_eq</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">transitivity</span> ((<span class="id">y</span> * ((<span class="id">x</span> + <span class="id">y</span> - 1) / <span class="id">y</span>) + (<span class="id">x</span> + <span class="id">y</span> - 1) <span class="id">mod</span> <span class="id">y</span>) - (<span class="id">y</span>-1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span>. <span class="tactic">ring</span>. <span class="tactic">auto</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zquot.html#Zquot_Zdiv_pos">Zquot_Zdiv_pos</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shrx_zero">shrx_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> &gt; 1 -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof643')">Proof.</div>
<div class="proofscript" id="proof643">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_zero">shl_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_one">signed_one</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_signed">repr_signed</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shrx_shr">shrx_shr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof644')">Proof.</div>
<div class="proofscript" id="proof644">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">uy</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.divs">divs</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_pow2">mul_pow2</a></span>. <span class="tactic">replace</span> <span class="id">y</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_two_p">is_power2_two_p</a></span>. <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &gt; 0). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zquot_Zdiv">Zquot_Zdiv</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) 0); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_signed">add_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> - 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">x</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> - 1 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shrx_shr_2">shrx_shr_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1))) (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>))) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof645')">Proof.</div>
<div class="proofscript" id="proof645">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx_shr">shrx_shr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_lt_zero">shr_lt_zero</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>).<br/>
- <span class="tactic">set</span> (<span class="id">uy</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">y</span>); <span class="id">fold</span> <span class="id">uy</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="id">fold</span> <span class="id">uy</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr_wordsize">unsigned_repr_wordsize</a></span>. <span class="id">fold</span> <span class="id">uy</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span> <span class="tactic">by</span> (<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_mone">bits_mone</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &gt; 0) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>; <span class="tactic">omega</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id">y</span>)) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> <span class="id">y</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zdiv_shift">Zdiv_shift</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &gt; 0 -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + (<span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> - 1)) / <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> / <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) 0 <span class="kwd">then</span> 0 <span class="kwd">else</span> 1.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof646')">Proof.</div>
<div class="proofscript" id="proof646">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">q</span> := <span class="id">x</span> / <span class="id">y</span>). <span class="tactic">set</span> (<span class="id">r</span> := <span class="id">x</span> <span class="id">mod</span> <span class="id">y</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">r</span> 0).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_unique">Zdiv_unique</a></span> <span class="kwd">with</span> (<span class="id">y</span> - 1). <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">ring</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_unique">Zdiv_unique</a></span> <span class="kwd">with</span> (<span class="id">r</span> - 1). <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">ring</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shrx_carry">shrx_carry</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shrx">shrx</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.shr_carry">shr_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof647')">Proof.</div>
<div class="proofscript" id="proof647">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shrx_shr">shrx_shr</a></span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_carry">shr_carry</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">set</span> (<span class="id">sx</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">sx</span> 0); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;2: <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_zero">add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">uy</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu_inv">ltu_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu_and">modu_and</a></span> <span class="kwd">with</span> (<span class="id">logn</span> := <span class="id">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_power2_two_p">is_power2_two_p</a></span>. <span class="tactic">unfold</span> <span class="id">uy</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>. <span class="id">fold</span> <span class="id">sx</span>. <span class="id">fold</span> <span class="id">uy</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &gt; 0). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus_power">modulus_power</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone_strict">two_p_monotone_strict</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> - 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_signed">add_signed</a></span>. <span class="id">fold</span> <span class="id">sx</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> - 1)). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modu">modu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> <span class="id">mod</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span> = <span class="id">sx</span> <span class="id">mod</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod_eq">eqmod_mod_eq</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_divides">eqmod_divides</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm">eqm</a></span>. <span class="tactic">unfold</span> <span class="id">sx</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">uy</span>)). <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H8</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zdiv_shift">Zdiv_shift</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">sx</span> <span class="id">mod</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>) 0); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_one">unsigned_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id">uy</span>) <span class="id">H3</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">x</span>). <span class="id">fold</span> <span class="id">sx</span>. <span class="tactic">intros</span>. <span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Connections between <span class="bracket"><span class="id">shr</span></span> and <span class="bracket"><span class="id">shru</span></span>. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.shr_shru_positive">shr_shru_positive</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &gt;= 0 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof648')">Proof.</div>
<div class="proofscript" id="proof648">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shru_div_two_p">shru_div_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_eq_unsigned">signed_eq_unsigned</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_positive">signed_positive</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.and_positive">and_positive</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &gt;= 0 -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) &gt;= 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof649')">Proof.</div>
<div class="proofscript" id="proof649">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_positive">signed_positive</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span> <span class="id">y</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_bit_of_unsigned">sign_bit_of_unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">x</span> <span class="id">y</span>)); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.shr_and_is_shru_and">shr_and_is_shru_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof650')">Proof.</div>
<div class="proofscript" id="proof650">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_shru_positive">shr_shru_positive</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.and_positive">and_positive</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>) 0). <span class="tactic">congruence</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of integer zero extension and sign extension. </h2>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ziter_base">Ziter_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) <span class="id">n</span> (<span class="id">f</span>: <span class="id"><a href="compcert.lib.Integers.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#A">A</a></span>) <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= 0 -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof651')">Proof.</div>
<div class="proofscript" id="proof651">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span>. <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">auto</span>. <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">elim</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ziter_succ">Ziter_succ</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) <span class="id">n</span> (<span class="id">f</span>: <span class="id"><a href="compcert.lib.Integers.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#A">A</a></span>) <span class="id">x</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.iter">Z.iter</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof652')">Proof.</div>
<div class="proofscript" id="proof652">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_1_r">Pos.add_1_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.iter_succ">Pos.iter_succ</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">elim</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Znatlike_ind">Znatlike_ind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= 0 -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#P">P</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof653')">Proof.</div>
<div class="proofscript" id="proof653">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> 0 <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#natlike_ind">natlike_ind</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zzero_ext_spec">Zzero_ext_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zzero_ext">Zzero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof654')">Proof.</div>
<div class="proofscript" id="proof654">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zzero_ext">Zzero_ext</a></span>. <span class="tactic">induction</span> <span class="id">n</span> <span class="kwd">using</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Znatlike_ind">Znatlike_ind</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ziter_base">Ziter_base</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ziter_succ">Ziter_succ</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span> <span class="id">i</span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">IHn</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">i</span>) <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_zero_ext">bits_zero_ext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof655')">Proof.</div>
<div class="proofscript" id="proof655">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zzero_ext_spec">Zzero_ext_spec</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zsign_ext_spec">Zsign_ext_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt; 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsign_ext">Zsign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> - 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof656')">Proof.</div>
<div class="proofscript" id="proof656">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">n0</span> <span class="id">x</span> <span class="id">i</span> <span class="id">I0</span> <span class="id">N0</span>.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">x</span> <span class="id">i</span> <span class="id">I0</span>. <span class="tactic">pattern</span> <span class="id">n0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Wf_Z.html#Zlt_lower_bound_ind">Zlt_lower_bound_ind</a></span> <span class="kwd">with</span> (<span class="id">z</span> := 1).<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsign_ext">Zsign_ext</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">x</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> 1 <span class="kwd">then</span> <span class="id">i</span> <span class="kwd">else</span> 0) <span class="kwd">with</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_base">Ztestbit_base</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.odd">Z.odd</a></span> <span class="id">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_m1">Ztestbit_m1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> 1); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">set</span> (<span class="id">x1</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">x</span>). <span class="tactic">replace</span> <span class="id">x1</span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">x1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ziter_succ">Ziter_succ</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">subst</span> <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_base">Ztestbit_base</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id">x1</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">i</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span> <span class="id">i</span> <span class="id">x0</span>); <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_eq">Ztestbit_eq</a></span> (<span class="id">x</span> - 1) <span class="id">x0</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">unfold</span> <span class="id">x1</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id">x1</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.bits_sign_ext">bits_sign_ext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> - 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof657')">Proof.</div>
<div class="proofscript" id="proof657">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsign_ext_spec">Zsign_ext_spec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span>: <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_above">zero_ext_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &gt;= <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof658')">Proof.</div>
<div class="proofscript" id="proof658">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_above">sign_ext_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &gt;= <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof659')">Proof.</div>
<div class="proofscript" id="proof659">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsign_ext_spec">Zsign_ext_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_and">zero_ext_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> - 1)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof660')">Proof.</div>
<div class="proofscript" id="proof660">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_two_p_m1">Ztestbit_two_p_m1</a></span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_mod">zero_ext_mod</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.modulo">Z.modulo</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof661')">Proof.</div>
<div class="proofscript" id="proof661">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.equal_same_bits">equal_same_bits</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_mod_two_p">Ztestbit_mod_two_p</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id">n</span> <span class="id">x</span>) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_widen">zero_ext_widen</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">n</span>', 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id">n</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id">n</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof662')">Proof.</div>
<div class="proofscript" id="proof662">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_widen">sign_ext_widen</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">n</span>', 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>  &lt;= <span class="id">n</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof663')">Proof.</div>
<div class="proofscript" id="proof663">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>').<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="id">_</span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">n</span>' - 1) <span class="id">n</span>); <span class="tactic">f_equal</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>'); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_zero_ext_widen">sign_zero_ext_widen</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">n</span>', 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id">n</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span>' (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof664')">Proof.</div>
<div class="proofscript" id="proof664">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>').<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>'); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_narrow">zero_ext_narrow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">n</span>', 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id">n</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof665')">Proof.</div>
<div class="proofscript" id="proof665">
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_narrow">sign_ext_narrow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">n</span>', 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id">n</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof666')">Proof.</div>
<div class="proofscript" id="proof666">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above</a></span> <span class="id">n</span>'). <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_sign_ext_narrow">zero_sign_ext_narrow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">n</span>', 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id">n</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof667')">Proof.</div>
<div class="proofscript" id="proof667">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_above">sign_ext_above</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_idem">zero_ext_idem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof668')">Proof.</div>
<div class="proofscript" id="proof668">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_widen">zero_ext_widen</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_idem">sign_ext_idem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof669')">Proof.</div>
<div class="proofscript" id="proof669">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_widen">sign_ext_widen</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_zero_ext">sign_ext_zero_ext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof670')">Proof.</div>
<div class="proofscript" id="proof670">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="id">bit_solve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_above">zero_ext_above</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_sign_ext">zero_ext_sign_ext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof671')">Proof.</div>
<div class="proofscript" id="proof671">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_sign_ext_narrow">zero_sign_ext_narrow</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_equal_if_zero_equal">sign_ext_equal_if_zero_equal</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span> <span class="id">y</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof672')">Proof.</div>
<div class="proofscript" id="proof672">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_zero_ext">sign_ext_zero_ext</a></span> <span class="id">n</span> <span class="id">x</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_zero_ext">sign_ext_zero_ext</a></span> <span class="id">n</span> <span class="id">y</span> <span class="id">H</span>). <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.zero_ext_shru_shl">zero_ext_shru_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof673')">Proof.</div>
<div class="proofscript" id="proof673">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_zero_ext">bits_zero_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shru">bits_shru</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.sign_ext_shr_shl">sign_ext_shr_shl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof674')">Proof.</div>
<div class="proofscript" id="proof674">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shr">bits_shr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_shl">bits_shl</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">zero_ext</span> <span class="id">n</span> <span class="id">x</span></span> is the unique integer congruent to <span class="bracket"><span class="id">x</span></span> modulo <span class="bracket">2^<span class="id">n</span></span>
    in the range <span class="bracket">0...2^<span class="id">n</span>-1</span>. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.zero_ext_range">zero_ext_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof675')">Proof.</div>
<div class="proofscript" id="proof675">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_mod">zero_ext_mod</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_zero_ext">eqmod_zero_ext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext">zero_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof676')">Proof.</div>
<div class="proofscript" id="proof676">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero_ext_mod">zero_ext_mod</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_sym">eqmod_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_mod">eqmod_mod</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">sign_ext</span> <span class="id">n</span> <span class="id">x</span></span> is the unique integer congruent to <span class="bracket"><span class="id">x</span></span> modulo <span class="bracket">2^<span class="id">n</span></span>
    in the range <span class="bracket">-2^(<span class="id">n</span>-1)...2^(<span class="id">n</span>-1) - 1</span>. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.sign_ext_range">sign_ext_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; -<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>-1) &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>-1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof677')">Proof.</div>
<div class="proofscript" id="proof677">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext_shr_shl">sign_ext_shr_shl</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">X</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n</span> - 1) &gt; 0) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>)) = <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shr_div_two_p">shr_div_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_interval_1">Zdiv_interval_1</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n</span> - 1) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id">n</span> - 1) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>))) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">n</span> - 1 + (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - 1) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_power">half_modulus_power</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">X</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_interval_2">Zdiv_interval_2</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed_neg">min_signed_neg</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed_pos">max_signed_pos</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">eqmod_sign_ext</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof678')">Proof.</div>
<div class="proofscript" id="proof678">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">N</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">N</span> = <span class="id">n</span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_same_bits">eqmod_same_bits</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span> <span class="id">x</span>) <span class="id">i</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_sign_ext">bits_sign_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.eqmod_sign_ext">eqmod_sign_ext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eqmod">eqmod</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof679')">Proof.</div>
<div class="proofscript" id="proof679">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_trans">eqmod_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sign_ext">sign_ext</a></span> <span class="id">n</span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqmod_divides">eqmod_divides</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> - <span class="id">n</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span>. <span class="id">fold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_is_exp">two_p_is_exp</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">eqmod_sign_ext</span>'; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of <span class="bracket"><span class="id">one_bits</span></span> (decomposition in sum of powers of two) </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.one_bits_range">one_bits_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof680')">Proof.</div>
<div class="proofscript" id="proof680">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">p</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#p">p</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.iwordsize">iwordsize</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> [<span class="id">i0</span> [<span class="id">EQ</span> <span class="id">IN</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">i</span>. <span class="tactic">apply</span> <span class="id">A</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_range">Z_one_bits_range</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="Make.int_of_one_bits">int_of_one_bits</a></span> (<span class="id">l</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span><br/>
&nbsp;&nbsp;| <span class="id">a</span> :: <span class="id">b</span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.shl">shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#int_of_one_bits">int_of_one_bits</a></span> <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.one_bits_decomp">one_bits_decomp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.int_of_one_bits">int_of_one_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof681')">Proof.</div>
<div class="proofscript" id="proof681">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.powerserie">powerserie</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) 0))).<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_powerserie">Z_one_bits_powerserie</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_bits">one_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits_range">Z_one_bits_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) 0).<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">IHl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_add">eqm_add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.shl_mul_two_p">shl_mul_two_p</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_commut">mul_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.mul_one">mul_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_unsigned_repr_r">eqm_unsigned_repr_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">H</span> <span class="id">a</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_eq">in_eq</a></span> <span class="id">_</span> <span class="id">_</span>)). <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_max_unsigned">wordsize_max_unsigned</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<h2> Properties of comparisons </h2>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.negate_cmp">negate_cmp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#negate_comparison">negate_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof682')">Proof.</div>
<div class="proofscript" id="proof682">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_elim">negb_elim</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.negate_cmpu">negate_cmpu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#negate_comparison">negate_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof683')">Proof.</div>
<div class="proofscript" id="proof683">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_elim">negb_elim</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.swap_cmp">swap_cmp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof684')">Proof.</div>
<div class="proofscript" id="proof684">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>. <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.swap_cmpu">swap_cmpu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof685')">Proof.</div>
<div class="proofscript" id="proof685">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>. <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_sym">eq_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.translate_eq">translate_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof686')">Proof.</div>
<div class="proofscript" id="proof686">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">red</span>; <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_small_eq">eqm_small_eq</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) <span class="kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>) - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) <span class="kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>) - <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sub">eqm_sub</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">d</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">ints</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.translate_ltu">translate_ltu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof687')">Proof.</div>
<div class="proofscript" id="proof687">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_repr">unsigned_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.translate_cmpu">translate_cmpu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_unsigned">max_unsigned</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof688')">Proof.</div>
<div class="proofscript" id="proof688">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmpu">cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_eq">translate_eq</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_ltu">translate_ltu</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.translate_lt">translate_lt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof689')">Proof.</div>
<div class="proofscript" id="proof689">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.add_signed">add_signed</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>; <span class="tactic">auto</span>. <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>)); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.translate_cmp">translate_cmp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#d">d</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#c">c</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof690')">Proof.</div>
<div class="proofscript" id="proof690">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.cmp">cmp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_eq">translate_eq</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.translate_lt">translate_lt</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.notbool_isfalse_istrue">notbool_isfalse_istrue</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof691')">Proof.</div>
<div class="proofscript" id="proof691">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool</a></span>; <span class="tactic">intros</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq_true">eq_true</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one_not_zero">one_not_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.notbool_istrue_isfalse">notbool_istrue_isfalse</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof692')">Proof.</div>
<div class="proofscript" id="proof692">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.is_false">is_false</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.is_true">is_true</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.notbool">notbool</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq_spec">eq_spec</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>). <span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.ltu_range_test">ltu_range_test</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof693')">Proof.</div>
<div class="proofscript" id="proof693">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_eq_unsigned">signed_eq_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>). <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.lt_sub_overflow">lt_sub_overflow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub_overflow">sub_overflow</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.negative">negative</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.sub">sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Make.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof694')">Proof.</div>
<div class="proofscript" id="proof694">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.negative">negative</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.sub_overflow">sub_overflow</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.sub_signed">sub_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_zero">signed_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed_range">signed_range</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">X</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>); <span class="tactic">set</span> (<span class="id">Y</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>). <span class="tactic">intros</span> <span class="id">RX</span> <span class="id">RY</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_pos">half_modulus_pos</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus_modulus">half_modulus_modulus</a></span>; <span class="tactic">intros</span> <span class="id">HM</span> <span class="id">MM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> 0 (<span class="id">X</span> - <span class="id">Y</span>)).<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="tactic">at</span> 1; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="tactic">at</span> 1 <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="id">_</span> <span class="id">X</span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">X</span> - <span class="id">Y</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>).<br/>
&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id">X</span> - <span class="id">Y</span>))) <span class="kwd">with</span> (<span class="id">X</span> - <span class="id">Y</span> - <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_idem">xor_idem</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr_eq">signed_repr_eq</a></span>. <span class="tactic">replace</span> ((<span class="id">X</span> - <span class="id">Y</span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="kwd">with</span> (<span class="id">X</span> - <span class="id">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> 0; <span class="tactic">omega</span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="tactic">at</span> 2. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="tactic">at</span> 1 <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="id">_</span> <span class="id">X</span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">X</span> - <span class="id">Y</span>) (-<span class="id"><a href="compcert.lib.Integers.html#Make.half_modulus">half_modulus</a></span>)).<br/>
&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_false">zle_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.repr">repr</a></span> (<span class="id">X</span> - <span class="id">Y</span>))) <span class="kwd">with</span> (<span class="id">X</span> - <span class="id">Y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero">xor_zero</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr_eq">signed_repr_eq</a></span>. <span class="tactic">replace</span> ((<span class="id">X</span> - <span class="id">Y</span>) <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>) <span class="kwd">with</span> (<span class="id">X</span> - <span class="id">Y</span> + <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zmod_unique">Zmod_unique</a></span> <span class="kwd">with</span> (-1); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zle_true">zle_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_repr">signed_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.xor_zero_l">xor_zero_l</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.min_signed">min_signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.max_signed">max_signed</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.signed_eq">signed_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof695')">Proof.</div>
<div class="proofscript" id="proof695">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>));<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span>. <span class="tactic">rewrite</span> <span class="id">e</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_small_eq">eqm_small_eq</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_trans">eqm_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_sym">eqm_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.eqm_signed_unsigned">eqm_signed_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.not_lt">not_lt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> || <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof696')">Proof.</div>
<div class="proofscript" id="proof696">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.signed_eq">signed_eq</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.signed">signed</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.lt_not">lt_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof697')">Proof.</div>
<div class="proofscript" id="proof697">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_orb">negb_orb</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.not_lt">not_lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.not_ltu">not_ltu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> || <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof698')">Proof.</div>
<div class="proofscript" id="proof698">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.ltu_not">ltu_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.ltu">ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.eq">eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof699')">Proof.</div>
<div class="proofscript" id="proof699">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_orb">negb_orb</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.not_ltu">not_ltu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">negb_involutive</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<div class="doc">Non-overlapping test </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.no_overlap">no_overlap</a></span> (<span class="id">ofs1</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span class="id">sz1</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">ofs2</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) (<span class="id">sz2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x1</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1">ofs1</a></span> <span class="kwd">in</span> <span class="kwd">let</span> <span class="id">x2</span> := <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2">ofs2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x1">x1</a></span> + <span class="id"><a href="compcert.lib.Integers.html#sz1">sz1</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span> &amp;&amp; <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x2">x2</a></span> + <span class="id"><a href="compcert.lib.Integers.html#sz2">sz2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Make.modulus">modulus</a></span><br/>
&nbsp;&nbsp;&amp;&amp; (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x1">x1</a></span> + <span class="id"><a href="compcert.lib.Integers.html#sz1">sz1</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x2">x2</a></span> || <span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x2">x2</a></span> + <span class="id"><a href="compcert.lib.Integers.html#sz2">sz2</a></span>) <span class="id"><a href="compcert.lib.Integers.html#x1">x1</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.no_overlap_sound">no_overlap_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs1</span> <span class="id">sz1</span> <span class="id">ofs2</span> <span class="id">sz2</span> <span class="id">base</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#sz1">sz1</a></span> &gt; 0 -&gt; <span class="id"><a href="compcert.lib.Integers.html#sz2">sz2</a></span> &gt; 0 -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.no_overlap">no_overlap</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1">ofs1</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz1">sz1</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2">ofs2</a></span> <span class="id"><a href="compcert.lib.Integers.html#sz2">sz2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1">ofs1</a></span>) + <span class="id"><a href="compcert.lib.Integers.html#sz1">sz1</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2">ofs2</a></span>)<br/>
&nbsp;&nbsp;\/ <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs2">ofs2</a></span>) + <span class="id"><a href="compcert.lib.Integers.html#sz2">sz2</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#base">base</a></span> <span class="id"><a href="compcert.lib.Integers.html#ofs1">ofs1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof700')">Proof.</div>
<div class="proofscript" id="proof700">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="tactic">clear</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs1</span> + <span class="id">sz1</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs2</span> \/ <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs2</span> + <span class="id">sz2</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">ofs1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_prop">orb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span>). <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span>; <span class="tactic">eauto</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">ofs2</span>). <span class="tactic">intros</span> <span class="id">P</span> <span class="id">Q</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_add_either">unsigned_add_either</a></span> <span class="id">base</span> <span class="id">ofs1</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_add_either">unsigned_add_either</a></span> <span class="id">base</span> <span class="id">ofs2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">C</span>|<span class="id">C</span>] [<span class="id">D</span>|<span class="id">D</span>]; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Size of integers, in bits. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.Zsize">Zsize</a></span> (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.size">Pos.size</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; 0<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Make.size">size</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Make.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Make.Zsize_pos">Zsize_pos</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof701')">Proof.</div>
<div class="proofscript" id="proof701">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>. <span class="tactic">omega</span>. <span class="tactic">compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id">Zsize_pos</span>': <span class="kwd">forall</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof702')">Proof.</div>
<div class="proofscript" id="proof702">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zsize_shiftin">Zsize_shiftin</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof703')">Proof.</div>
<div class="proofscript" id="proof703">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id">p</span>~1)).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_1_r">Pos.add_1_r</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id">p</span>~0)).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_1_r">Pos.add_1_r</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ztestbit_size_1">Ztestbit_size_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt; <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof704')">Proof.</div>
<div class="proofscript" id="proof704">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x0</span> <span class="id">POS0</span>; <span class="tactic">pattern</span> <span class="id">x0</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_pos_ind">Zshiftin_pos_ind</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_shiftin">Zsize_shiftin</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id">x</span>))) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Z.succ</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id">x</span>))) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin_succ">Ztestbit_shiftin_succ</a></span>. <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id">Zsize_pos</span>' <span class="id">x</span> <span class="id">H</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Ztestbit_size_2">Ztestbit_size_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &gt;= <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof705')">Proof.</div>
<div class="proofscript" id="proof705">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">x0</span> <span class="id">POS0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">x0</span> 0).<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span> <span class="id">x0</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">pattern</span> <span class="id">x0</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin_pos_ind">Zshiftin_pos_ind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="id">change</span> 1 <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zshiftin">Zshiftin</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_0">Ztestbit_0</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_shiftin">Zsize_shiftin</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">Zsize_pos</span>' <span class="id">_</span> <span class="id">H</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_shiftin">Ztestbit_shiftin</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zsize_interval_1">Zsize_interval_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof706')">Proof.</div>
<div class="proofscript" id="proof706">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">x</span> = <span class="id">x</span> <span class="id">mod</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.equal_same_bits">equal_same_bits</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_mod_two_p">Ztestbit_mod_two_p</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id">x</span>)). <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_size_2">Ztestbit_size_2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_pos">Zsize_pos</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="tactic">at</span> 1. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="tactic">at</span> 3. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p_gt_ZERO">two_p_gt_ZERO</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_pos">Zsize_pos</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zsize_interval_2">Zsize_interval_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &gt;= <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof707')">Proof.</div>
<div class="proofscript" id="proof707">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">set</span> (<span class="id">N</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id">N</span> = <span class="id">n</span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_two_p">two_power_nat_two_p</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">x</span> 0).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id">x</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_above">Ztestbit_above</a></span> <span class="id">N</span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id">x</span>))). <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_size_1">Ztestbit_size_1</a></span>. <span class="tactic">congruence</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Make.Zsize_monotone">Zsize_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize">Zsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof708')">Proof.</div>
<div class="proofscript" id="proof708">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ge_le">Z.ge_le</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_interval_2">Zsize_interval_2</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_pos">Zsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_interval_1">Zsize_interval_1</a></span> <span class="id">y</span>). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_zero">size_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> = 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof709')">Proof.</div>
<div class="proofscript" id="proof709">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.bits_size_1">bits_size_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Make.zero">zero</a></span> \/ <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof710')">Proof.</div>
<div class="proofscript" id="proof710">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id">x</span>) 0).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Make.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> <span class="id">e</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_size_1">Ztestbit_size_1</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.bits_size_2">bits_size_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof711')">Proof.</div>
<div class="proofscript" id="proof711">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Ztestbit_size_2">Ztestbit_size_2</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_range">size_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof712')">Proof.</div>
<div class="proofscript" id="proof712">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_pos">Zsize_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">simpl</span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Make.wordsize_pos">wordsize_pos</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_above">bits_above</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.bits_size_3">bits_size_3</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof713')">Proof.</div>
<div class="proofscript" id="proof713">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>) <span class="id">n</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_zero">unsigned_zero</a></span>; <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">H0</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>))) <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.bits_size_4">bits_size_4</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pred">Z.pred</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Make.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof714')">Proof.</div>
<div class="proofscript" id="proof714">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span> &lt;= <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_3">bits_size_3</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">x</span>) <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">congruence</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_interval_1">size_interval_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof715')">Proof.</div>
<div class="proofscript" id="proof715">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_interval_1">Zsize_interval_1</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.unsigned_range">unsigned_range</a></span> <span class="id">x</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_interval_2">size_interval_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> &gt;= <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof716')">Proof.</div>
<div class="proofscript" id="proof716">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.Zsize_interval_2">Zsize_interval_2</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_and">size_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof717')">Proof.</div>
<div class="proofscript" id="proof717">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">b</span>). <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_3">bits_size_3</a></span>. <span class="tactic">auto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_and">bits_and</a></span>. <span class="id">zify</span>. <span class="tactic">subst</span> <span class="id">z</span> <span class="id">z0</span>. <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span> <span class="id">a</span>). <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span> <span class="id">b</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.and_interval">and_interval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof718')">Proof.</div>
<div class="proofscript" id="proof718">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_interval_1">size_interval_1</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">a</span> <span class="id">b</span>)); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">a</span> <span class="id">b</span>)) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min">Z.min</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone">two_p_monotone</a></span>. <span class="tactic">split</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.and">and</a></span> <span class="id">a</span> <span class="id">b</span>)); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_and">size_and</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_or">size_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof719')">Proof.</div>
<div class="proofscript" id="proof719">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">a</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_zero">size_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_zero_l">or_zero_l</a></span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_1">bits_size_1</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">b</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_zero">size_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.or_zero">or_zero</a></span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">zify</span>. <span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> [[<span class="id">P</span> <span class="id">Q</span>] | [<span class="id">P</span> <span class="id">Q</span>]]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_4">bits_size_4</a></span>. <span class="tactic">tauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_4">bits_size_4</a></span>. <span class="tactic">tauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_l">orb_true_l</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) 0). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Make.testbit">testbit</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_neg_r">Z.testbit_neg_r</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_or">bits_or</a></span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.or_interval">or_interval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.or">or</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof720')">Proof.</div>
<div class="proofscript" id="proof720">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Make.size_or">size_or</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_interval_1">size_interval_1</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Make.size_xor">size_xor</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof721')">Proof.</div>
<div class="proofscript" id="proof721">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> <span class="id">b</span>). <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_3">bits_size_3</a></span>. <span class="tactic">auto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Make.bits_xor">bits_xor</a></span>. <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Make.bits_size_2">bits_size_2</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="Make.xor_interval">xor_interval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Make.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof722')">Proof.</div>
<div class="proofscript" id="proof722">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_interval_1">size_interval_1</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">a</span> <span class="id">b</span>)); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">a</span> <span class="id">b</span>)) &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">a</span>) (<span class="id"><a href="compcert.lib.Integers.html#Make.size">size</a></span> <span class="id">b</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_p_monotone">two_p_monotone</a></span>. <span class="tactic">split</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Make.size_range">size_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Make.xor">xor</a></span> <span class="id">a</span> <span class="id">b</span>)); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Make.size_xor">size_xor</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>.<br/>
<br/>
<h1> Specialization to integers of size 8, 32, and 64 bits </h1>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Wordsize_32">Wordsize_32</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Wordsize_32.wordsize">wordsize</a></span> := 32%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="Wordsize_32.wordsize_not_zero">wordsize_not_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Wordsize_32.wordsize">wordsize</a></span> &lt;&gt; 0%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof723')">Proof.</div>
<div class="proofscript" id="proof723">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_32.wordsize">wordsize</a></span>; <span class="tactic">congruence</span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_32">Wordsize_32</a></span>.<br/>
<br/>
<span class="id">Strategy</span> <span class="id">opaque</span> [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_32.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Int">Int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_32">Wordsize_32</a></span>).<br/>
<br/>
<span class="id">Strategy</span> 0 [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_32.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#int">Int.int</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="int_wordsize_divides_modulus">int_wordsize_divides_modulus</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide">Z.divide</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="compcert.lib.Integers.html#wordsize">Int.wordsize</a></span>) <span class="id"><a href="compcert.lib.Integers.html#modulus">Int.modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof724')">Proof.</div>
<div class="proofscript" id="proof724">
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (32-5)); <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Wordsize_8">Wordsize_8</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Wordsize_8.wordsize">wordsize</a></span> := 8%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="Wordsize_8.wordsize_not_zero">wordsize_not_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Wordsize_8.wordsize">wordsize</a></span> &lt;&gt; 0%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof725')">Proof.</div>
<div class="proofscript" id="proof725">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_8.wordsize">wordsize</a></span>; <span class="tactic">congruence</span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_8">Wordsize_8</a></span>.<br/>
<br/>
<span class="id">Strategy</span> <span class="id">opaque</span> [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_8.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Byte">Byte</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_8">Wordsize_8</a></span>).<br/>
<br/>
<span class="id">Strategy</span> 0 [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_8.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="byte">byte</a></span> := <span class="id"><a href="compcert.lib.Integers.html#int">Byte.int</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Wordsize_64">Wordsize_64</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Wordsize_64.wordsize">wordsize</a></span> := 64%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="Wordsize_64.wordsize_not_zero">wordsize_not_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Wordsize_64.wordsize">wordsize</a></span> &lt;&gt; 0%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof726')">Proof.</div>
<div class="proofscript" id="proof726">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_64.wordsize">wordsize</a></span>; <span class="tactic">congruence</span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_64">Wordsize_64</a></span>.<br/>
<br/>
<span class="id">Strategy</span> <span class="id">opaque</span> [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_64.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Int64">Int64</a></span>.<br/>
<br/>
<span class="kwd">Include</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_64">Wordsize_64</a></span>).<br/>
<br/>
<div class="doc">Shifts with amount given as a 32-bit integer </div>
<br/>
<span class="kwd">Definition</span> <span class="id">iwordsize</span>': <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">shl</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id">shru</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id">shr</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id">rol</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.rol">rol</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<span class="kwd">Definition</span> <span class="id">shrx</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.divs">divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id">shr_carry</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) (<span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span> &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq">eq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">and</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">bits_shl</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof727')">Proof.</div>
<div class="proofscript" id="proof727">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shl</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_low">Z.shiftl_spec_low</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_spec_high">Z.shiftl_spec_high</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bits_shru</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id">shru</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof728')">Proof.</div>
<div class="proofscript" id="proof728">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shru</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id">x</span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_above">bits_above</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">bits_shr</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id">shr</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> - 1).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof729')">Proof.</div>
<div class="proofscript" id="proof729">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shr</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr_spec">Z.shiftr_spec</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_signed">bits_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">shl</span>'<span class="id">_mul_two_p</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof730')">Proof.</div>
<div class="proofscript" id="proof730">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shl</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Zshiftl_mul_two_p">Zshiftl_mul_two_p</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mult">eqm_mult</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">y</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">shl</span>'<span class="id">_one_two_p</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span>, <span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof731')">Proof.</div>
<div class="proofscript" id="proof731">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">shl</span>'<span class="id">_mul_two_p</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul_commut">mul_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul_one">mul_one</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shl</span>'<span class="id">_mul</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof732')">Proof.</div>
<div class="proofscript" id="proof732">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">shl</span>'<span class="id">_one_two_p</span>. <span class="tactic">apply</span> <span class="id">shl</span>'<span class="id">_mul_two_p</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shl</span>'<span class="id">_zero</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof733')">Proof.</div>
<div class="proofscript" id="proof733">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shl</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shru</span>'<span class="id">_zero</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">shru</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof734')">Proof.</div>
<div class="proofscript" id="proof734">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shru</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shr</span>'<span class="id">_zero</span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">shr</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof735')">Proof.</div>
<div class="proofscript" id="proof735">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">shr</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftr">Z.shiftr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_signed">repr_signed</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shrx</span>'<span class="id">_zero</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id">shrx</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> = <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof736')">Proof.</div>
<div class="proofscript" id="proof736">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">change</span> (<span class="id">shrx</span>' <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx">shrx</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx_zero">shrx_zero</a></span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shrx</span>'<span class="id">_carry</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 63) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shrx</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> (<span class="id">shr</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id">shr_carry</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof737')">Proof.</div>
<div class="proofscript" id="proof737">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 63)) <span class="kwd">with</span> 63 <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y1</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">U</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">y1</span> = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">assert</span> (63 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shrx">shrx</a></span> <span class="id">x</span> <span class="id">y1</span>).<br/>
- <span class="tactic">unfold</span> <span class="id">shrx</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx">shrx</a></span>, <span class="id">shl</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span>. <span class="tactic">rewrite</span> <span class="id">U</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx_carry">shrx_carry</a></span>. <br/>
+ <span class="tactic">f_equal</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span>, <span class="id">shr</span>'. <span class="tactic">rewrite</span> <span class="id">U</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr_carry">shr_carry</a></span>, <span class="id">shr_carry</span>', <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span>, <span class="id">shl</span>'. <span class="tactic">rewrite</span> <span class="id">U</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id">U</span>; <span class="tactic">tauto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shrx</span>'<span class="id">_shr_2</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 63) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shrx</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id">shr</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id">shru</span>' (<span class="id">shr</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 63)) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 64) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>))) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof738')">Proof.</div>
<div class="proofscript" id="proof738">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 63)) <span class="kwd">with</span> 63 <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">N1</span>: 63 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">N2</span>: 63 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z</span> = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">z</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> 64) <span class="id">z</span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 64) <span class="id">y</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">z</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> 64)) <span class="kwd">with</span> 64.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 64)) <span class="kwd">with</span> 64.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">shrx</span>', <span class="id">shr</span>', <span class="id">shru</span>', <span class="id">shl</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 63)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> 63)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shrx_shr_2">shrx_shr_2</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z</span> &lt; 63). <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Int64.int_ltu_2_inv">int_ltu_2_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">iwordsize</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">y</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> <span class="id">y</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> <span class="id">z</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y</span>' <span class="id">z</span>')<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y</span>' <span class="id">z</span>' = <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof739')">Proof.</div>
<div class="proofscript" id="proof739">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">iwordsize</span>') <span class="kwd">with</span> 64 <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (128 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (128 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">y</span>' = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Z</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">z</span>' = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">P</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y</span>' <span class="id">z</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id">Y</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id">Z</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">P</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">or_ror</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id">iwordsize</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ror">ror</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>)) = <span class="id"><a href="compcert.lib.Integers.html#Int64.or">or</a></span> (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id">shru</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof740')">Proof.</div>
<div class="proofscript" id="proof740">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>); <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shl</span>' <span class="id">x</span> <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shru</span>' <span class="id">x</span> <span class="id">z</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.or_ror">or_ror</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">F</span>, <span class="id">H1</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span>, <span class="id">shru</span>'; <span class="tactic">rewrite</span> &lt;- <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span>, <span class="id">shl</span>'; <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shl</span>'<span class="id">_shl</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shl</span>' (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof741')">Proof.</div>
<div class="proofscript" id="proof741">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>); <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shl</span>' <span class="id">x</span> <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> <span class="id">y</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shl</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> <span class="id">y</span>') <span class="id">z</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> <span class="id">y</span>') <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shl</span>' <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y</span>' <span class="id">z</span>')).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl_shl">shl_shl</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span>, <span class="id">shl</span>'. <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> <span class="tactic">at</span> 1, <span class="id">shl</span>'. <span class="tactic">rewrite</span> &lt;- <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span>, <span class="id">shl</span>'; <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shru</span>'<span class="id">_shru</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shru</span>' (<span class="id">shru</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id">shru</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof742')">Proof.</div>
<div class="proofscript" id="proof742">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>); <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shru</span>' <span class="id">x</span> <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> <span class="id">y</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shru</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> <span class="id">y</span>') <span class="id">z</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> <span class="id">y</span>') <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shru</span>' <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y</span>' <span class="id">z</span>')).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru_shru">shru_shru</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span>, <span class="id">shru</span>'. <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="tactic">at</span> 1, <span class="id">shru</span>'. <span class="tactic">rewrite</span> &lt;- <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span>, <span class="id">shru</span>'; <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">shr</span>'<span class="id">_shr</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>) <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shr</span>' (<span class="id">shr</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span> = <span class="id">shr</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof743')">Proof.</div>
<div class="proofscript" id="proof743">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_ltu_2_inv">int_ltu_2_inv</a></span> <span class="id">y</span> <span class="id">z</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>); <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">z</span>' := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">z</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shr</span>' <span class="id">x</span> <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> <span class="id">y</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shr</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> <span class="id">y</span>') <span class="id">z</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> <span class="id">y</span>') <span class="id">z</span>').<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">shr</span>' <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">y</span> <span class="id">z</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> <span class="id">y</span>' <span class="id">z</span>')).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr_shr">shr_shr</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.iwordsize">iwordsize</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span>, <span class="id">shr</span>'. <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span> <span class="tactic">at</span> 1, <span class="id">shr</span>'. <span class="tactic">rewrite</span> &lt;- <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shr">shr</a></span>, <span class="id">shr</span>'; <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Powers of two with exponents given as 32-bit ints </div>
<br/>
<span class="kwd">Definition</span> <span class="id">one_bits</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) 0).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">is_power2</span>' (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">i</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">one_bits</span>'<span class="id">_range</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">i</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> (<span class="id">one_bits</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof744')">Proof.</div>
<div class="proofscript" id="proof744">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> [<span class="id">i0</span> [<span class="id">EQ</span> <span class="id">IN</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits_range">Z_one_bits_range</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">iwordsize</span>') <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id">int_of_one_bits</span>' (<span class="id">l</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Integers.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zero">zero</a></span><br/>
&nbsp;&nbsp;| <span class="id">a</span> :: <span class="id">b</span> =&gt; <span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> (<span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#Int64.one">one</a></span> <span class="id">a</span>) (<span class="id">int_of_one_bits</span>' <span class="id">b</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id">one_bits</span>'<span class="id">_decomp</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> = <span class="id">int_of_one_bits</span>' (<span class="id">one_bits</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof745')">Proof.</div>
<div class="proofscript" id="proof745">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REC</span>: <span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#l">l</a></span> -&gt; 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">int_of_one_bits</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#l">l</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.powerserie">powerserie</a></span> <span class="id"><a href="compcert.lib.Integers.html#l">l</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">IHl</span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">shl</span>'<span class="id">_one_two_p</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">H</span> <span class="id">a</span>). <span class="tactic">auto</span>. <span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1. <span class="tactic">unfold</span> <span class="id">one_bits</span>'. <span class="tactic">rewrite</span> <span class="id">REC</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits_powerserie">Z_one_bits_powerserie</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">unsigned_range</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits_range">Z_one_bits_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_power2</span>'<span class="id">_rng</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id">is_power2</span>' <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof746')">Proof.</div>
<div class="proofscript" id="proof746">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">is_power2</span>'; <span class="tactic">intros</span> <span class="id">n</span> <span class="id">logn</span> <span class="id">P2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>) 0) <span class="kwd">as</span> [ | <span class="id">i</span> [ | ? ?]] <span class="id">eqn</span>:<span class="id">B</span>; <span class="id">inv</span> <span class="id">P2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">i</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits_range">Z_one_bits_range</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>). <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">is_power2</span>'<span class="id">_range</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id">is_power2</span>' <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> <span class="id">iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof747')">Proof.</div>
<div class="proofscript" id="proof747">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">iwordsize</span>') <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">generalize</span> (<span class="id">is_power2</span>'<span class="id">_rng</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">is_power2</span>'<span class="id">_correct</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id">is_power2</span>' <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof748')">Proof.</div>
<div class="proofscript" id="proof748">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">is_power2</span>'; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits">Z_one_bits</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>) 0) <span class="kwd">as</span> [ | <span class="id">i</span> [ | ? ?]] <span class="id">eqn</span>:<span class="id">B</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits_powerserie">Z_one_bits_powerserie</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>)) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">unsigned_range</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">i</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Z_one_bits_range">Z_one_bits_range</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id">n</span>). <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">mul_pow2</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id">is_power2</span>' <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id">shl</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof749')">Proof.</div>
<div class="proofscript" id="proof749">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">shl</span>'<span class="id">_mul</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id">shl</span>'<span class="id">_one_two_p</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">repr_unsigned</a></span> <span class="id">n</span>). <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id">is_power2</span>'<span class="id">_correct</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id">divu_pow2</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span> <span class="id">logn</span>,<br/>
&nbsp;&nbsp;<span class="id">is_power2</span>' <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.divu">divu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> = <span class="id">shru</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#logn">logn</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof750')">Proof.</div>
<div class="proofscript" id="proof750">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id">is_power2</span>'<span class="id">_correct</span> <span class="id">n</span> <span class="id">logn</span> <span class="id">H</span>). <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.divu">divu</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id">shru</span>'. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.Zshiftr_div_two_p">Zshiftr_div_two_p</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">is_power2</span>'<span class="id">_rng</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Decomposing 64-bit ints as pairs of 32-bit ints </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Int64.loword">loword</a></span> (<span class="id">n</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Int64.hiword">hiword</a></span> (<span class="id">n</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>))).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Int64.ofwords">ofwords</a></span> (<span class="id">hi</span> <span class="id">lo</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shl">shl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.bits_loword">bits_loword</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof751')">Proof.</div>
<div class="proofscript" id="proof751">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit_repr">Int.testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.bits_hiword">bits_hiword</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof752')">Proof.</div>
<div class="proofscript" id="proof752">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit_repr">Int.testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">shru</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) <span class="id">i</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shru">bits_shru</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.bits_ofwords">bits_ofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">hi</span> <span class="id">lo</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> (<span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof753')">Proof.</div>
<div class="proofscript" id="proof753">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_or">bits_or</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_shl">bits_shl</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">testbit_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">lo</span> <span class="id">i</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_above">Int.bits_above</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.lo_ofwords">lo_ofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">hi</span> <span class="id">lo</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof754')">Proof.</div>
<div class="proofscript" id="proof754">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.same_bits_eq">Int.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_loword">bits_loword</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.hi_ofwords">hi_ofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">hi</span> <span class="id">lo</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof755')">Proof.</div>
<div class="proofscript" id="proof755">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.same_bits_eq">Int.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_hiword">bits_hiword</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.ofwords_recompose">ofwords_recompose</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof756')">Proof.</div>
<div class="proofscript" id="proof756">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">same_bits_eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_loword">bits_loword</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_hiword">bits_hiword</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.ofwords_add">ofwords_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lo</span> <span class="id">hi</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof757')">Proof.</div>
<div class="proofscript" id="proof757">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.shifted_or_is_add">shifted_or_is_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mult">eqm_mult</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">eqm_unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="kwd">with</span> 32; <span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> <span class="kwd">with</span> 64; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">lo</span>). <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">exact</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>) <span class="tactic">by</span> (<span class="tactic">compute</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">lo</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ofwords_add</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lo</span> <span class="id">hi</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof758')">Proof.</div>
<div class="proofscript" id="proof758">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">hi</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">lo</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> 4294967296.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span> <span class="kwd">with</span> 18446744073709551615.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Int.eqm">Int.eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm">eqm</a></span> (<span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) (<span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof759')">Proof.</div>
<div class="proofscript" id="proof759">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">EQ</span>]. <span class="id">exists</span> <span class="id">k</span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">modulus</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32).<br/>
&nbsp;&nbsp;<span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">ofwords_add</span>'':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lo</span> <span class="id">hi</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#hi">hi</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#lo">lo</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof760')">Proof.</div>
<div class="proofscript" id="proof760">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">hi</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">lo</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">hi</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">lo</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">signed_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">hi</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">lo</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">min_signed</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">max_signed</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> - 1).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> 4294967296.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_signed_unsigned">Int.eqm_signed_unsigned</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Expressing 64-bit operations in terms of 32-bit operations </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">f64</span> <span class="id">f32</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f64">f64</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f32">f32</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span> = <span class="id"><a href="compcert.lib.Integers.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.testbit">Int.testbit</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#f64">f64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#f32">f32</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#f32">f32</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof761')">Proof.</div>
<div class="proofscript" id="proof761">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>); <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_and">decompose_and</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.and">and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof762')">Proof.</div>
<div class="proofscript" id="proof762">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_and">bits_and</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_and">Int.bits_and</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_or">decompose_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.or">or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof763')">Proof.</div>
<div class="proofscript" id="proof763">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_or">bits_or</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_xor">decompose_xor</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.xor">xor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof764')">Proof.</div>
<div class="proofscript" id="proof764">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_bitwise_binop">decompose_bitwise_binop</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_xor">bits_xor</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_xor">Int.bits_xor</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_not">decompose_not</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.not">not</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof765')">Proof.</div>
<div class="proofscript" id="proof765">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.not">not</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_xor">decompose_xor</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mone">mone</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.mone">Int.mone</a></span>)).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_shl_1">decompose_shl_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shl</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof766')">Proof.</div>
<div class="proofscript" id="proof766">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">y</span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">bits_shl</span>' <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_shl_2">decompose_shl_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shl</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)) <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof767')">Proof.</div>
<div class="proofscript" id="proof767">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">bits_shl</span>' <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_shru_1">decompose_shru_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shru</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof768')">Proof.</div>
<div class="proofscript" id="proof768">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">y</span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">bits_shru</span>' <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_shru_2">decompose_shru_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shru</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof769')">Proof.</div>
<div class="proofscript" id="proof769">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">bits_shru</span>' <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_zero">Int.bits_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_shr_1">decompose_shr_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shr</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.or">Int.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shru">Int.shru</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof770')">Proof.</div>
<div class="proofscript" id="proof770">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">y</span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="compcert.lib.Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">bits_shr</span>' <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shl">Int.bits_shl</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shru">Int.bits_shru</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_shr_2">decompose_shr_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">shr</span>' (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.shr">Int.shr</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof771')">Proof.</div>
<div class="proofscript" id="proof771">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span> = 2 * <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">y</span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">bits_shr</span>' <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> - 1).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">zwordsize</a></span>);<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_ofwords">bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> + (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> - 1)) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> + (<span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span> - 1)) <span class="id"><a href="compcert.lib.Integers.html#Int.zwordsize">Int.zwordsize</a></span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_add">decompose_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.add">add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof772')">Proof.</div>
<div class="proofscript" id="proof772">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add_unsigned">add_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id">ofwords_add</span>'. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_add_carry">Int.unsigned_add_carry</a></span> <span class="id">xl</span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">cc</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span> <span class="id">xl</span> <span class="id">yl</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Xl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>); <span class="tactic">set</span> (<span class="id">Xh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>);<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Yl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>); <span class="tactic">set</span> (<span class="id">Yh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">Xh</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id">Xl</span> + (<span class="id">Yh</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id">Yl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((<span class="id">Xh</span> + <span class="id">Yh</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + (<span class="id">Xl</span> + <span class="id">Yl</span>)) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">cc</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Xl</span> + <span class="id">Yl</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">cc</span>) - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ (<span class="id">Xl</span> + <span class="id">Yl</span>)) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">Xh</span> + <span class="id">Yh</span>) <span class="kwd">with</span> ((<span class="id">Xh</span> + <span class="id">Yh</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span>) - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">cc</span>) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_sub">Int.eqm_sub</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_sub">decompose_sub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub_borrow">Int.sub_borrow</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof773')">Proof.</div>
<div class="proofscript" id="proof773">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id">ofwords_add</span>'. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_sub_borrow">Int.unsigned_sub_borrow</a></span> <span class="id">xl</span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">bb</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.sub_borrow">Int.sub_borrow</a></span> <span class="id">xl</span> <span class="id">yl</span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Xl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>); <span class="tactic">set</span> (<span class="id">Xh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>);<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Yl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>); <span class="tactic">set</span> (<span class="id">Yh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">Xh</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id">Xl</span> - (<span class="id">Yh</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id">Yl</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((<span class="id">Xh</span> - <span class="id">Yh</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + (<span class="id">Xl</span> - <span class="id">Yl</span>)) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">bb</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Xl</span> - <span class="id">Yl</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">xh</span> <span class="id">yh</span>) <span class="id">bb</span>) + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ (<span class="id">Xl</span> - <span class="id">Yl</span>)) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">Xh</span> - <span class="id">Yh</span>) <span class="kwd">with</span> ((<span class="id">Xh</span> - <span class="id">Yh</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span>) + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">bb</span>) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">decompose_sub</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof774')">Proof.</div>
<div class="proofscript" id="proof774">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_sub">decompose_sub</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_borrow_add_carry">Int.sub_borrow_add_carry</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub_add_not_3">Int.sub_add_not_3</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_assoc">Int.xor_assoc</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_idem">Int.xor_idem</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_zero">Int.xor_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.xor_zero_l">Int.xor_zero_l</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_carry">Int.add_carry</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.not">Int.not</a></span> <span class="id">yl</span>) + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>);<br/>
&nbsp;&nbsp;<span class="tactic">compute</span>; [<span class="id">right</span>|<span class="id">left</span>]; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mkint_eq">Int.mkint_eq</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">mul</span>' (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Int64.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> * <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">mul</span>'<span class="id">_mulhu</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id">mul</span>' <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof775')">Proof.</div>
<div class="proofscript" id="proof775">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="tactic">unfold</span> <span class="id">mul</span>', <span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">p</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> * <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ph</span> := <span class="id">p</span> / <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>). <span class="tactic">set</span> (<span class="id">pl</span> := <span class="id">p</span> <span class="id">mod</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id">ph</span> * <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> + <span class="id">pl</span>)).<br/>
- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_div_mod_eq">Z_div_mod_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus_pos">Int.modulus_pos</a></span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_eq">Int.unsigned_repr_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_mul">decompose_mul</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> (<span class="id">mul</span>' <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> (<span class="id">mul</span>' <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof776')">Proof.</div>
<div class="proofscript" id="proof776">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">pl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.loword">loword</a></span> (<span class="id">mul</span>' <span class="id">xl</span> <span class="id">yl</span>)); <span class="tactic">set</span> (<span class="id">ph</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">hiword</a></span> (<span class="id">mul</span>' <span class="id">xl</span> <span class="id">yl</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EQ0</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id">mul</span>' <span class="id">xl</span> <span class="id">yl</span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">ph</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">pl</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">ofwords_recompose</a></span> (<span class="id">mul</span>' <span class="id">xl</span> <span class="id">yl</span>)). <span class="tactic">apply</span> <span class="id">ofwords_add</span>'. }<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_add">ofwords_add</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span>. <span class="tactic">rewrite</span> !<span class="id">ofwords_add</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">XL</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>); <span class="tactic">set</span> (<span class="id">XH</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>);<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">YL</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>); <span class="tactic">set</span> (<span class="id">YH</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">PH</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">ph</span>) <span class="kwd">in</span> *. <span class="tactic">set</span> (<span class="id">PL</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">pl</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (((<span class="id">PH</span> + <span class="id">XL</span> * <span class="id">YH</span>) + <span class="id">XH</span> * <span class="id">YL</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 + <span class="id">PL</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_mul_2p32">eqm_mul_2p32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_unsigned">Int.add_unsigned</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.add_unsigned">Int.add_unsigned</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr_l">Int.eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id">mul</span>' <span class="id">xl</span> <span class="id">yl</span>) + (<span class="id">XL</span> * <span class="id">YH</span> + <span class="id">XH</span> * <span class="id">YL</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ0</span>. <span class="tactic">f_equal</span>. <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> ((<span class="id">XL</span> * <span class="id">YL</span> + (<span class="id">XL</span> * <span class="id">YH</span> + <span class="id">XH</span> * <span class="id">YL</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">mul</span>'. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr_l">eqm_unsigned_repr_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (0 + (<span class="id">XL</span> * <span class="id">YL</span> + (<span class="id">XL</span> * <span class="id">YH</span> + <span class="id">XH</span> * <span class="id">YL</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32))).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_l">Z.add_0_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id">XH</span> * <span class="id">YH</span> * (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) + (<span class="id">XL</span> * <span class="id">YL</span> + (<span class="id">XL</span> * <span class="id">YH</span> + <span class="id">XH</span> * <span class="id">YL</span>) * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_samerepr">eqm_samerepr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_add">eqm_add</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_refl">eqm_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">modulus</a></span>. <span class="id">exists</span> (- <span class="id">XH</span> * <span class="id">YH</span>). <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">ring</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_mul_2">decompose_mul_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.mulhu">Int.mulhu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof777')">Proof.</div>
<div class="proofscript" id="proof777">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_mul">decompose_mul</a></span>. <span class="tactic">rewrite</span> <span class="id">mul</span>'<span class="id">_mulhu</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">hi_ofwords</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">lo_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_ltu">decompose_ltu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof778')">Proof.</div>
<div class="proofscript" id="proof778">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span>. <span class="tactic">rewrite</span> ! <span class="id">ofwords_add</span>'. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> 4294967296. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_leu">decompose_leu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">ltu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>)) =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof779')">Proof.</div>
<div class="proofscript" id="proof779">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_ltu">decompose_ltu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_sym">Int.eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_lt">decompose_lt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof780')">Proof.</div>
<div class="proofscript" id="proof780">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span>. <span class="tactic">rewrite</span> ! <span class="id">ofwords_add</span>''. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_signed">Int.eq_signed</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">yl</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">xl</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">yl</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">with</span> 4294967296. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.decompose_le">decompose_le</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">xh</span> <span class="id">xl</span> <span class="id">yh</span> <span class="id">yl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.lt">lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">ofwords</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>)) =<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#yl">yl</a></span> <span class="id"><a href="compcert.lib.Integers.html#xl">xl</a></span>) <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span> <span class="id"><a href="compcert.lib.Integers.html#xh">xh</a></span> <span class="id"><a href="compcert.lib.Integers.html#yh">yh</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof781')">Proof.</div>
<div class="proofscript" id="proof781">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.decompose_lt">decompose_lt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_sym">Int.eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eq_signed">Int.eq_signed</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.lt">Int.lt</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">xh</span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">yh</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Utility proofs for mixed 32bit and 64bit arithmetic </div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Int64.int_unsigned_range">int_unsigned_range</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof782')">Proof.</div>
<div class="proofscript" id="proof782">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">max_unsigned</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.wordsize">wordsize</a></span>) <span class="kwd">with</span>  64%<span class="id">nat</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.wordsize">Int.wordsize</a></span>) <span class="kwd">with</span> 32%<span class="id">nat</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_nat">two_power_nat</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Int64.int_unsigned_repr">int_unsigned_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>)) = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof783')">Proof.</div>
<div class="proofscript" id="proof783">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Int64.int_sub_ltu">int_sub_ltu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>)) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof784')">Proof.</div>
<div class="proofscript" id="proof784">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub_ltu">Int.sub_ltu</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.sub">sub</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_repr">int_unsigned_repr</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">unsigned_repr</a></span> <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_repr">int_unsigned_repr</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.int_unsigned_range">int_unsigned_range</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub_ltu">Int.sub_ltu</a></span> <span class="id">x</span> <span class="id">y</span> <span class="id">H</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range_2">Int.unsigned_range_2</a></span> <span class="id">y</span>). <span class="tactic">intros</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Int64">Int64</a></span>.<br/>
<br/>
<span class="id">Strategy</span> 0 [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_64.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="int64">int64</a></span> := <span class="id"><a href="compcert.lib.Integers.html#int">Int64.int</a></span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.lib.Integers.html#repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#repr">Byte.repr</a></span>.<br/>
<br/>
<h1> Specialization to offsets in pointer values </h1>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Wordsize_Ptrofs">Wordsize_Ptrofs</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Wordsize_Ptrofs.wordsize">wordsize</a></span> := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> 64%<span class="id">nat</span> <span class="kwd">else</span> 32%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Remark</span> <span class="id"><a name="Wordsize_Ptrofs.wordsize_not_zero">wordsize_not_zero</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">wordsize</a></span> &lt;&gt; 0%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof785')">Proof.</div>
<div class="proofscript" id="proof785">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">wordsize</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">congruence</span>. Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs">Wordsize_Ptrofs</a></span>.<br/>
<br/>
<span class="id">Strategy</span> <span class="id">opaque</span> [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_Ptrofs.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Ptrofs">Ptrofs</a></span>.<br/>
<br/>
<span class="kwd">Include</span> <span class="id"><a href="compcert.lib.Integers.html#Make">Make</a></span>(<span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs">Wordsize_Ptrofs</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.to_int">to_int</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.to_int64">to_int64</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span>): <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.of_int">of_int</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.of_intu">of_intu</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.of_ints">of_ints</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.of_int64">of_int64</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.of_int64u">of_int64u</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.of_int64s">of_int64s</a></span> (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Ptrofs.AGREE32">AGREE32</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Ptrofs.AGREE32._32">_32</a></span>: <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.modulus_eq32">modulus_eq32</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof786')">Proof.</div>
<div class="proofscript" id="proof786">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span> <span class="kwd">with</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> 64%<span class="id">nat</span> <span class="kwd">else</span> 32%<span class="id">nat</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE32._32">_32</a></span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.eqm32">eqm32</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Int.eqm">Int.eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt;-&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof787')">Proof.</div>
<div class="proofscript" id="proof787">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm">Int.eqm</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>; <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.agree32">agree32</a></span> (<span class="id">a</span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">Ptrofs.int</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.lib.Integers.html#Int.int">Int.int</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_repr">agree32_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof788')">Proof.</div>
<div class="proofscript" id="proof788">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr_eq">Ptrofs.unsigned_repr_eq</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr_eq">Int.unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_signed">agree32_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof789')">Proof.</div>
<div class="proofscript" id="proof789">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">half_modulus</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_of_int">agree32_of_int</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof790')">Proof.</div>
<div class="proofscript" id="proof790">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span> <span class="id">b</span>) <span class="tactic">at</span> 2. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_of_ints">agree32_of_ints</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">of_ints</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof791')">Proof.</div>
<div class="proofscript" id="proof791">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int.repr_signed">Int.repr_signed</a></span> <span class="id">b</span>) <span class="tactic">at</span> 2. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_of_int_eq">agree32_of_int_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof792')">Proof.</div>
<div class="proofscript" id="proof792">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_of_ints_eq">agree32_of_ints_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">of_ints</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof793')">Proof.</div>
<div class="proofscript" id="proof793">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_ints">of_ints</a></span>; <span class="tactic">intros</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_signed">agree32_signed</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_signed">repr_signed</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_to_int">agree32_to_int</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof794')">Proof.</div>
<div class="proofscript" id="proof794">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id">a</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_to_int_eq">agree32_to_int_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof795')">Proof.</div>
<div class="proofscript" id="proof795">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_neg">agree32_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof796')">Proof.</div>
<div class="proofscript" id="proof796">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.neg">Int.neg</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_add">agree32_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof797')">Proof.</div>
<div class="proofscript" id="proof797">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_sub">agree32_sub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof798')">Proof.</div>
<div class="proofscript" id="proof798">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_mul">agree32_mul</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof799')">Proof.</div>
<div class="proofscript" id="proof799">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree32_divs">agree32_divs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int.divs">Int.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof800')">Proof.</div>
<div class="proofscript" id="proof800">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32">agree32</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.divs">Int.divs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_signed">agree32_signed</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree32_repr">agree32_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.of_int_to_int">of_int_to_int</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof801')">Proof.</div>
<div class="proofscript" id="proof801">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm32">eqm32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_sym">Int.eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_unsigned_repr">Int.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.to_int_of_int">to_int_of_int</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof802')">Proof.</div>
<div class="proofscript" id="proof802">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">of_int</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int">to_int</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">max_unsigned</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq32">modulus_eq32</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE32">AGREE32</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Ptrofs.AGREE64">AGREE64</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Ptrofs.AGREE64._64">_64</a></span>: <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.modulus_eq64">modulus_eq64</a></span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof803')">Proof.</div>
<div class="proofscript" id="proof803">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">modulus</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.wordsize">wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span> <span class="kwd">with</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> 64%<span class="id">nat</span> <span class="kwd">else</span> 32%<span class="id">nat</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE64._64">_64</a></span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.eqm64">eqm64</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm">Int64.eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span> &lt;-&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span> <span class="id"><a href="compcert.lib.Integers.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof804')">Proof.</div>
<div class="proofscript" id="proof804">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm">Int64.eqm</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm">eqm</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>; <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Ptrofs.agree64">agree64</a></span> (<span class="id">a</span>: <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.int">Ptrofs.int</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.int">Int64.int</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_repr">agree64_repr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof805')">Proof.</div>
<div class="proofscript" id="proof805">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr_eq">Ptrofs.unsigned_repr_eq</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr_eq">Int64.unsigned_repr_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_signed">agree64_signed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof806')">Proof.</div>
<div class="proofscript" id="proof806">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.signed">signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.half_modulus">half_modulus</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_of_int">agree64_of_int</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>) <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof807')">Proof.</div>
<div class="proofscript" id="proof807">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span> <span class="id">b</span>) <span class="tactic">at</span> 2. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_of_int_eq">agree64_of_int_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> = <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof808')">Proof.</div>
<div class="proofscript" id="proof808">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_to_int">agree64_to_int</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof809')">Proof.</div>
<div class="proofscript" id="proof809">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">unsigned</a></span> <span class="id">a</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">repr_unsigned</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_to_int_eq">agree64_to_int_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a">a</a></span> = <span class="id"><a href="compcert.lib.Integers.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof810')">Proof.</div>
<div class="proofscript" id="proof810">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_neg">agree64_neg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.neg">Int64.neg</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof811')">Proof.</div>
<div class="proofscript" id="proof811">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.neg">Ptrofs.neg</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.neg">Int64.neg</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_add">agree64_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof812')">Proof.</div>
<div class="proofscript" id="proof812">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_sub">agree64_sub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.sub">Int64.sub</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof813')">Proof.</div>
<div class="proofscript" id="proof813">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.sub">Ptrofs.sub</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_mul">agree64_mul</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.mul">Int64.mul</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof814')">Proof.</div>
<div class="proofscript" id="proof814">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.mul">Ptrofs.mul</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.mul">Int.mul</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.agree64_divs">agree64_divs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">b1</span> <span class="id">a2</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#a1">a1</a></span> <span class="id"><a href="compcert.lib.Integers.html#a2">a2</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.divs">Int64.divs</a></span> <span class="id"><a href="compcert.lib.Integers.html#b1">b1</a></span> <span class="id"><a href="compcert.lib.Integers.html#b2">b2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof815')">Proof.</div>
<div class="proofscript" id="proof815">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64">agree64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.divs">Ptrofs.divs</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.divs">Int64.divs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_signed">agree64_signed</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.agree64_repr">agree64_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.of_int64_to_int64">of_int64_to_int64</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof816')">Proof.</div>
<div class="proofscript" id="proof816">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm_repr_eq">eqm_repr_eq</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eqm64">eqm64</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_sym">Int64.eqm_sym</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_unsigned_repr">Int64.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Ptrofs.to_int64_of_int64">to_int64_of_int64</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span> <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof817')">Proof.</div>
<div class="proofscript" id="proof817">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">of_int64</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.to_int64">to_int64</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr">unsigned_repr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">max_unsigned</a></span>. <span class="tactic">rewrite</span>  <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus_eq64">modulus_eq64</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.AGREE64">AGREE64</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span><br/>
&nbsp;&nbsp;<span class="id">agree32_repr</span> <span class="id">agree32_of_int</span> <span class="id">agree32_of_ints</span> <span class="id">agree32_of_int_eq</span> <span class="id">agree32_of_ints_eq</span><br/>
&nbsp;&nbsp;<span class="id">agree32_to_int</span> <span class="id">agree32_to_int_eq</span> <span class="id">agree32_neg</span> <span class="id">agree32_add</span> <span class="id">agree32_sub</span> <span class="id">agree32_mul</span> <span class="id">agree32_divs</span><br/>
&nbsp;&nbsp;<span class="id">agree64_repr</span> <span class="id">agree64_of_int</span> <span class="id">agree64_of_int_eq</span><br/>
&nbsp;&nbsp;<span class="id">agree64_to_int</span> <span class="id">agree64_to_int_eq</span> <span class="id">agree64_neg</span> <span class="id">agree64_add</span> <span class="id">agree64_sub</span> <span class="id">agree64_mul</span> <span class="id">agree64_divs</span> : <span class="id">ptrofs</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs">Ptrofs</a></span>.<br/>
<br/>
<span class="id">Strategy</span> 0 [<span class="id"><a href="compcert.lib.Integers.html#wordsize">Wordsize_Ptrofs.wordsize</a></span>].<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="ptrofs">ptrofs</a></span> := <span class="id"><a href="compcert.lib.Integers.html#int">Ptrofs.int</a></span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.lib.Integers.html#repr">Ptrofs.repr</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Int.modulus_pos</span> <span class="id">Int.eqm_refl</span> <span class="id">Int.eqm_refl2</span> <span class="id">Int.eqm_sym</span> <span class="id">Int.eqm_trans</span><br/>
&nbsp;&nbsp;<span class="id">Int.eqm_small_eq</span> <span class="id">Int.eqm_add</span> <span class="id">Int.eqm_neg</span> <span class="id">Int.eqm_sub</span> <span class="id">Int.eqm_mult</span><br/>
&nbsp;&nbsp;<span class="id">Int.eqm_unsigned_repr</span> <span class="id">Int.eqm_unsigned_repr_l</span> <span class="id">Int.eqm_unsigned_repr_r</span><br/>
&nbsp;&nbsp;<span class="id">Int.unsigned_range</span> <span class="id">Int.unsigned_range_2</span><br/>
&nbsp;&nbsp;<span class="id">Int.repr_unsigned</span> <span class="id">Int.repr_signed</span> <span class="id">Int.unsigned_repr</span> : <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Int64.modulus_pos</span> <span class="id">Int64.eqm_refl</span> <span class="id">Int64.eqm_refl2</span> <span class="id">Int64.eqm_sym</span> <span class="id">Int64.eqm_trans</span><br/>
&nbsp;&nbsp;<span class="id">Int64.eqm_small_eq</span> <span class="id">Int64.eqm_add</span> <span class="id">Int64.eqm_neg</span> <span class="id">Int64.eqm_sub</span> <span class="id">Int64.eqm_mult</span><br/>
&nbsp;&nbsp;<span class="id">Int64.eqm_unsigned_repr</span> <span class="id">Int64.eqm_unsigned_repr_l</span> <span class="id">Int64.eqm_unsigned_repr_r</span><br/>
&nbsp;&nbsp;<span class="id">Int64.unsigned_range</span> <span class="id">Int64.unsigned_range_2</span><br/>
&nbsp;&nbsp;<span class="id">Int64.repr_unsigned</span> <span class="id">Int64.repr_signed</span> <span class="id">Int64.unsigned_repr</span> : <span class="id">ints</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">Ptrofs.modulus_pos</span> <span class="id">Ptrofs.eqm_refl</span> <span class="id">Ptrofs.eqm_refl2</span> <span class="id">Ptrofs.eqm_sym</span> <span class="id">Ptrofs.eqm_trans</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.eqm_small_eq</span> <span class="id">Ptrofs.eqm_add</span> <span class="id">Ptrofs.eqm_neg</span> <span class="id">Ptrofs.eqm_sub</span> <span class="id">Ptrofs.eqm_mult</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.eqm_unsigned_repr</span> <span class="id">Ptrofs.eqm_unsigned_repr_l</span> <span class="id">Ptrofs.eqm_unsigned_repr_r</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.unsigned_range</span> <span class="id">Ptrofs.unsigned_range_2</span><br/>
&nbsp;&nbsp;<span class="id">Ptrofs.repr_unsigned</span> <span class="id">Ptrofs.repr_signed</span> <span class="id">Ptrofs.unsigned_repr</span> : <span class="id">ints</span>.<br/>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
