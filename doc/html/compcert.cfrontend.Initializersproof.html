
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Initializersproof</title>
<meta name="description" content="Documentation of Coq module Initializersproof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Initializersproof</h1>
<div class="coq">
<br/>
<div class="doc">Compile-time evaluation of initializers for global C variables. </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html">Csem</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cfrontend.Initializers.html">Initializers</a></span>.<br/>
<br/>
<span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SOUNDNESS">SOUNDNESS</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SOUNDNESS.se">se</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SOUNDNESS.ge">ge</a></span>: <span class="id"><a href="compcert.cfrontend.Csem.html#genv">genv</a></span>.<br/>
<br/>
<h1> Simple expressions and their big-step semantics </h1>
<br/>
<div class="doc">An expression is simple if it contains no assignments and no
  function calls. </div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="simple">simple</a></span> (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evar">Evar</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> <span class="id">r</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id">l1</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">l1</span><br/>
&nbsp;&nbsp;| <span class="kwd">Eval</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> <span class="id">l</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">l</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eaddrof">Eaddrof</a></span> <span class="id">l</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">l</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id">_</span> <span class="id">r1</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">_</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> <span class="id">r1</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">r3</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r2</span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r3</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Esizeof">Esizeof</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ealignof">Ealignof</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Epostincr">Epostincr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id">r1</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r1</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">A big-step semantics for simple expressions.  Similar to the
  big-step semantics from <span class="bracket"><span class="id">Cstrategy</span></span>, with the addition of
  conditionals, comma and paren operators.  It is a pity we do not
  share definitions with <span class="bracket"><span class="id">Cstrategy</span></span>, but such sharing raises
  technical difficulties. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SOUNDNESS.SIMPLE_EXPRS">SIMPLE_EXPRS</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SOUNDNESS.SIMPLE_EXPRS.e">e</a></span>: <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SOUNDNESS.SIMPLE_EXPRS.m">m</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="eval_simple_lvalue">eval_simple_lvalue</a></span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="esl_loc">esl_loc</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esl_var_local">esl_var_local</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.e">e</a></span>!<span class="id"><a href="compcert.cfrontend.Initializersproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Evar">Evar</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esl_var_global">esl_var_global</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">ty</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.e">e</a></span>!<span class="id"><a href="compcert.cfrontend.Initializersproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Evar">Evar</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esl_deref">esl_deref</a></span>: <span class="kwd">forall</span> <span class="id">r</span> <span class="id">ty</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esl_field_struct">esl_field_struct</a></span>: <span class="kwd">forall</span> <span class="id">r</span> <span class="id">f</span> <span class="id">ty</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">id</span> <span class="id">co</span> <span class="id">a</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#delta">delta</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="esl_field_union">esl_field_union</a></span>: <span class="kwd">forall</span> <span class="id">r</span> <span class="id">f</span> <span class="id">ty</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">id</span> <span class="id">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="eval_simple_rvalue">eval_simple_rvalue</a></span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_val">esr_val</a></span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_rvalof">esr_rvalof</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">l</span> <span class="id">ty</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_addrof">esr_addrof</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">l</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eaddrof">Eaddrof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_unop">esr_unop</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">r1</span> <span class="id">ty</span> <span class="id">v1</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_binop">esr_binop</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#op">op</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_cast">esr_cast</a></span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">r1</span> <span class="id">v1</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_sizeof">esr_sizeof</a></span>: <span class="kwd">forall</span> <span class="id">ty1</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Esizeof">Esizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_alignof">esr_alignof</a></span>: <span class="kwd">forall</span> <span class="id">ty1</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ealignof">Ealignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_seqand_true">esr_seqand_true</a></span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_bool">type_bool</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v3">v3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v3">v3</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_seqand_false">esr_seqand_false</a></span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_seqor_false">esr_seqor_false</a></span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_bool">type_bool</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v3">v3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v3">v3</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_seqor_true">esr_seqor_true</a></span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_condition">esr_condition</a></span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">r3</span> <span class="id">ty</span> <span class="id">v</span> <span class="id">v1</span> <span class="id">b</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r3">r3</a></span>) <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v</span>' (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r3">r3</a></span>)) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r3">r3</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_comma">esr_comma</a></span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> <span class="id">v1</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="esr_paren">esr_paren</a></span>: <span class="kwd">forall</span> <span class="id">r</span> <span class="id">tycast</span> <span class="id">ty</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tycast">tycast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS.m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tycast">tycast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id">v</span>'.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.SIMPLE_EXPRS">SIMPLE_EXPRS</a></span>.<br/>
<br/>
<h1> Correctness of the big-step semantics with respect to reduction sequences </h1>
<br/>
<div class="doc">In this section, we show that if a simple expression <span class="bracket"><span class="id">a</span></span> reduces to
  some value (with the transition semantics from module <span class="bracket"><span class="id">Csem</span></span>),
  then it evaluates to this value (with the big-step semantics above). </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="compat_eval">compat_eval</a></span> (<span class="id">k</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#kind">kind</a></span>) (<span class="id">e</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span>) (<span class="id">a</span> <span class="id">a</span>': <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">a</span>' /\<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> =&gt; <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id">a</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> =&gt; <span class="kwd">forall</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id">a</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lred_simple">lred_simple</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">l</span> <span class="id">m</span> <span class="id">l</span>' <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id">l</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">l</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4532')">Proof.</div>
<div class="proofscript" id="proof4532">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lred_compat">lred_compat</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">l</span> <span class="id">m</span> <span class="id">l</span>' <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id">l</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> = <span class="id">m</span>' /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval">compat_eval</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id">l</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4533')">Proof.</div>
<div class="proofscript" id="proof4533">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">intros</span> <span class="id">bx</span> <span class="id">ofsx</span> <span class="id">EV</span>; <span class="id">inv</span> <span class="id">EV</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esl_var_local">esl_var_local</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esl_var_global">esl_var_global</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esl_field_struct">esl_field_struct</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esl_field_union">esl_field_union</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rred_simple">rred_simple</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">m</span> <span class="id">t</span> <span class="id">r</span>' <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#t">t</a></span> <span class="id">r</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">r</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4534')">Proof.</div>
<div class="proofscript" id="proof4534">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intuition</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rred_compat">rred_compat</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">r</span> <span class="id">m</span> <span class="id">r</span>' <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">r</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> = <span class="id">m</span>' /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval">compat_eval</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4535')">Proof.</div>
<div class="proofscript" id="proof4535">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>'; <span class="tactic">intros</span> <span class="id">RED</span> <span class="id">SIMP</span>. <span class="id">inv</span> <span class="id">RED</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SIMP</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="tactic">intros</span> <span class="id">vx</span> <span class="id">EV</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">econstructor</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">econstructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqand_true">esr_seqand_true</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqand_false">esr_seqand_false</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqor_true">esr_seqor_true</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqor_false">esr_seqor_false</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_condition">esr_condition</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="id">econstructor</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_eval_context">compat_eval_context</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">a</span> <span class="id">a</span>' <span class="id">m</span> <span class="id">from</span> <span class="id">to</span> <span class="id">C</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval">compat_eval</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id">a</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval">compat_eval</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> <span class="id">a</span>') <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4536')">Proof.</div>
<div class="proofscript" id="proof4536">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">CE</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">generalize</span> (<span class="id">IHcontext</span> <span class="id">CE</span>); <span class="tactic">intros</span> [<span class="id">TY</span> <span class="id">EV</span>]; <span class="tactic">red</span>; <span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="tactic">intros</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esl_field_struct">esl_field_struct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">TY</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esl_field_union">esl_field_union</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">TY</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqand_true">esr_seqand_true</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">TY</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqand_false">esr_seqand_false</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">TY</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqor_false">esr_seqor_false</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">TY</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_seqor_true">esr_seqor_true</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">TY</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#esr_condition">esr_condition</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">split</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">split</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="simple_context_1">simple_context_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">from</span> <span class="id">to</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4537')">Proof.</div>
<div class="proofscript" id="proof4537">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="simple_context_2">simple_context_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">a</span>', <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">a</span>' -&gt; <span class="kwd">forall</span> <span class="id">from</span> <span class="id">to</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#C">C</a></span> <span class="id">a</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4538')">Proof.</div>
<div class="proofscript" id="proof4538">
&nbsp;&nbsp;<span class="tactic">induction</span> 2; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_eval_steps_aux">compat_eval_steps_aux</a></span> <span class="id">f</span> <span class="id">r</span> <span class="id">e</span> <span class="id">m</span> <span class="id">r</span>' <span class="id">m</span>' <span class="id">s2</span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#s2">s2</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#estep">estep</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">r1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#s2">s2</a></span> = <span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval">compat_eval</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r1">r1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4539')">Proof.</div>
<div class="proofscript" id="proof4539">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;lred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">S</span>: <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">a</span>) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple_context_1">simple_context_1</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#lred_compat">lred_compat</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">subst</span> <span class="id">m</span>'0.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval_context">compat_eval_context</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple_context_2">simple_context_2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#lred_simple">lred_simple</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;rred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">S</span>: <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">a</span>) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple_context_1">simple_context_1</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#rred_compat">rred_compat</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">subst</span> <span class="id">m</span>'0.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval_context">compat_eval_context</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple_context_2">simple_context_2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#rred_simple">rred_simple</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;callred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">S</span>: <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id">a</span>) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple_context_1">simple_context_1</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">S</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;stuckred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_eval_steps">compat_eval_steps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">r</span> <span class="id">e</span> <span class="id">m</span>  <span class="id">r</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">m</span>' = <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval">compat_eval</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4540')">Proof.</div>
<div class="proofscript" id="proof4540">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">r</span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">e</span> <span class="id">m</span>) <span class="kwd">as</span> <span class="id">S1</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="kwd">as</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">e</span> <span class="id">m</span>') <span class="kwd">as</span> <span class="id">S2</span>.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">S1</span> <span class="id">t</span> <span class="id">S2</span> <span class="id">H</span> <span class="id">r</span> <span class="id">m</span> <span class="id">r</span>' <span class="id">m</span>' <span class="id">HeqS1</span> <span class="id">Heqt</span> <span class="id">HeqS2</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;base&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HeqS2</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;inductive&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_eq_nil">app_eq_nil</a></span> <span class="id">t1</span> <span class="id">t2</span>); <span class="tactic">auto</span>. <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;expression&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval_steps_aux">compat_eval_steps_aux</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">r1</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]. <span class="tactic">subst</span> <span class="id">s2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHstar</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">D</span> <span class="id">E</span>].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">B</span>; <span class="tactic">destruct</span> <span class="id">E</span>. <span class="tactic">split</span>. <span class="tactic">congruence</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;statement&nbsp;steps&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_simple_steps">eval_simple_steps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">r</span> <span class="id">e</span> <span class="id">m</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">m</span>' = <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4541')">Proof.</div>
<div class="proofscript" id="proof4541">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#compat_eval_steps">compat_eval_steps</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">intuition</span>. <span class="tactic">apply</span> <span class="id">C</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<h1> Soundness of the compile-time evaluator </h1>
<br/>
<div class="doc">A global environment <span class="bracket"><span class="id">ge</span></span> induces a memory injection mapping
  our symbolic pointers <span class="bracket"><span class="id">Vptr</span> <span class="id">id</span> <span class="id">ofs</span></span> to run-time pointers
  <span class="bracket"><span class="id">Vptr</span> <span class="id">b</span> <span class="id">ofs</span></span> where <span class="bracket"><span class="id">Genv.find_symbol</span> <span class="id">ge</span> <span class="id">id</span> = <span class="id">Some</span> <span class="id">b</span></span>. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="inj">inj</a></span> (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b</span>', 0)<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_empty_not_valid_pointer">mem_empty_not_valid_pointer</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4542')">Proof.</div>
<div class="proofscript" id="proof4542">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.perm_dec">Mem.perm_dec</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="compcert.common.Memtype.html#Cur">Cur</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_empty">Mem.perm_empty</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_empty_not_weak_valid_pointer">mem_empty_not_weak_valid_pointer</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4543')">Proof.</div>
<div class="proofscript" id="proof4543">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> !<span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_valid_pointer">mem_empty_not_valid_pointer</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_match">sem_cast_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">m</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty2">ty2</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="id">v1</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty2">ty2</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id">v1</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id">v2</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4544')">Proof.</div>
<div class="proofscript" id="proof4544">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#do_cast">do_cast</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span>' <span class="id">ty1</span> <span class="id">ty2</span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">v2</span>''|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast_inj">sem_cast_inj</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="id">m</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_weak_valid_pointer">mem_empty_not_weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bool_val_match">bool_val_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">b</span> <span class="id">v</span>' <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4545')">Proof.</div>
<div class="proofscript" id="proof4545">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val_inj">bool_val_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_weak_valid_pointer">mem_empty_not_weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Soundness of <span class="bracket"><span class="id">constval</span></span> with respect to the big-step semantics </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="constval_rvalue">constval_rvalue</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_rvalue">eval_simple_rvalue</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#constval">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id">v</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span><br/>
<span class="kwd">with</span> <span class="id"><a name="constval_lvalue">constval_lvalue</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_lvalue">eval_simple_lvalue</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#constval">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id">v</span>' (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4546')">Proof.</div>
<div class="proofscript" id="proof4546">
&nbsp;&nbsp;<span class="comment">(*&nbsp;rvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">vres</span> <span class="id">CV</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CV</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">CV</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;val&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">monadInv</span> <span class="id">CV</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;rval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">CV</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id">op</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">v1</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation_inj">sem_unary_operation_inj</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="id">m</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_weak_valid_pointer">mem_empty_not_weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">op</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id">x0</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">v1</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation_inj">sem_binary_operation_inj</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span> <span class="id">m</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_valid_pointer">mem_empty_not_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_weak_valid_pointer">mem_empty_not_weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_weak_valid_pointer">mem_empty_not_weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#mem_empty_not_valid_pointer">mem_empty_not_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sem_cast_match">sem_cast_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;seqand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">b</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#bool_val_match">bool_val_match</a></span>. <span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">m</span>). <span class="tactic">intros</span> <span class="id">E</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="tactic">by</span> <span class="tactic">congruence</span>. <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sem_cast_match">sem_cast_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">b</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#bool_val_match">bool_val_match</a></span>. <span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">m</span>). <span class="tactic">intros</span> <span class="id">E</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> <span class="tactic">congruence</span>. <span class="tactic">subst</span> <span class="id">b</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;seqor&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">b</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#bool_val_match">bool_val_match</a></span>. <span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">m</span>). <span class="tactic">intros</span> <span class="id">E</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> <span class="tactic">congruence</span>. <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sem_cast_match">sem_cast_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">b</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#bool_val_match">bool_val_match</a></span>. <span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">m</span>). <span class="tactic">intros</span> <span class="id">E</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="tactic">by</span> <span class="tactic">congruence</span>. <span class="tactic">subst</span> <span class="id">b</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;conditional&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r1</span>) <span class="id"><a href="compcert.common.Memory.html#Mem.empty">Mem.empty</a></span>) <span class="kwd">as</span> [<span class="id">b</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#bool_val_match">bool_val_match</a></span>. <span class="id">eexact</span> <span class="id">E</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">m</span>). <span class="tactic">intros</span> <span class="id">E</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span>' = <span class="id">b</span>) <span class="tactic">by</span> <span class="tactic">congruence</span>. <span class="tactic">subst</span> <span class="id">b</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sem_cast_match">sem_cast_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;comma&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;paren&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sem_cast_match">sem_cast_match</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;lvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">v</span>' <span class="id">CV</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CV</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">CV</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;var_global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">CV</span>. <span class="id">monadInv</span> <span class="id">CV</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="id">monadInv</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">constval_rvalue</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">MV</span>. <span class="id">inv</span> <span class="id">MV</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id">x0</span> <span class="kwd">with</span> <span class="id">delta</span> <span class="tactic">by</span> <span class="tactic">congruence</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_commut">Ptrofs.add_commut</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta0</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>;<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>; <span class="tactic">f_equal</span>; <span class="tactic">f_equal</span>; <span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">CV</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="constval_simple">constval_simple</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Initializers.html#constval">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#simple">simple</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4547')">Proof.</div>
<div class="proofscript" id="proof4547">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">vx</span> <span class="id">CV</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">CV</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">a</span>); <span class="tactic">discriminate</span> || <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">CV</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">ty</span>); <span class="tactic">discriminate</span> || <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intuition</span> <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Soundness of <span class="bracket"><span class="id">constval</span></span> with respect to the reduction semantics. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="constval_steps">constval_steps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">r</span> <span class="id">m</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">ty</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> (<span class="kwd">Eval</span> <span class="id">v</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#constval">constval</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">m</span>' = <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#r">r</a></span> /\ <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4548')">Proof.</div>
<div class="proofscript" id="proof4548">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#eval_simple_steps">eval_simple_steps</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#constval_simple">constval_simple</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]. <span class="tactic">intuition</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#constval_rvalue">constval_rvalue</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Relational specification of the translation of initializers </h1>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="tr_padding">tr_padding</a></span> (<span class="id">frm</span> <span class="id">to</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.common.AST.html#Init_space">Init_space</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> - <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span>) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="tr_init">tr_init</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer">initializer</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_sgl">tr_init_sgl</a></span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">a</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_single">transl_init_single</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_single">Init_single</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_arr">tr_init_arr</a></span>: <span class="kwd">forall</span> <span class="id">tyelt</span> <span class="id">nelt</span> <span class="id">attr</span> <span class="id">il</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tyelt">tyelt</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> 0 <span class="id"><a href="compcert.cfrontend.Initializersproof.html#nelt">nelt</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tarray">Tarray</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tyelt">tyelt</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#nelt">nelt</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#attr">attr</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_array">Init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_str">tr_init_str</a></span>: <span class="kwd">forall</span> <span class="id">id</span> <span class="id">attr</span> <span class="id">il</span> <span class="id">co</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#attr">attr</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> 0 <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#attr">attr</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_struct">Init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_uni">tr_init_uni</a></span>: <span class="kwd">forall</span> <span class="id">id</span> <span class="id">attr</span> <span class="id">f</span> <span class="id">i1</span> <span class="id">co</span> <span class="id">ty1</span> <span class="id">d</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Union">Union</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#attr">attr</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_union">Init_union</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#attr">attr</a></span>)))<br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="tr_init_array">tr_init_array</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_array_nil_0">tr_init_array_nil_0</a></span>: <span class="kwd">forall</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> 0 <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_array_nil_pos">tr_init_array_nil_pos</a></span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 &lt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> (<span class="id"><a href="compcert.common.AST.html#Init_space">Init_space</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_array_cons">tr_init_array_cons</a></span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">i</span> <span class="id">il</span> <span class="id">sz</span> <span class="id">d1</span> <span class="id">d2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d1">d1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> - 1) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d2">d2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#d1">d1</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d2">d2</a></span>)<br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="tr_init_struct">tr_init_struct</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#members">members</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_struct_nil">tr_init_struct_nil</a></span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">pos</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="tr_init_struct_cons">tr_init_struct_cons</a></span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">f1</span> <span class="id">ty1</span> <span class="id">fl</span> <span class="id">i1</span> <span class="id">il</span> <span class="id">pos</span> <span class="id">d1</span> <span class="id">d2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">pos1</span> := <span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d1">d1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos1">pos1</a></span> + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d2">d2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> ((<span class="id"><a href="compcert.cfrontend.Initializersproof.html#f1">f1</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>) :: <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos1">pos1</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d1">d1</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d2">d2</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_padding_spec">transl_padding_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">frm</span> <span class="id">to</span> <span class="id">k</span>, <span class="id"><a href="compcert.cfrontend.Initializers.html#padding">padding</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span>) ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4549')">Proof.</div>
<div class="proofscript" id="proof4549">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#padding">padding</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span>; <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">frm</span> <span class="id">to</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_init_rec_spec">transl_init_rec_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">ty</span> <span class="id">k</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_rec">transl_init_rec</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">d</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#res">res</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="transl_init_array_spec">transl_init_array_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">il</span> <span class="id">ty</span> <span class="id">sz</span> <span class="id">k</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_array">transl_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">d</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#res">res</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="transl_init_struct_spec">transl_init_struct_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">il</span> <span class="id">ty</span> <span class="id">fl</span> <span class="id">pos</span> <span class="id">k</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_struct">transl_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">d</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> /\ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#res">res</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#k">k</a></span>.<br/>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4550')">Proof.</div>
<div class="proofscript" id="proof4550">
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>.<br/>
- <span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">res</span>; <span class="tactic">intros</span> <span class="id">TR</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>.<br/>
+ <span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> (<span class="id">x</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>); <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_array_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TR</span>) <span class="kwd">as</span> (<span class="id">d</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">d</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">monadInv</span> <span class="id">TR</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id">x</span>) <span class="id">eqn</span>:<span class="id">SU</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_struct_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ0</span>) <span class="kwd">as</span> (<span class="id">d</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">d</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id">x</span>) <span class="id">eqn</span>:<span class="id">SU</span>; <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_rec_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ0</span>) <span class="kwd">as</span> (<span class="id">d</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">d</span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">x0</span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id">i0</span> <span class="id">a</span>))); <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev_app_distr">rev_app_distr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>, <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_padding_spec">transl_padding_spec</a></span>. <br/>
<br/>
- <span class="tactic">destruct</span> <span class="id">il</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">res</span>; <span class="tactic">intros</span> <span class="id">TR</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>.<br/>
+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">sz</span> 0). <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TR</span>. <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.AST.html#init_data">init_data</a></span>); <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> 0 <span class="id">sz</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TR</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
+ <span class="id">monadInv</span> <span class="id">TR</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_rec_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>) <span class="kwd">as</span> (<span class="id">d1</span> &amp; <span class="id">A1</span> &amp; <span class="id">B1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_array_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ0</span>) <span class="kwd">as</span> (<span class="id">d2</span> &amp; <span class="id">A2</span> &amp; <span class="id">B2</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">d1</span> ++ <span class="id">d2</span>); <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">res</span> <span class="id">x</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev_app_distr">rev_app_distr</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>. <span class="tactic">auto</span>.<br/>
<br/>
- <span class="tactic">destruct</span> <span class="id">il</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">res</span>; <span class="tactic">intros</span> <span class="id">TR</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">fl</span>; <span class="id">inv</span> <span class="id">TR</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_padding_spec">transl_padding_spec</a></span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">fl</span> <span class="kwd">as</span> [ | [<span class="id">f1</span> <span class="id">ty1</span>] <span class="id">fl</span> ]; <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_rec_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>) <span class="kwd">as</span> (<span class="id">d1</span> &amp; <span class="id">A1</span> &amp; <span class="id">B1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transl_init_struct_spec</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ0</span>) <span class="kwd">as</span> (<span class="id">d2</span> &amp; <span class="id">A2</span> &amp; <span class="id">B2</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> <span class="id">pos</span> (<span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id">pos</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">ty1</span>)) ++ <span class="id">d1</span> ++ <span class="id">d2</span>); <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev_app_distr">rev_app_distr</a></span>. <span class="tactic">subst</span> <span class="id">res</span> <span class="id">x</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_padding_spec">transl_padding_spec</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transl_init_spec">transl_init_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ty</span> <span class="id">i</span> <span class="id">d</span>, <span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init">transl_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d">d</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4551')">Proof.</div>
<div class="proofscript" id="proof4551">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init">transl_init</a></span>; <span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_init_rec_spec">transl_init_rec_spec</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">d</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id">rev</span>'; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev_alt">rev_alt</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev_app_distr">rev_app_distr</a></span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev_involutive">rev_involutive</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Soundness of the translation of initializers </h1>
<br/>
<div class="doc">Soundness for single initializers. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transl_init_single_steps">transl_init_single_steps</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ty</span> <span class="id">a</span> <span class="id">data</span> <span class="id">f</span> <span class="id">m</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">m</span>' <span class="id">v</span> <span class="id">chunk</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">m</span>'',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_single">transl_init_single</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>) <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id">m</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#chunk">chunk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#chunk">chunk</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data">Genv.store_init_data</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>''.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4552')">Proof.</div>
<div class="proofscript" id="proof4552">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">monadInv</span> <span class="id">EQ</span>. <br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#constval_steps">constval_steps</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]. <span class="tactic">subst</span> <span class="id">m</span>' <span class="id">ty1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sem_cast_match">sem_cast_match</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data">Genv.store_init_data</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">D</span>.<br/>
- <span class="comment">(*&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">remember</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">as</span> <span class="id">ptr64</span>.  <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="id">EQ0</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">i0</span>; <span class="id">inv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.store_signed_unsigned_8">Mem.store_signed_unsigned_8</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.store_signed_unsigned_16">Mem.store_signed_unsigned_16</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">assumption</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ptr64</span>; <span class="id">inv</span> <span class="id">EQ0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Heqptr64</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">assumption</span>.<br/>
- <span class="comment">(*&nbsp;Long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">remember</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">as</span> <span class="id">ptr64</span>. <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="id">inv</span> <span class="id">EQ0</span>.<br/>
+ <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">assumption</span>.<br/>
+ <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="id">inv</span> <span class="id">H4</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">assumption</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f1</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">assumption</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f1</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">assumption</span>.<br/>
- <span class="comment">(*&nbsp;pointer&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#inj">inj</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">data</span> = <span class="id"><a href="compcert.common.AST.html#Init_addrof">Init_addrof</a></span> <span class="id">b1</span> <span class="id">ofs1</span> /\ <span class="id">chunk</span> = <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">remember</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">as</span> <span class="id">ptr64</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">inversion</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="id">inv</span> <span class="id">H6</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">ptr64</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="id">inv</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H4</span>; <span class="tactic">subst</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">b1</span>); <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;undef&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Size properties for initializers. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_init_single_size">transl_init_single_size</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ty</span> <span class="id">a</span> <span class="id">data</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init_single">transl_init_single</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#init_data_size">init_data_size</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4553')">Proof.</div>
<div class="proofscript" id="proof4553">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">monadInv</span> <span class="id">EQ</span>. <span class="id">remember</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">as</span> <span class="id">ptr64</span>. <span class="tactic">destruct</span> <span class="id">x</span>.<br/>
- <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i0</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ptr64</span>; <span class="id">inv</span> <span class="id">EQ0</span>. <br/>
<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Heqptr64</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i0</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ptr64</span>; <span class="id">inv</span> <span class="id">EQ0</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Heqptr64</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EQ0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#init_data_size">init_data_size</a></span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="idlsize">idlsize</a></span> := <span class="id"><a href="compcert.common.AST.html#init_data_list_size">init_data_list_size</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="padding_size">padding_size</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">frm</span> <span class="id">to</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span> &lt;= <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span>) = <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span> - <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4554')">Proof.</div>
<div class="proofscript" id="proof4554">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">frm</span> <span class="id">to</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="idlsize_app">idlsize_app</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">d1</span> <span class="id">d2</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#d1">d1</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d2">d2</a></span>) = <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d1">d1</a></span> + <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#d2">d2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4555')">Proof.</div>
<div class="proofscript" id="proof4555">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">d1</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHd1</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="union_field_size">union_field_size</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ty</span> <span class="id">fl</span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> &lt;= <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_union">sizeof_union</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4556')">Proof.</div>
<div class="proofscript" id="proof4556">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">fl</span> <span class="kwd">as</span> [|[<span class="id">i</span> <span class="id">t</span>]]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="id">f</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;+ <span class="id">specialize</span> (<span class="id">IHfl</span> <span class="id">H</span>). <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SOUNDNESS.ce_consistent">ce_consistent</a></span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env_consistent">composite_env_consistent</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="tr_init_size">tr_init_size</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">ty</span> <span class="id">data</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span><br/>
<span class="kwd">with</span> <span class="id"><a name="tr_init_array_size">tr_init_array_size</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ty</span> <span class="id">il</span> <span class="id">sz</span> <span class="id">data</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> * <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span><br/>
<span class="kwd">with</span> <span class="id"><a name="tr_init_struct_size">tr_init_struct_size</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ty</span> <span class="id">fl</span> <span class="id">il</span> <span class="id">pos</span> <span class="id">data</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_struct">sizeof_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> &lt;= <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> + <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4557')">Proof.</div>
<div class="proofscript" id="proof4557">
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>.<br/>
- <span class="tactic">destruct</span> 1; <span class="tactic">simpl</span>.<br/>
+ <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_init_single_size">transl_init_single_size</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
+ <span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>. <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id">tr_init_array_size</span>; <span class="tactic">eauto</span>. <br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id">d</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id">d</span> + 0) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">tr_init_struct_size</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">id</span>) <span class="kwd">as</span> [<span class="id">co</span>'|] <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_consistent_sizeof">co_consistent_sizeof</a></span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ce_consistent">ce_consistent</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_composite">sizeof_composite</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#align_le">align_le</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_alignof_two_p">co_alignof_two_p</a></span> <span class="id">co</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">EQ</span>]. <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span>.<br/>
+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize_app">idlsize_app</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#padding_size">padding_size</a></span>. <br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">tr_init_size</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">id</span>) <span class="kwd">as</span> [<span class="id">co</span>'|] <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_union">sizeof_union</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#union_field_size">union_field_size</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_consistent_sizeof">co_consistent_sizeof</a></span> <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ce_consistent">ce_consistent</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_composite">sizeof_composite</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#align_le">align_le</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_alignof_two_p">co_alignof_two_p</a></span> <span class="id">co</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">EQ</span>]. <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#two_power_nat_pos">two_power_nat_pos</a></span>.<br/>
<br/>
- <span class="tactic">destruct</span> 1; <span class="tactic">simpl</span>.<br/>
+ <span class="tactic">omega</span>.<br/>
+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_comm">Z.mul_comm</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">ty</span> * <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zmult_gt_0_le_0_compat">Zmult_gt_0_le_0_compat</a></span>. <span class="tactic">omega</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof_pos">sizeof_pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">ty</span>); <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="id">xomega</span>.<br/>
+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize_app">idlsize_app</a></span>. <br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">tr_init_size</span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">tr_init_array_size</span> <span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">ring</span>.<br/>
<br/>
- <span class="tactic">destruct</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#padding_size">padding_size</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
+ <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize_app">idlsize_app</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#padding_size">padding_size</a></span>. <br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">tr_init_size</span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id">tr_init_struct_size</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span> <span class="id">H1</span>). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">pos1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#align_le">align_le</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_pos">alignof_pos</a></span>. <br/>
Qed.</div>
<br/>
<div class="doc">A semantics for general initializers </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dummy_function">dummy_function</a></span> := <span class="id"><a href="compcert.cfrontend.Csyntax.html#mkfunction">mkfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tvoid">Tvoid</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="fields_of_struct">fields_of_struct</a></span> (<span class="id">fl</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#members">members</a></span>) (<span class="id">pos</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| (<span class="id">id1</span>, <span class="id">ty1</span>) :: <span class="id">fl</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">ty1</span>), <span class="id">ty1</span>) :: <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fields_of_struct">fields_of_struct</a></span> <span class="id">fl</span>' (<span class="id"><a href="compcert.lib.Coqlib.html#align">align</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">ty1</span>) + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">ty1</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="exec_init">exec_init</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer">initializer</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_single">exec_init_single</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">a</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">chunk</span> <span class="id">m</span>' <span class="id">v</span> <span class="id">m</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#step">step</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.se">se</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#dummy_function">dummy_function</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#dummy_function">dummy_function</a></span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span>) <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v1">v1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty1">ty1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id">m</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#chunk">chunk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#chunk">chunk</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_single">Init_single</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) <span class="id">m</span>''<br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_array_">exec_init_array_</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">sz</span> <span class="id">a</span> <span class="id">il</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tarray">Tarray</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_array">Init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id">m</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_struct">exec_init_struct</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">id</span> <span class="id">a</span> <span class="id">il</span> <span class="id">co</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Struct">Struct</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list">exec_init_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#fields_of_struct">fields_of_struct</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span>) 0) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_struct">Init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id">m</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_union">exec_init_union</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">id</span> <span class="id">a</span> <span class="id">f</span> <span class="id">i</span> <span class="id">ty</span> <span class="id">co</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#co_su">co_su</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Union">Union</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctypes.html#field_type">field_type</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#co">co</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#a">a</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_union">Init_union</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span>) <span class="id">m</span>'<br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="exec_init_array">exec_init_array</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_array_nil">exec_init_array_nil</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> &gt;= 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_array_cons">exec_init_array_cons</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">sz</span> <span class="id">i1</span> <span class="id">il</span> <span class="id">m</span>' <span class="id">m</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> - 1) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id">m</span>''<br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="exec_init_list">exec_init_list</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Initializers.html#initializer_list">initializer_list</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_list_nil">exec_init_list_nil</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list">exec_init_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializers.html#Init_nil">Init_nil</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="exec_init_list_cons">exec_init_list_cons</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">pos</span> <span class="id">ty</span> <span class="id">l</span> <span class="id">i1</span> <span class="id">il</span> <span class="id">m</span>' <span class="id">m</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list">exec_init_list</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list">exec_init_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> ((<span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span>) :: <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span>) (<span class="id"><a href="compcert.cfrontend.Initializers.html#Init_cons">Init_cons</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i1">i1</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span>) <span class="id">m</span>''.<br/>
<br/>
<span class="kwd">Scheme</span> <span class="id"><a name="exec_init_ind3">exec_init_ind3</a></span> := <span class="id">Minimality</span> <span class="kwd">for</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="kwd">Sort</span> <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="exec_init_array_ind3">exec_init_array_ind3</a></span> := <span class="id">Minimality</span> <span class="kwd">for</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="kwd">Sort</span> <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="exec_init_list_ind3">exec_init_list_ind3</a></span> := <span class="id">Minimality</span> <span class="kwd">for</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list">exec_init_list</a></span> <span class="kwd">Sort</span> <span class="kwd">Prop</span>.<br/>
<span class="id">Combined</span> <span class="kwd">Scheme</span> <span class="id"><a name="exec_init_scheme">exec_init_scheme</a></span> <span class="id">from</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_ind3">exec_init_ind3</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array_ind3">exec_init_array_ind3</a></span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list_ind3">exec_init_list_ind3</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="exec_init_array_length">exec_init_array_length</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">sz</span> <span class="id">il</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> &gt;= 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4558')">Proof.</div>
<div class="proofscript" id="proof4558">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_init_data_list_app">store_init_data_list_app</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">data1</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">m</span>' <span class="id">data2</span> <span class="id">m</span>'',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data1">data1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.cfrontend.Initializersproof.html#idlsize">idlsize</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data1">data1</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data2">data2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#data1">data1</a></span> ++ <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data2">data2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>''.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4559')">Proof.</div>
<div class="proofscript" id="proof4559">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">data1</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data">Genv.store_init_data</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">a</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_assoc">Z.add_assoc</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="store_init_data_list_padding">store_init_data_list_padding</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">frm</span> <span class="id">to</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#frm">frm</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#to">to</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4560')">Proof.</div>
<div class="proofscript" id="proof4560">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_padding">tr_padding</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">frm</span> <span class="id">to</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="tr_init_sound">tr_init_sound</a></span>:<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">i</span> <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">data</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init">tr_init</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>')<br/>
/\(<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">sz</span> <span class="id">il</span> <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array">exec_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">data</span>, <span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_array">tr_init_array</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>')<br/>
/\(<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">l</span> <span class="id">il</span> <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_list">exec_init_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ty</span> <span class="id">fl</span> <span class="id">data</span> <span class="id">pos</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#l">l</a></span> = <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fields_of_struct">fields_of_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_struct">tr_init_struct</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#fl">fl</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#il">il</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.cfrontend.Initializersproof.html#pos">pos</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4561')">Proof.</div>
<div class="proofscript" id="proof4561">
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_scheme">exec_init_scheme</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_init_single_steps">transl_init_single_steps</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;array&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max">Z.max</a></span> 0 <span class="id">sz</span>) <span class="kwd">with</span> <span class="id">sz</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">sz</span> &gt;= 0) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init_array_length">exec_init_array_length</a></span>; <span class="tactic">eauto</span>). <span class="id">xomega</span>.<br/>
- <span class="comment">(*&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H7</span>. <br/>
&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id">ofs</span> <span class="kwd">with</span> (<span class="id">ofs</span> + 0) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Initializers.html#lookup_composite">lookup_composite</a></span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H9</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H12</span>; <span class="id">inv</span> <span class="id">H12</span>. <br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_app">store_init_data_list_app</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_padding">store_init_data_list_padding</a></span>.<br/>
<br/>
- <span class="comment">(*&nbsp;array,&nbsp;empty&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;array,&nbsp;nonempty&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_app">store_init_data_list_app</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_size">tr_init_size</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H7</span>). <span class="tactic">eauto</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;struct,&nbsp;empty&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_padding">store_init_data_list_padding</a></span>.<br/>
- <span class="comment">(*&nbsp;struct,&nbsp;nonempty&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>. <br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_app">store_init_data_list_app</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_padding">store_init_data_list_padding</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#padding_size">padding_size</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">ofs</span> + <span class="id">pos0</span> + (<span class="id">pos2</span> - <span class="id">pos0</span>)) <span class="kwd">with</span> (<span class="id">ofs</span> + <span class="id">pos2</span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#store_init_data_list_app">store_init_data_list_app</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_size">tr_init_size</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H9</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_assoc">Z.add_assoc</a></span>. <span class="tactic">eapply</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#align_le">align_le</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_pos">alignof_pos</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#SOUNDNESS">SOUNDNESS</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transl_init_sound">transl_init_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ty</span> <span class="id">i</span> <span class="id">m</span>' <span class="id">data</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializersproof.html#exec_init">exec_init</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#p">p</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#p">p</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> 0 <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Initializers.html#transl_init">transl_init</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#p">p</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#i">i</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.store_init_data_list">Genv.store_init_data_list</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#p">p</a></span>) <span class="id"><a href="compcert.cfrontend.Initializersproof.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#b">b</a></span> 0 <span class="id"><a href="compcert.cfrontend.Initializersproof.html#data">data</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4562')">Proof.</div>
<div class="proofscript" id="proof4562">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ge</span> := <span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id">p</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">p</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span> <span class="id">ge</span>) <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Initializersproof.html#tr_init_sound">tr_init_sound</a></span> <span class="id">ge</span> <span class="id">ge</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#build_composite_env_consistent">build_composite_env_consistent</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env_eq">prog_comp_env_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">A</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Initializersproof.html#transl_init_spec">transl_init_spec</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
