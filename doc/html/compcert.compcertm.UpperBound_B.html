
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module UpperBound_B</title>
<meta name="description" content="Documentation of Coq module UpperBound_B" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module UpperBound_B</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html">CoqlibC</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.ASTC.html">ASTC</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.compcertm.MemoryC.html">MemoryC</a></span> <span class="id"><a href="compcert.compcertm.EventsC.html">EventsC</a></span> <span class="id"><a href="compcert.compcertm.GlobalenvsC.html">GlobalenvsC</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span> <span class="id"><a href="compcert.x86.Stacklayout.html">Stacklayout</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<div class="doc">newly added *</div>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="compcert.cfrontend.Csem.html">Csem</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html">Cexec</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Simulation.html">Simulation</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.compcertm.ValuesC.html">ValuesC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Skeleton.html">Skeleton</a></span> <span class="id"><a href="compcert.compcertm.ModSem.html">ModSem</a></span> <span class="id"><a href="compcert.compcertm.Mod.html">Mod</a></span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span> <span class="id"><a href="compcert.compcertm.SemProps.html">SemProps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CtypesC.html">CtypesC</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html">CsemC</a></span> <span class="id"><a href="compcert.compcertm.Sem.html">Sem</a></span> <span class="kwd">Syntax</span> <span class="id"><a href="compcert.compcertm.LinkingC.html">LinkingC</a></span> <span class="kwd">Program</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.BehaviorsC.html">BehaviorsC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CtypingC.html">CtypingC</a></span>.<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul">Z.mul</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_external">is_external</a></span> (<span class="id">ge</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#genv">genv</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.cfrontend.Csem.html#state">Csem.state</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#s">s</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> <span class="id">fptr</span> <span class="id">ty</span> <span class="id">args</span> <span class="id">k</span> <span class="id">m</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span> <span class="id">fptr</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span> =&gt; <span class="id"><a href="compcert.common.AST.html#is_external_ef">is_external_ef</a></span> <span class="id">ef</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="internal_function_state">internal_function_state</a></span> (<span class="id">ge</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#genv">genv</a></span>) (<span class="id">s</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">Csem.state</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#s">s</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> <span class="id">fptr</span> <span class="id">ty</span> <span class="id">args</span> <span class="id">k</span> <span class="id">m</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span> <span class="id">fptr</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">func</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_fundef">type_of_fundef</a></span> <span class="id">f</span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="my_eq">my_eq</a></span> {<span class="id">A</span>: <span class="kwd">Type</span>} (<span class="id">x</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#A">A</a></span>): <span class="id">A</span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="my_eq_refl">my_eq_refl</a></span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#my_eq">my_eq</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#x">x</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#x">x</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "<span class="id">a</span> <span class="id">m</span>= <span class="id">b</span>" := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#my_eq">my_eq</a></span> <span class="id">a</span> <span class="id">b</span>) (<span class="tactic">at</span> <span class="id">level</span> 10).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">Eq</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id">H1</span>: ?<span class="id">a</span> = ?<span class="id">b</span>, <span class="id">H2</span>: ?<span class="id">a</span> = ?<span class="id">c</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">Eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id">H1</span>: ?<span class="id">a</span> <span class="id">m</span>= ?<span class="id">b</span>, <span class="id">H2</span>: ?<span class="id">a</span> <span class="id">m</span>= ?<span class="id">c</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">Eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION.PLANB0">PLANB0</a></span>.<br/>
<h3> linking ********************************</h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.PLANB0.prog">prog</a></span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.tprog">tprog</a></span> : <span class="id"><a href="compcert.compcertm.Syntax.html#program">Syntax.program</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span> [<span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>].<br/>
<br/>
<h3> genv ********************************</h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.t">Sk.t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.LINK_SK_TGT">LINK_SK_TGT</a></span>: <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> := <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.WTSK">WTSK</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.wf">Sk.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.SKEWF">SKEWF</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.wf">SkEnv.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6121')">Proof.</div>
<div class="proofscript" id="proof6121">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.load_skenv_wf">SkEnv.load_skenv_wf</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.ge">ge</a></span> := <span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.tge_ce">tge_ce</a></span> : <span class="id"><a href="compcert.cfrontend.Ctypes.html#composite_env">composite_env</a></span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.tge">tge</a></span> := <span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.MAIN_INTERNAL">MAIN_INTERNAL</a></span>: <span class="kwd">forall</span> <span class="id">st_src</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#initial_state">Csem.initial_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> -&gt; <span class="id"><a href="compcert.compcertm.UpperBound_B.html#internal_function_state">internal_function_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.WTPROG">WTPROG</a></span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_program">wt_program</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.WT_EXTERNAL">WT_EXTERNAL</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#res">res</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cc">cc</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vargs">vargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vres">vres</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_retval">wt_retval</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vres">vres</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#res">res</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.CSTYLE_EXTERN">CSTYLE_EXTERN</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id">ty</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span>, (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">Ctypes.External</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cc">cc</a></span>))) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#ef">ef</a></span>.(<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span>).(<span class="id"><a href="compcert.common.AST.html#sig_cstyle">sig_cstyle</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="local_genv">local_genv</a></span> (<span class="id">p</span> : <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#p">p</a></span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>)).(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#p">p</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span> : <span class="id"><a href="compcert.cfrontend.Csem.html#state">Csem.state</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Sem.html#state">Sem.state</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_intro">match_states_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fr</span> (<span class="id">st</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">Csem.state</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FRAME</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fr">fr</a></span> = <span class="id"><a href="compcert.compcertm.Sem.html#Frame.mk">Frame.mk</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st">st</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st">st</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">Sem.State</a></span> [<span class="id"><a href="compcert.compcertm.UpperBound_B.html#fr">fr</a></span>]) 1<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_call">match_states_call</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr</span> <span class="id">tyf</span> <span class="id">vargs</span> <span class="id">k</span> <span class="id">m</span> <span class="id">args</span> <span class="id">fr</span> (<span class="id">st</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">Csem.state</a></span>) <span class="id">cconv</span> <span class="id">tres</span> <span class="id">targs</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STATE</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st">st</a></span> = (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tyf">tyf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vargs">vargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#k">k</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FRAME</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fr">fr</a></span> = <span class="id"><a href="compcert.compcertm.Sem.html#Frame.mk">Frame.mk</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st">st</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIG</span>: <span class="id">exists</span> <span class="id">skd</span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skd">skd</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#targs">targs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tres">tres</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cconv">cconv</a></span>) = <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.get_csig">Sk.get_csig</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skd">skd</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPTR</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span>.(<span class="id"><a href="compcert.compcertm.ModSem.html#Args.fptr">Args.fptr</a></span>) = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ARGS</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span>.(<span class="id"><a href="compcert.compcertm.ModSem.html#Args.vs">Args.vs</a></span>) = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vargs">vargs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span>.(<span class="id"><a href="compcert.compcertm.ModSem.html#Args.m">Args.m</a></span>) = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NOTPROG</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.compcertm.ModSem.html#Args.fptr">Args.fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ORD</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#n">n</a></span> = 0%<span class="id">nat</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tyf">tyf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vargs">vargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#k">k</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span> [<span class="id"><a href="compcert.compcertm.UpperBound_B.html#fr">fr</a></span>]) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#n">n</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_init">match_states_init</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">st_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#initial_state">Csem.initial_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITTGT</span>: <span class="id"><a href="compcert.compcertm.Sem.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_tgt">st_tgt</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_tgt">st_tgt</a></span> 0.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.PLANB0.INCL">INCL</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.includes">SkEnv.includes</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)) (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6122')">Proof.</div>
<div class="proofscript" id="proof6122">
 <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#includes_refl">includes_refl</a></span>. Qed.</div>
<br/>
<h3> init_memory ********************************</h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.PLANB0.m_init">m_init</a></span> : <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.PLANB0.INIT_MEM">INIT_MEM</a></span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>.(<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_mem">Sk.load_mem</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.m_init">m_init</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="m_src_init">m_src_init</a></span> := <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.m_init">m_init</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_sk_tgt">prog_sk_tgt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6123')">Proof.</div>
<div class="proofscript" id="proof6123">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> <span class="id">LINK_SK_TGT</span>; <span class="tactic">inversion</span> <span class="id">LINK_SK_TGT</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="SRC_INIT_MEM">SRC_INIT_MEM</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem">Genv.init_mem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m_src_init">m_src_init</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6124')">Proof.</div>
<div class="proofscript" id="proof6124">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_prog">Linker_prog</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_mem">Sk.load_mem</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_match">Genv.init_mem_match</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">ctx</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>) (<span class="id">match_fundef</span> := <span class="id"><a href="compcert.compcertm.CoqlibC.html#top3">top3</a></span>) (<span class="id">match_varinfo</span> := <span class="id"><a href="compcert.compcertm.CoqlibC.html#top2">top2</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.INIT_MEM">INIT_MEM</a></span>]. <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="kwd">as</span> <span class="id">l</span>. <span class="tactic">clear</span> <span class="id">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ginduction</span> <span class="id">l</span>; <span class="id">ss</span>; <span class="id">ii</span>; <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">a</span>; <span class="id">ss</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">econs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">v</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">IHl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">tprog</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_prog">link_prog</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">tprog</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_prog">link_prog</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">econs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="skenv_link_wf">skenv_link_wf</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.wf">SkEnv.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6125')">Proof.</div>
<div class="proofscript" id="proof6125">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">INIT_MEM</span>. (<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.load_skenv_wf">SkEnv.load_skenv_wf</a></span>). <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="proj_wf">proj_wf</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_spec">SkEnv.project_spec</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>) (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6126')">Proof.</div>
<div class="proofscript" id="proof6126">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rpapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#link_includes">link_includes</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tprog">tprog</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">esplits</span>; <span class="id">et</span>. <span class="id">ss</span>. <span class="id">left</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="match_ge_skenv_link">match_ge_skenv_link</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="kwd">fun</span> <span class="id">fdef</span> <span class="id">skdef</span> =&gt; <span class="id"><a href="compcert.compcertm.Skeleton.html#skdef_of_gdef">skdef_of_gdef</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> ((<span class="id"><a href="compcert.compcertm.CtypesC.html#globdef_of_globdef">globdef_of_globdef</a></span> (<span class="id">V</span>:=<span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fdef">fdef</a></span>) = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skdef">skdef</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6127')">Proof.</div>
<div class="proofscript" id="proof6127">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.add_globals_match">Genv.add_globals_match</a></span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="id">econs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="kwd">as</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ginduction</span> <span class="id">l</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">destruct</span> <span class="id">a</span>. <span class="id">ss</span>. <span class="id">econs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="symb_preserved">symb_preserved</a></span> <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6128')">Proof.</div>
<div class="proofscript" id="proof6128">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span>, <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_public_add_globals">Genv.genv_public_add_globals</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_public_add_globals">Genv.genv_public_add_globals</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="transf_initial_states">transf_initial_states</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">st1</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#initial_state">Csem.initial_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st1">st1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st2</span>, <span class="id"><a href="compcert.compcertm.Sem.html#initial_state">Sem.initial_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st2">st2</a></span> /\ <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st1">st1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st2">st2</a></span> 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6129')">Proof.</div>
<div class="proofscript" id="proof6129">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> = <span class="id">ge0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span>, <span class="id">ge0</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">ge0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *; <span class="tactic">inversion</span> <span class="id">LINK_SK_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) (<span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.common.AST.html#signature_main">signature_main</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">dup</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.MAIN_INTERNAL">MAIN_INTERNAL</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Heq0</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">Heq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id">b0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">Eq</span>. <span class="tactic">auto</span>. } <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b0</span>). <span class="id">inv</span> <span class="id">mge_defs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Eq</span>. <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">fn_params</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>. <span class="id">inv</span> <span class="id">H8</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>. <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des</span>; <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des</span>; <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> transf step  ********************************</h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="valid_owner">valid_owner</a></span> <span class="id">fptr</span> (<span class="id">p</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="valid_owner_intro">valid_owner_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tge">tge</a></span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#p">p</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINDF</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#p">p</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fd">fd</a></span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_fptr_owner_determ">find_fptr_owner_determ</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr</span> <span class="id">ms0</span> <span class="id">ms1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FIND0</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tge">tge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ms0">ms0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FIND1</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tge">tge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ms1">ms1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#ms0">ms0</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ms1">ms1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6130')">Proof.</div>
<div class="proofscript" id="proof6130">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#find_fptr_owner_determ">SemProps.find_fptr_owner_determ</a></span>; <span class="id">ss</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.LINK_SK_TGT">LINK_SK_TGT</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="alloc_variables_determ">alloc_variables_determ</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">g</span> <span class="id">e</span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">vars</span> <span class="id">e2</span> <span class="id">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">e2</span>' <span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ALLOCV1</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vars">vars</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e2">e2</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ALLOCV2</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vars">vars</a></span> <span class="id">e2</span>' <span class="id">m2</span>'):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">e2</span>' = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e2">e2</a></span> /\ <span class="id">m2</span>' = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6131')">Proof.</div>
<div class="proofscript" id="proof6131">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">e2</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">m2</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="id">i</span>; <span class="id">inv</span> <span class="id">ALLOCV2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">eapply</span> <span class="id">IHALLOCV1</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "'<span class="id">assign_loc</span>'" := (<span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "'<span class="id">bind_parameters</span>'" := (<span class="id"><a href="compcert.cfrontend.Csem.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "'<span class="id">rred</span>'" := (<span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "'<span class="id">estep</span>'" := (<span class="id"><a href="compcert.cfrontend.Csem.html#estep">estep</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="assign_loc_determ">assign_loc_determ</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">g</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ofs</span> <span class="id">v</span> <span class="id">tr</span> <span class="id">m1</span> <span class="id">m1</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ASSIGN1</span>: <span class="id">assign_loc</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ASSIGN2</span>: <span class="id">assign_loc</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">m1</span>'):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#m1">m1</a></span> = <span class="id">m1</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6132')">Proof.</div>
<div class="proofscript" id="proof6132">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">m1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="id">i</span>; <span class="id">inv</span> <span class="id">ASSIGN2</span>; <span class="tactic">f_equal</span>; <span class="id">Eq</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H15</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">Eq</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="bind_parameters_determ">bind_parameters_determ</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">g</span> <span class="id">env</span> <span class="id">m</span> <span class="id">l</span> <span class="id">vl</span> <span class="id">m1</span> <span class="id">m1</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BIND1</span>: <span class="id">bind_parameters</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#env">env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#l">l</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vl">vl</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BIND2</span>: <span class="id">bind_parameters</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#env">env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#l">l</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vl">vl</a></span> <span class="id">m1</span>'):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#m1">m1</a></span> = <span class="id">m1</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6133')">Proof.</div>
<div class="proofscript" id="proof6133">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">m1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="id">i</span>; <span class="id">inv</span> <span class="id">BIND2</span>; <span class="tactic">f_equal</span>; <span class="id">Eq</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">determ_tac</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_determ">assign_loc_determ</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHBIND1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<h3> aux lemmas  ********************************</h3>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="senv_equiv_ge_link">senv_equiv_ge_link</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6134')">Proof.</div>
<div class="proofscript" id="proof6134">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv_public">Genv.globalenv_public</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> <span class="kwd">in</span> *. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info_iff">Genv.find_var_info_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>); <span class="id">inv</span> <span class="id">mge_defs</span>; <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H</span>, <span class="id">H0</span>; <span class="id">Eq</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id">g0</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">mge_defs</span> <span class="id">b</span>); <span class="id">clarify</span>; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">mge_defs</span> <span class="id">b</span>); <span class="id">clarify</span>; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="id_in_prog">id_in_prog</a></span> <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6135')">Proof.</div>
<div class="proofscript" id="proof6135">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span>, <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">ss</span>; <span class="id">des_ifs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="id_not_in_prog">id_not_in_prog</a></span> <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> &lt;-&gt; ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6136')">Proof.</div>
<div class="proofscript" id="proof6136">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="not_prog_defmap_spec">not_prog_defmap_spec</a></span> <span class="id">F</span> <span class="id">V</span> <span class="id">p</span> <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#p">p</a></span>) &lt;-&gt; ~ (<span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.common.AST.html#globdef">globdef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#F">F</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#V">V</a></span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#p">p</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6137')">Proof.</div>
<div class="proofscript" id="proof6137">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">des</span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">des</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="var_info_same">var_info_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">blk</span> <span class="id">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VAR</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span><br/>
&nbsp;&nbsp;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6138')">Proof.</div>
<div class="proofscript" id="proof6138">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info_iff">Genv.find_var_info_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">blk</span>). <span class="id">inv</span> <span class="id">mge_defs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">VAR</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">DEFSYMB</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">des</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>)) <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMINV</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">exists</span> <span class="id">blk</span>. <span class="id">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1 := <span class="id">id</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">exists</span> <span class="id">blk</span>. <span class="id">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1 := <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="tactic">eauto</span>. } <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">SYMINV</span>. <span class="id">inv</span> <span class="id">SYMINV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">VAR</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">VAR</span> <span class="kwd">in</span> *. <span class="id">clarify</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">uo</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gvar">Gvar</a></span> <span class="id">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">exists</span> <span class="id">blk</span>. <span class="id">splits</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="id">exists</span> (<span class="id"><a href="compcert.common.AST.html#Gvar">Gvar</a></span> <span class="id">g</span>). <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> <span class="id">Heq0</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">var_info_same</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">blk</span> <span class="id">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VAR</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#g">g</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6139')">Proof.</div>
<div class="proofscript" id="proof6139">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info_iff">Genv.find_var_info_iff</a></span> <span class="kwd">in</span> *. <span class="id">dup</span> <span class="id">VAR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">VAR</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">VAR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">VAR</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) ! <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">LINKDEF</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">LINKINV</span>; <span class="id">cycle</span> 1; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>; <span class="tactic">eauto</span>. { <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals_defs">internals_defs</a></span>; <span class="id">et</span>. } <span class="id">i</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">VAR</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">VAR</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals_defs">internals_defs</a></span>; <span class="id">et</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">VAR</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">DEFKEEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_block_same">volatile_block_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">blk</span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VOLATILE</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6140')">Proof.</div>
<div class="proofscript" id="proof6140">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#var_info_same">var_info_same</a></span>; <span class="tactic">eauto</span>; <span class="id">i</span>; <span class="id">clarify</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">var_info_same</span>'; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">volatile_block_same</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">blk</span> <span class="id">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VOLATILE</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#blk">blk</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6141')">Proof.</div>
<div class="proofscript" id="proof6141">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#var_info_same">var_info_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">Eq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id">var_info_same</span>'; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#var_info_same">var_info_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="symbol_same">symbol_same</a></span> <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> =  <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6142')">Proof.</div>
<div class="proofscript" id="proof6142">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_key_spec">MapsC.PTree_filter_key_spec</a></span>. <span class="id">des_ifs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)) ! <span class="id">id</span>) <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">mge_symb</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">SYMB</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBDEF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>). <span class="id">inv</span> <span class="id">mge_defs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (~ <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="id">exists</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">exists</span> <span class="id">b</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="public_same">public_same</a></span> <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id">id</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6143')">Proof.</div>
<div class="proofscript" id="proof6143">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv_public">Genv.globalenv_public</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symbol_same">symbol_same</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> <span class="id">Heq0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symbol_same">symbol_same</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> <span class="id">Heq0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Senv_equiv1">Senv_equiv1</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6144')">Proof.</div>
<div class="proofscript" id="proof6144">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symbol_same">symbol_same</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#public_same">public_same</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Senv.block_is_volatile">Senv.block_is_volatile</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">VOLA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">volatile_block_same</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Senv_equiv2">Senv_equiv2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6145')">Proof.</div>
<div class="proofscript" id="proof6145">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">splits</span>; <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symbol_same">symbol_same</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#public_same">public_same</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Senv.block_is_volatile">Senv.block_is_volatile</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">VOLA</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">volatile_block_same</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_load_same">volatile_load_same</a></span> <span class="id">chunk</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span> <span class="id">tr</span> <span class="id">v</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#volatile_load">volatile_load</a></span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#chunk">chunk</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span>' <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id"><a href="compcert.common.Events.html#volatile_load">volatile_load</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#chunk">chunk</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6146')">Proof.</div>
<div class="proofscript" id="proof6146">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#volatile_load_preserved">volatile_load_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#Senv_equiv2">Senv_equiv2</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#Senv_equiv1">Senv_equiv1</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="deref_loc_same">deref_loc_same</a></span> <span class="id">ty</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span> <span class="id">tr</span> <span class="id">v</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6147')">Proof.</div>
<div class="proofscript" id="proof6147">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">DEREF</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DEREF</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#volatile_load_same">volatile_load_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#volatile_load_same">volatile_load_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="volatile_store_same">volatile_store_same</a></span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">tr</span> <span class="id">m</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#volatile_store">volatile_store</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#chunk">chunk</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id"><a href="compcert.common.Events.html#volatile_store">volatile_store</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#chunk">chunk</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6148')">Proof.</div>
<div class="proofscript" id="proof6148">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#volatile_store_preserved">volatile_store_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#Senv_equiv2">Senv_equiv2</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#Senv_equiv1">Senv_equiv1</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="assign_loc_same">assign_loc_same</a></span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">tr</span> <span class="id">m</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assign_loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id">assign_loc</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#v">v</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6149')">Proof.</div>
<div class="proofscript" id="proof6149">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">ASSIGN</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ASSIGN</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="bind_parameters_same">bind_parameters_same</a></span> <span class="id">e</span> <span class="id">m1</span> <span class="id">params</span> <span class="id">vl</span> <span class="id">m2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">bind_parameters</span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := <span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#params">params</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vl">vl</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m2">m2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id">bind_parameters</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#params">params</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vl">vl</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6150')">Proof.</div>
<div class="proofscript" id="proof6150">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">BPARAM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">induction</span> <span class="id">BPARAM</span>; <span class="tactic">try</span> <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_same">assign_loc_same</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">induction</span> <span class="id">BPARAM</span>; <span class="tactic">try</span> <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_same">assign_loc_same</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="lred_same">lred_same</a></span> <span class="id">e</span> <span class="id">a</span> <span class="id">m</span> <span class="id">a</span>' <span class="id">m</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#a">a</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id">a</span>' <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#a">a</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id">a</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6151')">Proof.</div>
<div class="proofscript" id="proof6151">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">LRED</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LRED</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>); <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symbol_same">symbol_same</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symbol_same">symbol_same</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="rred_same">rred_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">a</span> <span class="id">m</span> <span class="id">tr</span> <span class="id">a</span>' <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rred</span> {| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#a">a</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">a</span>' <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id">rred</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#a">a</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">a</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6152')">Proof.</div>
<div class="proofscript" id="proof6152">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">RRED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">RRED</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>); <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#deref_loc_same">deref_loc_same</a></span>; <span class="tactic">eauto</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_same">assign_loc_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">RRED</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>); <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#deref_loc_same">deref_loc_same</a></span>; <span class="tactic">eauto</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_same">assign_loc_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="estep_same">estep_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">tr</span> <span class="id">st0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ESTEP</span>: <span class="id">estep</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">estep</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6153')">Proof.</div>
<div class="proofscript" id="proof6153">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ESTEP</span>; <span class="id">ss</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#lred_same">lred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#rred_same">rred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span> <span class="kwd">in</span> *. <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#lred_same">lred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 4; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#rred_same">rred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 5; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">o_bind_b</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id">H</span> : (<span class="tactic">do</span> <span class="id">id</span> &lt;- ?<span class="id">stmt</span>; ?<span class="id">next</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">f</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">stmt</span> <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">clarify</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *; <span class="id">ss</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="def_same">def_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span> <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DEF</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |} <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6154')">Proof.</div>
<div class="proofscript" id="proof6154">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">DEF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">DEF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="id">o_bind_b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">PROGDEF</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">SYMBKEEP</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>; <span class="tactic">eauto</span>; <span class="id">i</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">exploit</span> <span class="id">SYMBDEF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">PROGDEF</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="function_find_same">function_find_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr</span> <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUNC</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6155')">Proof.</div>
<div class="proofscript" id="proof6155">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">FUNC</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">FUNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#def_same">def_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="is_external_fd">is_external_fd</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">F</span> : <span class="kwd">Type</span>) (<span class="id">f</span> : <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.common.AST.html#is_external_ef">is_external_ef</a></span> <span class="id">ef</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="not_external_function_find_same">not_external_function_find_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id">fptr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERN</span> : <span class="id"><a href="compcert.compcertm.UpperBound_B.html#is_external_fd">is_external_fd</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#function">function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUNC</span> : <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6156')">Proof.</div>
<div class="proofscript" id="proof6156">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link_wf">skenv_link_wf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>. <span class="id">des_ifs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>). <span class="id">inv</span> <span class="id">mge_defs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">FUNC</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>. <span class="id">des_ifs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">FUNC</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (~ <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs_safe</span>; <span class="id">ss</span>. <span class="id">ii</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span>, <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="kwd">in</span> *. <span class="id">des_sumbool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">des_ifs_safe</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.compcertm.ASTC.html#is_external_gd">is_external_gd</a></span> <span class="id">g</span>) <span class="id">eqn</span>:<span class="id">ISEXT</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">uo</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">i</span>). <span class="tactic">intro</span> <span class="id">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">REL</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">Heq0</span>. <span class="id">des</span>. <span class="id">uge</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMB</span>. <span class="id">uge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b0</span> = <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> *. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">INTERN</span> <span class="id">ISEXT</span>. <span class="id">bsimpl</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) ! <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">exists</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splits</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_not_in_prog">id_not_in_prog</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_prog_defmap_spec">not_prog_defmap_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="id">exists</span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id">f</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id">DEFSYMB</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">Eq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FUNC</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">DEFSYMB</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs_safe</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals_defs">internals_defs</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">SYMBKEEP</span> <span class="id">id</span>); <span class="id">ss</span>. { <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>; <span class="id">ss</span>. } <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">exists</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splits</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Eq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> "'<span class="id">sstep</span>'" := (<span class="id"><a href="compcert.cfrontend.Csem.html#sstep">sstep</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) (<span class="id">only</span> <span class="id">parsing</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="sstep_same">sstep_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">tr</span> <span class="id">st0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SSTEP</span>: <span class="id">sstep</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sstep</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6157')">Proof.</div>
<div class="proofscript" id="proof6157">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SSTEP</span>; <span class="id">ss</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;internal&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#function_find_same">function_find_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">instantiate</span> (1 := <span class="id">m1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">H0</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">induction</span> <span class="id">H1</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_same">assign_loc_same</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#bind_parameters_same">bind_parameters_same</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;external&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#function_find_same">function_find_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="cstep_same">cstep_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">tr</span> <span class="id">st0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6158')">Proof.</div>
<div class="proofscript" id="proof6158">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#estep_same">estep_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#sstep_same">sstep_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="system_internal">system_internal</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ptr</span> <span class="id">fn_sig</span> <span class="id">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SYSCALL</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.System.html#skenv">System.skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ptr">ptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fn_sig">fn_sig</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERNAL</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ptr">ptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#f">f</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6159')">Proof.</div>
<div class="proofscript" id="proof6159">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.System.html#skenv">System.skenv</a></span> <span class="kwd">in</span> <span class="id">SYSCALL</span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">SYSCALL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>). <span class="id">inv</span> <span class="id">mge_defs</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">INTERNAL</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">INTERNAL</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">SYSCALL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="estep_progress">estep_progress</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">tr</span> <span class="id">st0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ESTEP</span>: <span class="id">estep</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">estep</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6160')">Proof.</div>
<div class="proofscript" id="proof6160">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ESTEP</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#lred_same">lred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#rred_same">rred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span> <span class="kwd">in</span> *. <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#lred_same">lred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 4; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#rred_same">rred_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 5; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="sstep_progress">sstep_progress</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">tr</span> <span class="id">st0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERN</span>: ~ <span class="id"><a href="compcert.compcertm.UpperBound_B.html#is_external">is_external</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SSTEP</span>: <span class="id">sstep</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sstep</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">genv_genv</a></span> := (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>); <span class="id">genv_cenv</span> := <span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6161')">Proof.</div>
<div class="proofscript" id="proof6161">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SSTEP</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_internal_function">step_internal_function</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span>; <span class="tactic">eauto</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">instantiate</span> (1 := <span class="id">m1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">H0</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">induction</span> <span class="id">H1</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#bind_parameters_same">bind_parameters_same</a></span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="id">ss</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">ef</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="senv_same">senv_same</a></span> : ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>): <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>) = (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6162')">Proof.</div>
<div class="proofscript" id="proof6162">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>; <span class="tactic">intro</span> <span class="id">MGE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">skenv_link</span> <span class="id">LINK_SK_TGT</span> <span class="id">MGE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">skenv_link</span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="kwd">in</span> *. <span class="tactic">subst</span> <span class="id">tprog</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MGE</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.GlobalenvsC.html#senv_eta">senv_eta</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">uge</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#func_ext1">func_ext1</a></span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span>. <span class="id">uge</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#func_ext1">func_ext1</a></span>. <span class="id">i</span>. <span class="id">specialize</span> (<span class="id">mge_symb</span> <span class="id">x0</span>). <span class="tactic">rewrite</span> <span class="id">mge_symb</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mge_pubs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#func_ext1">func_ext1</a></span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id">x0</span>) <span class="id">eqn</span>:<span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="id">uge</span>. <span class="tactic">rewrite</span> <span class="id">mge_symb</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)) <span class="id">x0</span>) <span class="id">eqn</span>:<span class="id">U</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span> <span class="kwd">in</span> <span class="id">U</span>. <span class="id">specialize</span> (<span class="id">mge_symb</span> <span class="id">i</span>). <span class="id">uge</span>. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="kwd">in</span> <span class="id">U</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_var_info">Genv.find_var_info</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#func_ext1">func_ext1</a></span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">x0</span>). <span class="id">uge</span>. <span class="id">inv</span> <span class="id">mge_defs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="progress_step">progress_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src</span> <span class="id">frs</span> <span class="id">n</span> <span class="id">t</span> <span class="id">st_src</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERN</span>: ~ <span class="id"><a href="compcert.compcertm.UpperBound_B.html#is_external">is_external</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MTCHST</span> : <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#frs">frs</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id">Step</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#t">t</a></span> <span class="id">st_src</span>'):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">tr</span> : <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span>) (<span class="id">st_tgt1</span> : <span class="id"><a href="compcert.common.Smallstep.html#state">Smallstep.state</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span>)), <span class="id">Step</span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#frs">frs</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_tgt1">st_tgt1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6163')">Proof.</div>
<div class="proofscript" id="proof6163">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MTCHST</span>; <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">ss</span>; <span class="id">exists</span> <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">esplits</span>. <span class="id">econs</span>; <span class="id">ss</span>.  <span class="id">econs</span> 1. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#estep_progress">estep_progress</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_same">senv_same</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">esplits</span>. <span class="id">econs</span>; <span class="id">ss</span>. <span class="id">econs</span> 2. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#sstep_progress">sstep_progress</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_same">senv_same</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">INITSRC</span>; <span class="id">inv</span> <span class="id">INITTGT</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">INITSRC</span>; <span class="id">inv</span> <span class="id">INITTGT</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="init_case">init_case</a></span> <span class="id">st</span> <span class="id">args</span> <span class="id">frs</span> <span class="id">fptr</span> <span class="id">tr</span> <span class="id">st_src</span> <span class="id">st_src</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STATE</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st">st</a></span> = <span class="id"><a href="compcert.compcertm.Sem.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#frs">frs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPTR</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#args">args</a></span>.(<span class="id"><a href="compcert.compcertm.ModSem.html#Args.fptr">Args.fptr</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MTCHST</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st">st</a></span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id">Step</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id">st_src</span>'):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">CMOD</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#valid_owner">valid_owner</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">SYSMOD</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tge">tge</a></span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> (<span class="id"><a href="compcert.compcertm.System.html#modsem">System.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span>)&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6164')">Proof.</div>
<div class="proofscript" id="proof6164">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#valid_owner">valid_owner</a></span> <span class="id">args</span>.(<span class="id"><a href="compcert.compcertm.ModSem.html#Args.fptr">Args.fptr</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">inv</span> <span class="id">MTCHST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;syscall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">SAFESRC</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span>; <span class="tactic">eauto</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="kwd">in</span> *. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>. <span class="id">ss</span>. <span class="id">left</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="kwd">in</span> <span class="id">NOTPROG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.System.html#skenv">System.skenv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">mge_defs</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">FPTR</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FPTR</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">SIG</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>. <span class="tactic">rewrite</span> <span class="id">SIG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;initial&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">INITTGT</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAME</span>: <span class="id">sk_link</span> = <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.LINK_SK_TGT">LINK_SK_TGT</a></span> <span class="kwd">in</span> <span class="id">INITSK</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">INITSK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#proj_wf">proj_wf</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.MAIN_INTERNAL">MAIN_INTERNAL</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">MAIN_INTERN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INITSRC</span>; <span class="id">inv</span> <span class="id">SAFESRC</span>; <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span>; <span class="tactic">eauto</span>. <span class="id">ss</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">ss</span>; <span class="id">des_ifs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id">b0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">inversion</span> <span class="id">H1</span>. <span class="tactic">auto</span>. } <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) (<span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.common.AST.html#signature_main">signature_main</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">PROGDEF</span>: <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#id_in_prog">id_in_prog</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">DEFKEEP</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span>. <span class="tactic">rename</span> <span class="id">b</span> <span class="id">into</span> <span class="id">bb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>))); <span class="id">et</span>. <span class="tactic">intro</span> <span class="id">T</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">T0</span>; <span class="id">et</span>. <span class="id">i</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des</span>. <span class="tactic">rewrite</span> <span class="id">DEFSMALL</span>. <span class="id">inv</span> <span class="id">LO</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H7</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">i</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">i</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="id">erewrite</span> &lt;- <span class="id">H5</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">set</span> (<span class="id">if_sig</span> := (<span class="id"><a href="compcert.common.AST.html#mksignature">mksignature</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#typlist_of_typelist">typlist_of_typelist</a></span> <span class="id">targs</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#typ_of_type">typ_of_type</a></span> <span class="id">tres</span>)) <span class="id">cc</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">if_sig</span>). <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_precise">prog_precise</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.genv_precise">SkEnv.genv_precise</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6165')">Proof.</div>
<div class="proofscript" id="proof6165">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSkEnv.project_revive_precise">CSkEnv.project_revive_precise</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="preservation_prog">preservation_prog</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">WT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st1">st1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6166')">Proof.</div>
<div class="proofscript" id="proof6166">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#preservation">preservation</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">STEP</span>; <span class="tactic">try</span> <span class="id">refl</span>; <span class="tactic">eauto</span>; <span class="id">et</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_precise">prog_precise</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">MAP</span>. <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">blk</span>). <span class="id">inv</span> <span class="id">mge_defs</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>, <span class="id"><a href="compcert.cfrontend.Csem.html#genv_genv">genv_genv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>, <span class="id"><a href="compcert.cfrontend.Csem.html#genv_genv">genv_genv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Eq</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.SKEWF">SKEWF</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">DEFSYMB</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="match_state_xsim">match_state_xsim</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">st_src</span> <span class="id">st_tgt</span> <span class="id">n</span> (<span class="id">MTCHST</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_tgt">st_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#n">n</a></span>) (<span class="id">WTST</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">Csem.semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#n">n</a></span>%<span class="id">nat</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_src">st_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#st_tgt">st_tgt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6167')">Proof.</div>
<div class="proofscript" id="proof6167">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pcofix</span> <span class="id">CIH</span>. <span class="id">i</span>. <span class="id">pfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;call&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">inversion</span> <span class="id">MTCHST</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;syscall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="id">right</span>. <span class="id">econs</span>; <span class="id">i</span>. <span class="id">econs</span>; <span class="id">i</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">FINALSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#init_case">init_case</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">CMOD</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">CSTYLEARGS</span>: <span class="id">exists</span> <span class="id">fptr</span> <span class="id">vs</span> <span class="id">m</span>, <span class="id">args</span> = <span class="id"><a href="compcert.compcertm.ModSem.html#Args.Cstyle">Args.Cstyle</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#vs">vs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#m">m</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SYSMOD</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">args</span>; <span class="id">ss</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>; <span class="tactic">subst</span> <span class="id">args</span>; <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">cycle</span> 1. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;receptive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H0</span>. <span class="id">eexists</span>. <span class="id">econs</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_internal_function">step_internal_function</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_receptive">external_call_receptive</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">econs</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_external_function">step_external_function</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="tactic">red</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">ss</span>; <span class="id">clarify</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">plus_left</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;init&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;determ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">LINK_SK_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> <span class="id">LINK_SK_TGT0</span>, <span class="id">SYSMOD</span>; <span class="tactic">inversion</span> <span class="id">LINK_SK_TGT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> -&gt; <span class="id">H1</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#Args.get_fptr">Args.get_fptr</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">determ_tac</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#find_fptr_owner_determ">find_fptr_owner_determ</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">ms0</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#find_fptr_owner_determ">find_fptr_owner_determ</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id">MSFIND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id">MSFIND0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">subst</span> <span class="id">ms</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">INIT0</span>; <span class="tactic">inversion</span> <span class="id">INIT</span>. <span class="tactic">rewrite</span> <span class="id">CSTYLE</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINAL</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_init">step_init</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#Args.get_fptr">Args.get_fptr</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *; <span class="tactic">inversion</span> <span class="id">LINK_SK_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id">inv</span> <span class="id">STEPSRC</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="kwd">in</span> *. <span class="id">Eq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">plus_left</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;internal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;determ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">ss</span>); <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">inv</span> <span class="id">FINAL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">STEP0</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FPTR1</span> <span class="kwd">in</span> <span class="id">FPTR0</span>. <span class="id">inv</span> <span class="id">FPTR0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_determ">external_call_determ</a></span>. <span class="tactic">eapply</span> <span class="id">EXTCALL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">EXTCALL0</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.EventsC.html#match_traces_le">match_traces_le</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_equiv_ge_link">senv_equiv_ge_link</a></span>. <span class="id">des</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symb_preserved">symb_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINAL</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">instantiate</span> (2 := <span class="id">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_internal">step_internal</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := (<span class="id"><a href="compcert.compcertm.System.html#Returnstate">System.Returnstate</a></span> <span class="id">vres</span> <span class="id">m</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1 := <span class="id">ef</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.System.html#globalenv">System.globalenv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>). <span class="id">inv</span> <span class="id">mge_defs</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">SIG</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">FPTR</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.System.html#globalenv">System.globalenv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_equiv_ge_link">senv_equiv_ge_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step_return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (2:=<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;determ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">ss</span>); <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">inv</span> <span class="id">FINAL</span>; <span class="id">inv</span> <span class="id">AFTER</span>; <span class="id">inv</span> <span class="id">STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">FINAL</span>; <span class="id">inv</span> <span class="id">FINAL0</span>. <span class="id">inv</span> <span class="id">AFTER</span>; <span class="id">inv</span> <span class="id">AFTER0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>; <span class="id">ss</span>. <span class="tactic">repeat</span> <span class="tactic">f_equal</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">determ_tac</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_dtm">typify_c_dtm</a></span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINAL</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">STEP</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_return">step_return</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1 := (<span class="id"><a href="compcert.compcertm.ModSem.html#Retv.mk">Retv.mk</a></span> <span class="id">vres</span> <span class="id">m</span>')). <span class="id">econs</span>. } <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.compcertm.CsemC.html#after_external">after_external</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> <span class="id">fptr</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id">targs0</span> <span class="id">tres0</span> <span class="id">cc</span>) <span class="id">vs</span> <span class="id">k</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.ModSem.html#Retv.mk">Retv.mk</a></span> <span class="id">vres</span> <span class="id">m</span>') (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">vres</span> <span class="id">k</span> <span class="id">m</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ss</span>. <span class="id">econs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_inversion">Genv.find_def_inversion</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.WT_EXTERNAL">WT_EXTERNAL</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_equiv_ge_link">senv_equiv_ge_link</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#preservation_prog">preservation_prog</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_same">senv_same</a></span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;initial&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">inversion</span> <span class="id">INITSRC</span>; <span class="tactic">subst</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">right</span>. <span class="id">econs</span>; <span class="id">i</span>. <span class="id">econs</span>; <span class="id">i</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;FINAL&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">FINALSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="id">i</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#init_case">init_case</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;main&nbsp;is&nbsp;C&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">inv</span> <span class="id">CMOD</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">STEPSRC</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.MAIN_INTERNAL">MAIN_INTERNAL</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">INTERN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MSFIND</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;internal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">cycle</span> 1. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;receptive&nbsp;at&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H4</span>. <span class="id">eexists</span>. <span class="id">econs</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_internal_function">step_internal_function</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_receptive">external_call_receptive</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">econs</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_external_function">step_external_function</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="tactic">red</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_two">plus_two</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;determ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">LINK_SK_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> <span class="id">LINK_SK_TGT0</span>; <span class="tactic">inversion</span> <span class="id">LINK_SK_TGT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> -&gt; <span class="id">H5</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">LINK_SK_TGT</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#Args.get_fptr">Args.get_fptr</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">args</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#find_fptr_owner_determ">find_fptr_owner_determ</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">MSFIND</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_init0</span>. <span class="tactic">subst</span> <span class="id">ms0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#find_fptr_owner_determ">find_fptr_owner_determ</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>. <span class="tactic">eapply</span> <span class="id">MSFIND0</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">subst</span> <span class="id">ms</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">inversion</span> <span class="id">INIT0</span>; <span class="tactic">inversion</span> <span class="id">INIT</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FINDF0</span> <span class="kwd">in</span> <span class="id">FINDF1</span>. <span class="tactic">inversion</span> <span class="id">FINDF1</span>. <span class="tactic">subst</span> <span class="id">fd0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">TYPE0</span> <span class="kwd">in</span> <span class="id">TYPE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">TYPE1</span> <span class="kwd">in</span> *. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINAL</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_init">step_init</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.compcertm.CsemC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>). <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span> <span class="kwd">in</span> <span class="id">MSFIND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#tge">tge</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">inversion</span> <span class="id">Heq</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H4</span> <span class="kwd">in</span> <span class="id">MSFIND</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#Args.get_fptr">Args.get_fptr</a></span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span>) [] <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">m0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>  (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) (<span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> = (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>. <span class="id">specialize</span> (<span class="id">mge_symb</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_equiv_ge_link">senv_equiv_ge_link</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem">Genv.init_mem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.m_init">m_init</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#SRC_INIT_MEM">SRC_INIT_MEM</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_mem">Sk.load_mem</a></span> <span class="kwd">in</span> *. <span class="id">Eq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INITTGT</span>; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_mem">Sk.load_mem</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.LINK_SK_TGT">LINK_SK_TGT</a></span> <span class="kwd">in</span> <span class="id">INITSK</span>. <span class="tactic">inversion</span> <span class="id">INITSK</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.INIT_MEM">INIT_MEM</a></span> <span class="kwd">in</span> <span class="id">INITMEM</span>. <span class="tactic">inversion</span> <span class="id">INITMEM</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H6</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)); <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_params">fn_params</a></span> <span class="id">f</span>) <span class="id">eqn</span>:<span class="id">T</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step_internal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;determ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="id">ss</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">ss</span>); <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">inv</span> <span class="id">FINAL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">AT</span>; <span class="id">inv</span> <span class="id">AT0</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">AT</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">AT</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">STEP0</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#alloc_variables_determ">alloc_variables_determ</a></span>. <span class="tactic">eapply</span> <span class="id">H16</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#bind_parameters_determ">bind_parameters_determ</a></span>. <span class="tactic">eapply</span> <span class="id">H17</span>. <span class="tactic">eapply</span> <span class="id">H19</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [ <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Events.html#match_traces_E0">match_traces_E0</a></span> | <span class="id">i</span>; <span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#local_genv">local_genv</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">FINAL</span>; <span class="id">inv</span> <span class="id">FINAL0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*** <span class="id">instantiate</span> (2:=<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_internal">step_internal</a></span>. <span class="id">ss</span>. <span class="id">econs</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPSRC</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := (<span class="id"><a href="compcert.cfrontend.Csem.html#State">Csem.State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_body">fn_body</a></span> <span class="id">f</span>) <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">e</span> <span class="id">m2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_internal_function">step_internal_function</a></span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.compcertm.UpperBound_B.html#not_external_function_find_same">not_external_function_find_same</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)); <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1 := <span class="id">m3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">INIT_MEM</span> <span class="id">m_init</span> <span class="id">ge</span> <span class="id">LINK_SK_TGT</span> <span class="id">tprog</span> <span class="id">H17</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H17</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">clear</span> - <span class="id">INCL</span> <span class="id">WT_EXTERNAL</span> <span class="id">WTPROG</span> <span class="id">MAIN_INTERNAL</span> <span class="id">SKEWF</span> <span class="id">WTSK</span> <span class="id">INIT_MEM</span> <span class="id">m_init</span> <span class="id">ge</span> <span class="id">LINK_SK_TGT</span> <span class="id">tprog</span> <span class="id">H18</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H18</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">econs</span>). <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_same">senv_same</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#assign_loc_same">assign_loc_same</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;match&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="id">instantiate</span> (1:= 1%<span class="id">nat</span>). <span class="id">inv</span> <span class="id">INITTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_states_intro">match_states_intro</a></span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#preservation_prog">preservation_prog</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_same">senv_same</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;main&nbsp;is&nbsp;syscall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">inv</span> <span class="id">SYSMOD</span>. <span class="id">inv</span> <span class="id">INITTGT</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAME</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span> = <span class="id">sk_link</span>) <span class="tactic">by</span> (<span class="id">Eq</span>; <span class="tactic">auto</span>). <span class="tactic">clear</span> <span class="id">INITSK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.MAIN_INTERNAL">MAIN_INTERNAL</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#internal_function_state">internal_function_state</a></span> <span class="kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>  (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) (<span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.sk_tgt">sk_tgt</a></span>) <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> = (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>. <span class="id">specialize</span> (<span class="id">mge_symb</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_B.html#skenv_link">skenv_link</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_B.html#prog_sk_tgt">prog_sk_tgt</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">Heq0</span>; <span class="id">Eq</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)) <span class="id">eqn</span>:<span class="id">HFUNC</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#system_internal">system_internal</a></span>; <span class="tactic">eauto</span>; <span class="id">clarify</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SAME</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">right</span>. <span class="id">econs</span>; <span class="id">i</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">MTCHST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">FINALTGT</span>. <span class="id">inv</span> <span class="id">FINAL</span>. <span class="id">ss</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">INITTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">MTCHST</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INITTGT</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPTGT</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step_call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">inv</span> <span class="id">AT</span>; <span class="id">ss</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splits</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step_internal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">assert</span>(<span class="id">STEPSRC</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) <span class="id">st_src</span> <span class="id">tr</span> <span class="id">st0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cstep_same">cstep_same</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#senv_same">senv_same</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#preservation_prog">preservation_prog</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">specialize</span> (<span class="id">SAFESRC</span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)). <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;final&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">inv</span> <span class="id">SAFESRC</span>; <span class="id">inv</span> <span class="id">MTCHST</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INITTGT</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">exists</span> <span class="id">r0</span>. <span class="id">econs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#is_external">is_external</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.ge">ge</a></span> <span class="id">st_src</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">right</span>. <span class="id">inv</span> <span class="id">SAFESRC</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MTCHST</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INITTGT</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> <span class="id">ef</span> <span class="kwd">as</span> <span class="id">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>. <span class="id">esplits</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_call">step_call</a></span>; <span class="id">ss</span>. <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSkEnv.project_revive_no_external">CSkEnv.project_revive_no_external</a></span> <span class="kwd">in</span> <span class="id">Heq0</span>; <span class="id">clarify</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">rpapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#link_includes">link_includes</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="id">left</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#def_same">def_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#ge">ge</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">Eq</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exists</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cc</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>). <span class="id">inv</span> <span class="id">mge_defs</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span> (<span class="id">x</span> = (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cc</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_inversion">Genv.find_funct_inversion</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.WTPROG">WTPROG</a></span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.CSTYLE_EXTERN">CSTYLE_EXTERN</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_ifs</span>. <span class="tactic">f_equal</span>. <span class="tactic">eapply</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTST</span>; <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">WTKS</span>; <span class="tactic">eauto</span>. { <span class="id">ii</span>. <span class="id">clarify</span>. } <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="id">rr</span>. <span class="id">des</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;internal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#progress_step">progress_step</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="transf_xsim_properties">transf_xsim_properties</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#xsim_properties">xsim_properties</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">Csem.semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6168')">Proof.</div>
<div class="proofscript" id="proof6168">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; [<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>| |<span class="id">i</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#symb_preserved">symb_preserved</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#transf_initial_states">transf_initial_states</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">des</span>. <span class="id">esplits</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">inv</span> <span class="id">INIT0</span>. <span class="id">inv</span> <span class="id">INIT1</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">inv</span> <span class="id">INITSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">exists</span> <span class="id">fd</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#fd">fd</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_state_xsim">match_state_xsim</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_initial_state">wt_initial_state</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">rr</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.SKEWF">SKEWF</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#match_ge_skenv_link">match_ge_skenv_link</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">blk</span>). <span class="id">inv</span> <span class="id">mge_defs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>, <span class="id"><a href="compcert.cfrontend.Csem.html#genv_genv">genv_genv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">Eq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>, <span class="id"><a href="compcert.cfrontend.Csem.html#genv_genv">genv_genv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">exploit</span> <span class="id">DEFSYMB</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mge_symb</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span>(<span class="id">NOSTEP</span>: <span class="id">Nostep</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span>) [] <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">m0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">des</span>; <span class="id">inv</span> <span class="id">H6</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">contradict</span> <span class="id">H5</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.MAIN_INTERNAL">MAIN_INTERNAL</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">UB</span>: ~<span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Csem.Callstate</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span>) [] <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">m0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>; <span class="id">ss</span>. <span class="id">specialize</span> (<span class="id">H6</span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)). <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H6</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rr</span> <span class="kwd">in</span> <span class="id">NOSTEP</span>. <span class="id">contradict</span> <span class="id">NOSTEP</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pfold</span>. <span class="id">right</span>. <span class="id">econs</span>; <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="transf_program_correct">transf_program_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#mixed_simulation">mixed_simulation</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">Csem.semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.prog">prog</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0.tprog">tprog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6169')">Proof.</div>
<div class="proofscript" id="proof6169">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#Mixed_simulation">Mixed_simulation</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#transf_xsim_properties">transf_xsim_properties</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION.PLANB0">PLANB0</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="upperbound_b_correct">upperbound_b_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">builtins</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cprog</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MAIN</span>: <span class="id">exists</span> <span class="id">main_f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">INTERNAL</span>: <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cprog">cprog</a></span>.(<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span>) ! (<span class="id"><a href="compcert.compcertm.UpperBound_B.html#cprog">cprog</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#main_f">main_f</a></span>))&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">SIG</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#main_f">main_f</a></span> = <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span>&gt;&gt;))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TYPED</span>: <span class="id"><a href="compcert.compcertm.CsemC.html#typechecked">typechecked</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#builtins">builtins</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cprog">cprog</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">REFINE</span>: <span class="id"><a href="compcert.compcertm.BehaviorsC.html#improves">improves</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#semantics">Csem.semantics</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#cprog">cprog</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span> [<span class="id"><a href="compcert.compcertm.UpperBound_B.html#cprog">cprog</a></span>]))&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6170')">Proof.</div>
<div class="proofscript" id="proof6170">
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span> [<span class="id">cprog</span>])) <span class="id">eqn</span>:<span class="id">T</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_mem">Sk.load_mem</a></span> <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">T2</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">exists</span> <span class="id">beh2</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">BEH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="id">esplits</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Behaviors.html#behavior_improves_refl">behavior_improves_refl</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">T</span> <span class="kwd">in</span> <span class="id">INITSK</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="id">esplits</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Behaviors.html#behavior_improves_refl">behavior_improves_refl</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 2. <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_prog">Linker_prog</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_mem">Sk.load_mem</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem">Genv.init_mem</a></span> <span class="id">t</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_match">Genv.init_mem_match</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">ctx</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>) (<span class="id">match_fundef</span> := <span class="id"><a href="compcert.compcertm.CoqlibC.html#top3">top3</a></span>) (<span class="id">match_varinfo</span> := <span class="id"><a href="compcert.compcertm.CoqlibC.html#top2">top2</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="tactic">eapply</span> <span class="id">H1</span>]. <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_prog">link_prog</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id">cprog</span>) <span class="kwd">as</span> <span class="id">l</span>. <span class="tactic">clear</span> <span class="id">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ginduction</span> <span class="id">l</span>; <span class="id">ss</span>; <span class="id">ii</span>; <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id">a</span>; <span class="id">ss</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g</span>; <span class="id">ss</span>; <span class="id">des_ifs</span>; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">econs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">v</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">IHl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">split</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_prog">link_prog</a></span> <span class="kwd">in</span> *; <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">T2</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.BehaviorsC.html#bsim_improves">bsim_improves</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_to_backward_simulation">mixed_to_backward_simulation</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TYPED</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_B.html#transf_program_correct">transf_program_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span>, <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">rr</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>. <span class="id">des_ifs_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">INTERNAL</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#typecheck_program_sound">typecheck_program_sound</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="id">all</span>: <span class="id">econs</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
