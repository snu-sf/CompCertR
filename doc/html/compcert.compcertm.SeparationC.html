
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SeparationC</title>
<meta name="description" content="Documentation of Coq module SeparationC" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SeparationC</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html">Program.Basics</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html">CoqlibC</a></span> <span class="id"><a href="compcert.lib.Decidableplus.html">Decidableplus</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.compcertm.MemoryC.html">MemoryC</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<div class="doc">newly added *</div>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html">AxiomsC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="compcert.common.Separation.html">Separation</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html">JunkBlock</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">sep_scope</span>.<br/>
<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">sep_split</span> := <span class="id">econs</span>; [|<span class="tactic">split</span>]; <span class="id">swap</span> 2 3.<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id"><a name="disjoint_footprint_sym">disjoint_footprint_sym</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#Symmetric">Symmetric</a></span> <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7376')">Next Obligation.</div>
<div class="proofscript" id="proof7376">
 <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="separation_private">separation_private</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m_src</span> <span class="id">m_tgt</span> <span class="id">F</span> <span class="id">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m_tgt">m_tgt</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.common.Separation.html#minjection">minjection</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#F">F</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m_src">m_src</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#F">F</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m_src">m_src</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7377')">Proof.</div>
<div class="proofscript" id="proof7377">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>. <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="disjoint_footprint_drop_empty">disjoint_footprint_drop_empty</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q0</span> <span class="id">Q1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EMPTY</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id">bot2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DISJ</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DISJ</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> (<span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>)&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7378')">Proof.</div>
<div class="proofscript" id="proof7378">
&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="kwd">in</span> *. <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">EMPTY</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="disjoint_footprint_mconj">disjoint_footprint_mconj</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q0</span> <span class="id">Q1</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DISJ</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> (<span class="id"><a href="compcert.common.Separation.html#mconj">mconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>)&gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; &lt;&lt;<span class="id">DISJ0</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">DISJ1</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7379')">Proof.</div>
<div class="proofscript" id="proof7379">
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">ii</span>; <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="kwd">in</span> *; <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">ii</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="disjoint_footprint_sepconj">disjoint_footprint_sepconj</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q0</span> <span class="id">Q1</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">DISJ0</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span>&gt;&gt;) /\ (&lt;&lt;<span class="id">DISJ1</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (&lt;&lt;<span class="id">DISJ</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> (<span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>)&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7380')">Proof.</div>
<div class="proofscript" id="proof7380">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">esplits</span>; <span class="id">ii</span>; <span class="id">ss</span>; <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="massert_eq">massert_eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pred0</span> <span class="id">footprint0</span> <span class="id">INVAR0</span> <span class="id">VALID0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pred1</span> <span class="id">footprint1</span> <span class="id">INVAR1</span> <span class="id">VALID1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ0</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#pred0">pred0</a></span> = <span class="id"><a href="compcert.compcertm.SeparationC.html#pred1">pred1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ1</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#footprint0">footprint0</a></span> = <span class="id"><a href="compcert.compcertm.SeparationC.html#footprint1">footprint1</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Separation.html#Build_massert">Build_massert</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#pred0">pred0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#footprint0">footprint0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#INVAR0">INVAR0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#VALID0">VALID0</a></span> = <span class="id"><a href="compcert.common.Separation.html#Build_massert">Build_massert</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#pred1">pred1</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#footprint1">footprint1</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#INVAR1">INVAR1</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#VALID1">VALID1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7381')">Proof.</div>
<div class="proofscript" id="proof7381">
&nbsp;&nbsp;<span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#proof_irr">Axioms.proof_irr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#proof_irr">Axioms.proof_irr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mconj_sym">mconj_sym</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">EQ</span>: (<span class="id"><a href="compcert.common.Separation.html#mconj">mconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>) = (<span class="id"><a href="compcert.common.Separation.html#mconj">mconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>)&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7382')">Proof.</div>
<div class="proofscript" id="proof7382">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#massert_eq">massert_eq</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">Axioms.functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="id">des</span>; <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">Axioms.functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">Axioms.functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_sym">sepconj_sym</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">EQ</span>: (<span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>) = (<span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>)&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7383')">Proof.</div>
<div class="proofscript" id="proof7383">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#massert_eq">massert_eq</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">Axioms.functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="id">des</span>; <span class="id">esplits</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">sym</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">sym</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">Axioms.functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">Axioms.functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sep_drop_tail3">sep_drop_tail3</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q</span> <span class="id">R</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span> (<span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#R">R</a></span>) (<span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7384')">Proof.</div>
<div class="proofscript" id="proof7384">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span>. <span class="id">ss</span>. <span class="tactic">split</span>; <span class="id">ii</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#disjoint_footprint_sepconj">disjoint_footprint_sepconj</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">des</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_isolated_mutation0">sepconj_isolated_mutation0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">P</span> <span class="id">Q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCH</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="kwd">fun</span> <span class="id">blk</span> <span class="id">ofs</span> =&gt; ~ <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#blk">blk</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#ofs">ofs</a></span> /\ <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#blk">blk</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7385')">Proof.</div>
<div class="proofscript" id="proof7385">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SEP</span> <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_isolated_mutation1">sepconj_isolated_mutation1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">P</span> <span class="id">Q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCH</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>)) <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7386')">Proof.</div>
<div class="proofscript" id="proof7386">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sepconj_isolated_mutation0">sepconj_isolated_mutation0</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="id">des</span>; <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_isolated_mutation_strong">sepconj_isolated_mutation_strong</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">P0</span> <span class="id">P1</span> <span class="id">Q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCH</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IMP</span>: <span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOOT</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7387')">Proof.</div>
<div class="proofscript" id="proof7387">
&nbsp;&nbsp;<span class="id">hnf</span> <span class="kwd">in</span> <span class="id">IMP</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_isolated_mutation_stronger">sepconj_isolated_mutation_stronger</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">P0</span> <span class="id">P1</span> <span class="id">CTX</span> <span class="id">CHNG</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCH</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IMP</span>: <span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISOL0</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span> &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISOL1</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= ~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7388')">Proof.</div>
<div class="proofscript" id="proof7388">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SEP</span> <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">hnf</span> <span class="kwd">in</span> <span class="id">IMP</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">sep_split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">ISOL1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">C</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">ISOL0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="globalenv_inject_incr_strong">globalenv_inject_incr_strong</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">j</span> <span class="id">j</span>' <span class="id">m_src</span> <span class="id">m_tgt0</span> <span class="id">m_tgt1</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#F">F</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#V">V</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INCR</span>: <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#j">j</a></span> <span class="id">j</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ</span>: <span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#j">j</a></span> <span class="id">j</span>' <span class="id"><a href="compcert.compcertm.SeparationC.html#m_src">m_src</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m_tgt0">m_tgt0</a></span> |= <span class="id"><a href="compcert.common.Separation.html#globalenv_inject">globalenv_inject</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#ge">ge</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#j">j</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MLE</span>: (<span class="id"><a href="compcert.compcertm.SeparationC.html#m_tgt0">m_tgt0</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>) &lt;= <span class="id"><a href="compcert.compcertm.SeparationC.html#m_tgt1">m_tgt1</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>))%<span class="id">positive</span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m_tgt1">m_tgt1</a></span> |= <span class="id"><a href="compcert.common.Separation.html#globalenv_inject">globalenv_inject</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#ge">ge</a></span> <span class="id">j</span>'&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7389')">Proof.</div>
<div class="proofscript" id="proof7389">
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">m_tgt0</span> |= <span class="id"><a href="compcert.common.Separation.html#globalenv_inject">globalenv_inject</a></span> <span class="id">ge</span> <span class="id">j</span>').<br/>
&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">SEP0</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">IMAGE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">INCR</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>. <span class="id">r</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_Ple_trans">Plt_Ple_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="disjoint_footprint_sep">disjoint_footprint_sep</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">A</span> <span class="id">WALL</span> <span class="id">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DISJ0</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#A">A</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#WALL">WALL</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DISJ1</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#B">B</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= ~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#WALL">WALL</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DISJ</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#A">A</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#B">B</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7390')">Proof.</div>
<div class="proofscript" id="proof7390">
&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">DISJ0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">DISJ1</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="freed_range">freed_range</a></span> (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">lo</span> <span class="id">hi</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>): <span class="id"><a href="compcert.common.Separation.html#massert">massert</a></span> := {|<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Separation.html#Build_massert">m_pred</a></span> := <span class="kwd">fun</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">RANGE</span>: 0 &lt;= <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> /\ <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.modulus">Ptrofs.modulus</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">VALID</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> &lt; <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span> -&gt; <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span>&gt;&gt;<br/>
&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;<span class="id">m_footprint</span> := <span class="id"><a href="compcert.compcertm.MemoryC.html#brange">brange</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span><br/>
&nbsp;&nbsp;;<br/>
|}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7391')">Next Obligation.</div>
<div class="proofscript" id="proof7391">
 <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_unchanged_on">Mem.valid_block_unchanged_on</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof7392')">Next Obligation.</div>
<div class="proofscript" id="proof7392">
 <span class="id">hnf</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">des</span>; <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="id">lia</span>. Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#freed_range">freed_range</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_pure_r">add_pure_r</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span> <span class="id">P</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>&gt;&gt; &lt;-&gt; &lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.common.Separation.html#pure">pure</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7393')">Proof.</div>
<div class="proofscript" id="proof7393">
 <span class="tactic">split</span>; <span class="id">ii</span>. - <span class="id">sep_split</span>; <span class="id">ss</span>. - <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">ss</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range_split0">range_split0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span> <span class="id">lo</span> <span class="id">mid</span> <span class="id">hi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RANEG</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> &lt;= <span class="id"><a href="compcert.compcertm.SeparationC.html#mid">mid</a></span> &lt;= <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span> (<span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>) (<span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#mid">mid</a></span> ** <span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#mid">mid</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7394')">Proof.</div>
<div class="proofscript" id="proof7394">
&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ii</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#add_pure_r">add_pure_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#add_pure_r">add_pure_r</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">r</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Separation.html#sep_assoc">sep_assoc</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#range_split">range_split</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range_freed_range">range_freed_range</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sp</span> <span class="id">lo</span> <span class="id">hi</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span> (<span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sp">sp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>) (<span class="id"><a href="compcert.compcertm.SeparationC.html#freed_range">freed_range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sp">sp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7395')">Proof.</div>
<div class="proofscript" id="proof7395">
&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">specialize</span> (<span class="id">H1</span> <span class="id">lo</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span> <span class="id">lia</span>.<br/>
<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="id">econs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_pure_r_eq">add_pure_r_eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> = <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.common.Separation.html#pure">pure</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7396')">Proof.</div>
<div class="proofscript" id="proof7396">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">P</span>; <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#massert_eq">massert_eq</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">functional_extensionality</a></span>. <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>. <span class="tactic">split</span>; <span class="id">ii</span>; <span class="id">des</span>; <span class="id">esplits</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">repeat</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Axioms.html#functional_extensionality">functional_extensionality</a></span>; <span class="id">ii</span>; <span class="id">ss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>. <span class="tactic">split</span>; <span class="id">ii</span>; <span class="id">des</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mconj_distr">mconj_distr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span> <span class="id">P</span> <span class="id">Q</span> <span class="id">CTX</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span> |= (<span class="id"><a href="compcert.common.Separation.html#mconj">mconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>) ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>&gt;&gt; &lt;-&gt; &lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7397')">Proof.</div>
<div class="proofscript" id="proof7397">
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">ii</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="id">ss</span>. <span class="id">des</span>. <span class="id">sym</span> <span class="kwd">in</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#disjoint_footprint_mconj">disjoint_footprint_mconj</a></span> <span class="kwd">in</span> <span class="id">C</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">sym</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">sym</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id">des</span>. <span class="tactic">destruct</span> <span class="id">SEP</span>. <span class="tactic">destruct</span> <span class="id">SEP0</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sep_split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sym</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#disjoint_footprint_mconj">disjoint_footprint_mconj</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">sym</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">sym</span>; <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range_nonnil_valid_block">range_nonnil_valid_block</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span> |= <span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RANGE</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> &lt; <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">VALID</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m">m</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#b">b</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7398')">Proof.</div>
<div class="proofscript" id="proof7398">
&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des</span>. <span class="id">specialize</span> (<span class="id">SEP1</span> <span class="id">lo</span>). <span class="id">exploit</span> <span class="id">SEP1</span>; <span class="tactic">eauto</span>. { <span class="id">lia</span>. } <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="id">econs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_isolated_mutation_strongest">sepconj_isolated_mutation_strongest</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">P</span> <span class="id">P0</span> <span class="id">P1</span> <span class="id">CTX</span> <span class="id">CHNG</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCH</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IMP</span>: <span class="id"><a href="compcert.common.Separation.html#massert_imp">massert_imp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PRED</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISOL</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span> &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISOL0</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISOL1</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= ~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DISJ</span>: <span class="id"><a href="compcert.common.Separation.html#disjoint_footprint">disjoint_footprint</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7399')">Proof.</div>
<div class="proofscript" id="proof7399">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SEP</span> <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">hnf</span> <span class="kwd">in</span> <span class="id">IMP</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">sep_split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.SeparationC.html#disjoint_footprint_sepconj">disjoint_footprint_sepconj</a></span>. <span class="tactic">split</span>; <span class="id">ss</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">C</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">sep_split</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">ISOL1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">C</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">ISOL</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_isolated_mutation_revisited">sepconj_isolated_mutation_revisited</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">P0</span> <span class="id">P1</span> <span class="id">CTX</span> <span class="id">CHNG</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCH</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (~2 <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span>) <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISOL</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#CHNG">CHNG</a></span> &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PRED</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOOT</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#CTX">CTX</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7400')">Proof.</div>
<div class="proofscript" id="proof7400">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SEP</span> <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">sep_split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Separation.html#m_invar">m_invar</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">ISOL</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">rr</span> <span class="kwd">in</span> <span class="id">C</span>. <span class="id">et</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mconj_footprint_le">mconj_footprint_le</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">A0</span> <span class="id">B0</span> <span class="id">A1</span> <span class="id">B1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LEA</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#A0">A0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#A1">A1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LEB</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#B0">B0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#B1">B1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Separation.html#mconj">mconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#A0">A0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#B0">B0</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= (<span class="id"><a href="compcert.common.Separation.html#mconj">mconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#A1">A1</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#B1">B1</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7401')">Proof.</div>
<div class="proofscript" id="proof7401">
&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">ii</span>. <span class="id">des</span>; <span class="id">et</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sepconj_footprint_le">sepconj_footprint_le</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">A0</span> <span class="id">B0</span> <span class="id">A1</span> <span class="id">B1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LEA</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#A0">A0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#A1">A1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LEB</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#B0">B0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#B1">B1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#A0">A0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#B0">B0</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= (<span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#A1">A1</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#B1">B1</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7402')">Proof.</div>
<div class="proofscript" id="proof7402">
<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span>.<br/>
&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">ii</span>. <span class="id">des</span>; <span class="id">et</span>.<br/>
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_footprint_sepconj_le">m_footprint_sepconj_le</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P0</span> <span class="id">Q0</span> <span class="id">P1</span> <span class="id">Q1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LEQ</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>.(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>))<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">LE</span>: (<span class="id"><a href="compcert.compcertm.SeparationC.html#P0">P0</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q0">Q0</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) &lt;2= (<span class="id"><a href="compcert.compcertm.SeparationC.html#P1">P1</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q1">Q1</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>)&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7403')">Proof.</div>
<div class="proofscript" id="proof7403">
 <span class="id">ii</span>; <span class="id">ss</span>. <span class="id">des</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sep_assoc_footprint">sep_assoc_footprint</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">Q</span> <span class="id">R</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span>) ** <span class="id"><a href="compcert.compcertm.SeparationC.html#R">R</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#Q">Q</a></span> ** <span class="id"><a href="compcert.compcertm.SeparationC.html#R">R</a></span>).(<span class="id"><a href="compcert.common.Separation.html#m_footprint">m_footprint</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7404')">Proof.</div>
<div class="proofscript" id="proof7404">
&nbsp;&nbsp;<span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#func_ext2">func_ext2</a></span>. <span class="id">ii</span>; <span class="id">ss</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html#prop_ext">prop_ext</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">ii</span>; <span class="id">ss</span>; <span class="id">des</span>; <span class="id">et</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unfree_freed_range">unfree_freed_range</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sp</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">lo</span> <span class="id">mid</span> <span class="id">hi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#freed_range">freed_range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sp">sp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#mid">mid</a></span> ** <span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sp">sp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#mid">mid</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNFREE</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sp">sp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#mid">mid</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">SEP</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m1">m1</a></span> |= <span class="id"><a href="compcert.common.Separation.html#range">range</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#sp">sp</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#hi">hi</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7405')">Proof.</div>
<div class="proofscript" id="proof7405">
&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="id">et</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree_unchanged_on">Mem_unfree_unchanged_on</a></span>; <span class="id">et</span>. <span class="tactic">intro</span> <span class="id">UNCH</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">i</span> &lt; <span class="id">mid</span>)).<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree_perm">Mem_unfree_perm</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_unchanged_on">Mem.perm_unchanged_on</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">u</span>. <span class="id">ii</span>. <span class="id">des</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">SEP3</span>; <span class="id">et</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="compcert.common.Separation.html#sepconj">sepconj</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="assign_junk_blocks_rule">assign_junk_blocks_rule</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">P</span> <span class="id">m_src0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PRED</span>: <span class="id"><a href="compcert.compcertm.SeparationC.html#m_src0">m_src0</a></span> |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">n</span><br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.SeparationC.html#n">n</a></span>) |= <span class="id"><a href="compcert.compcertm.SeparationC.html#P">P</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7406')">Proof.</div>
<div class="proofscript" id="proof7406">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">P</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">m_invar</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">assign_junk_blocks_unchanged_on</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">ss</span>.<br/>
Qed.</div>
<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
