
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Cexec</title>
<meta name="description" content="Documentation of Coq module Cexec" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Cexec</h1>
<div class="coq">
<br/>
<div class="doc">Animating the CompCert C semantics </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.funind.FunInd.html">FunInd</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Axioms.html">Axioms</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical.html">Classical</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Decidableplus.html">Decidableplus</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Determinism.html">Determinism</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html">Csem</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.cfrontend.Cstrategy.html">Cstrategy</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string_scope</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_scope</span>.<br/>
<br/>
<div class="doc">Error monad with options or lists </div>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">X</span> =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">option_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> , <span class="id">Y</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">X</span>, <span class="id">Y</span>) =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">Y</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">option_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> , <span class="id">Y</span> , <span class="id">Z</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">X</span>, <span class="id">Y</span>, <span class="id">Z</span>) =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">Y</span> <span class="id">ident</span>, <span class="id">Z</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">option_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> " '<span class="id">check</span>' <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">if</span> <span class="id">A</span> <span class="kwd">then</span> <span class="id">B</span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">option_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">X</span> =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">list_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> " '<span class="id">check</span>' <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">if</span> <span class="id">A</span> <span class="kwd">then</span> <span class="id">B</span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">list_monad_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_val">is_val</a></span> (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v</span>, <span class="id">ty</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_val_inv">is_val_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span> <span class="id">ty</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4468')">Proof.</div>
<div class="proofscript" id="proof4468">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ty</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_loc">is_loc</a></span> (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Values.html#block">block</a></span> * <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ofs</span>, <span class="id">ty</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_loc_inv">is_loc_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4469')">Proof.</div>
<div class="proofscript" id="proof4469">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ty</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">option_monad_scope</span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="is_val_list">is_val_list</a></span> (<span class="id">al</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Enil">Enil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id">a1</span> <span class="id">al</span> =&gt; <span class="tactic">do</span> <span class="id">vt1</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>; <span class="tactic">do</span> <span class="id">vtl</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span>; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#vt1">vt1</a></span>::<span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_skip">is_skip</a></span> (<span class="id">s</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#statement">statement</a></span>) : {<span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> = <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>} + {<span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> &lt;&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4470')">Proof.</div>
<div class="proofscript" id="proof4470">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; (<span class="id">left</span>; <span class="tactic">congruence</span>) || (<span class="id">right</span>; <span class="tactic">congruence</span>).<br/>
Defined.</div>
<br/>
<h1> Events, volatile memory accesses, and external functions. </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EXEC">EXEC</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EXEC.ge">ge</a></span>: <span class="id"><a href="compcert.cfrontend.Csem.html#genv">genv</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eventval_of_val">eventval_of_val</a></span> (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">t</span>: <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Events.html#eventval">eventval</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">AST.Tint</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Events.html#EVint">EVint</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tfloat">AST.Tfloat</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Events.html#EVfloat">EVfloat</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tsingle">AST.Tsingle</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Events.html#EVsingle">EVsingle</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">AST.Tlong</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Events.html#EVlong">EVlong</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">id</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">b</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tptr">AST.Tptr</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Events.html#EVptr_global">EVptr_global</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="list_eventval_of_val">list_eventval_of_val</a></span> (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">tl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Events.html#eventval">eventval</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id">v1</span>::<span class="id">vl</span>, <span class="id">t1</span>::<span class="id">tl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">ev1</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val">eventval_of_val</a></span> <span class="id">v1</span> <span class="id">t1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">evl</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val">list_eventval_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#ev1">ev1</a></span> :: <span class="id"><a href="compcert.cfrontend.Cexec.html#evl">evl</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="val_of_eventval">val_of_eventval</a></span> (<span class="id">ev</span>: <span class="id"><a href="compcert.common.Events.html#eventval">eventval</a></span>) (<span class="id">t</span>: <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Events.html#EVint">EVint</a></span> <span class="id">i</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">AST.Tint</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">i</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Events.html#EVfloat">EVfloat</a></span> <span class="id">f</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tfloat">AST.Tfloat</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Events.html#EVsingle">EVsingle</a></span> <span class="id">f</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tsingle">AST.Tsingle</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vsingle">Vsingle</a></span> <span class="id">f</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Events.html#EVlong">EVlong</a></span> <span class="id">n</span> =&gt; <span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">AST.Tlong</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Events.html#EVptr_global">EVptr_global</a></span> <span class="id">id</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.public_symbol">Genv.public_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">id</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.common.AST.html#typ_eq">typ_eq</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.common.AST.html#Tptr">AST.Tptr</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">id</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">mydestr</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> -&gt; <span class="id">_</span> ] =&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> "<span class="id">X</span>" <span class="kwd">in</span> <span class="tactic">intro</span> <span class="id">X</span>; <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> -&gt; <span class="id">_</span> ] =&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> "<span class="id">X</span>" <span class="kwd">in</span> <span class="tactic">intro</span> <span class="id">X</span>; <span class="id">inv</span> <span class="id">X</span><br/>
&nbsp;&nbsp;| [ |- <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> -&gt; <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">mydestr</span><br/>
&nbsp;&nbsp;| [ |- <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> -&gt; <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">mydestr</span><br/>
&nbsp;&nbsp;| [ |- <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> -&gt; <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">mydestr</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eventval_of_val_sound">eventval_of_val_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">t</span> <span class="id">ev</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val">eventval_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> -&gt; <span class="id"><a href="compcert.common.Events.html#eventval_match">eventval_match</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4471')">Proof.</div>
<div class="proofscript" id="proof4471">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ev</span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span>; <span class="id">mydestr</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eventval_of_val_complete">eventval_of_val_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ev</span> <span class="id">t</span> <span class="id">v</span>, <span class="id"><a href="compcert.common.Events.html#eventval_match">eventval_match</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val">eventval_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4472')">Proof.</div>
<div class="proofscript" id="proof4472">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="list_eventval_of_val_sound">list_eventval_of_val_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span> <span class="id">tl</span> <span class="id">evl</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val">list_eventval_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#evl">evl</a></span> -&gt; <span class="id"><a href="compcert.common.Events.html#eventval_list_match">eventval_list_match</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#evl">evl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4473')">Proof with</div>
<div class="proofscript" id="proof4473">
 <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vl</span>; <span class="tactic">destruct</span> <span class="id">tl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val">eventval_of_val</a></span> <span class="id">a</span> <span class="id">t</span>) <span class="kwd">as</span> [<span class="id">ev1</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val">list_eventval_of_val</a></span> <span class="id">vl</span> <span class="id">tl</span>) <span class="kwd">as</span> [<span class="id">evl</span>'|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val_sound">eventval_of_val_sound</a></span>; <span class="tactic">auto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="list_eventval_of_val_complete">list_eventval_of_val_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">evl</span> <span class="id">tl</span> <span class="id">vl</span>, <span class="id"><a href="compcert.common.Events.html#eventval_list_match">eventval_list_match</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#evl">evl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val">list_eventval_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#evl">evl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4474')">Proof.</div>
<div class="proofscript" id="proof4474">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val_complete">eventval_of_val_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">rewrite</span> <span class="id">IHeventval_list_match</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_of_eventval_sound">val_of_eventval_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ev</span> <span class="id">t</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#val_of_eventval">val_of_eventval</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.common.Events.html#eventval_match">eventval_match</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4475')">Proof.</div>
<div class="proofscript" id="proof4475">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>. <span class="tactic">destruct</span> <span class="id">ev</span>; <span class="tactic">simpl</span>; <span class="id">mydestr</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_of_eventval_complete">val_of_eventval_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ev</span> <span class="id">t</span> <span class="id">v</span>, <span class="id"><a href="compcert.common.Events.html#eventval_match">eventval_match</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#val_of_eventval">val_of_eventval</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4476')">Proof.</div>
<div class="proofscript" id="proof4476">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">auto</span>.  <br/>
Qed.</div>
<br/>
<div class="doc">Volatile memory accesses. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_volatile_load">do_volatile_load</a></span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">chunk</span>: <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">id</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.common.Determinism.html#nextworld_vload">nextworld_vload</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">res</span>, <span class="id">w</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">vres</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#val_of_eventval">val_of_eventval</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.common.AST.html#type_of_chunk">type_of_chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.common.Events.html#Event_vload">Event_vload</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id">res</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_volatile_store">do_volatile_store</a></span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">chunk</span>: <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.block_is_volatile">Genv.block_is_volatile</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">id</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">ev</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val">eventval_of_val</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>) (<span class="id"><a href="compcert.common.AST.html#type_of_chunk">type_of_chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">w</span>' &lt;- <span class="id"><a href="compcert.common.Determinism.html#nextworld_vstore">nextworld_vstore</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.common.Events.html#Event_vstore">Event_vstore</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ev">ev</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id">m</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_volatile_load_sound">do_volatile_load_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load">do_volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#volatile_load">volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4477')">Proof.</div>
<div class="proofscript" id="proof4477">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load">do_volatile_load</a></span>. <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [<span class="id">ev</span> <span class="id">w</span>'']. <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#val_of_eventval_sound">val_of_eventval_sound</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_volatile_load_complete">do_volatile_load_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#volatile_load">volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load">do_volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4478')">Proof.</div>
<div class="proofscript" id="proof4478">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load">do_volatile_load</a></span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#val_of_eventval_complete">val_of_eventval_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_volatile_store_sound">do_volatile_store_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store">do_volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#volatile_store">volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">m</span>' /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4479')">Proof.</div>
<div class="proofscript" id="proof4479">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>'. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store">do_volatile_store</a></span>. <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val_sound">eventval_of_val_sound</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_volatile_store_complete">do_volatile_store_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#volatile_store">volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store">do_volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4480')">Proof.</div>
<div class="proofscript" id="proof4480">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store">do_volatile_store</a></span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val_complete">eventval_of_val_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id">H9</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Accessing locations </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_deref_loc">do_deref_loc</a></span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">ty</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id">chunk</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_is_volatile">type_is_volatile</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id">chunk</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>); <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load">do_volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id">chunk</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_reference">By_reference</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_copy">By_copy</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="assign_copy_ok">assign_copy_ok</a></span> (<span class="id">ty</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) (<span class="id">b</span>': <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>': <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> | <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>') /\ (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> | <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>) /\<br/>
&nbsp;&nbsp;(<span class="id">b</span>' &lt;&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> \/ <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' = <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>').<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="check_assign_copy">check_assign_copy</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">ty</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) (<span class="id">b</span>': <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>': <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>),<br/>
&nbsp;&nbsp;{ <span class="id"><a href="compcert.cfrontend.Cexec.html#assign_copy_ok">assign_copy_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id">b</span>' <span class="id">ofs</span>' } + {~ <span class="id"><a href="compcert.cfrontend.Cexec.html#assign_copy_ok">assign_copy_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id">b</span>' <span class="id">ofs</span>' }.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4481')">Proof with</div>
<div class="proofscript" id="proof4481">
 <span class="tactic">try</span> (<span class="id">right</span>; <span class="tactic">intuition</span> <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#assign_copy_ok">assign_copy_ok</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> &gt; 0) <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy_pos">alignof_blockcopy_pos</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Zdivide_dec">Zdivide_dec</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>')); <span class="tactic">auto</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#Zdivide_dec">Zdivide_dec</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)); <span class="tactic">auto</span>...<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Y</span>: {<span class="id">b</span>' &lt;&gt; <span class="id">b</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' = <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>'} +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{~(<span class="id">b</span>' &lt;&gt; <span class="id">b</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' = <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>')}).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b</span>' <span class="id">b</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>') (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>' + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span> + <span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>')); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>; <span class="tactic">intuition</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Y</span>... <span class="id">left</span>; <span class="tactic">intuition</span> <span class="tactic">omega</span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_assign_loc">do_assign_loc</a></span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">ty</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>) (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_value">By_value</a></span> <span class="id">chunk</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_is_volatile">type_is_volatile</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id">chunk</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store">do_volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id">chunk</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#By_copy">By_copy</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id">ofs</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#check_assign_copy">check_assign_copy</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id">b</span>' <span class="id">ofs</span>' <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">bytes</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span>' (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>') (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#bytes">bytes</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_deref_loc_sound">do_deref_loc_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4482')">Proof.</div>
<div class="proofscript" id="proof4482">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">ty</span>) <span class="id">eqn</span>:?; <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load_sound">do_volatile_load_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intuition</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc_volatile">deref_loc_volatile</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc_value">deref_loc_value</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc_reference">deref_loc_reference</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc_copy">deref_loc_copy</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_deref_loc_complete">do_deref_loc_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4483')">Proof.</div>
<div class="proofscript" id="proof4483">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load_complete">do_volatile_load_complete</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_assign_loc_sound">do_assign_loc_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">m</span>' /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4484')">Proof.</div>
<div class="proofscript" id="proof4484">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#access_mode">access_mode</a></span> <span class="id">ty</span>) <span class="id">eqn</span>:?; <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store_sound">do_volatile_store_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intuition</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc_volatile">assign_loc_volatile</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc_value">assign_loc_value</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">mydestr</span>. <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">P</span> [<span class="id">Q</span> <span class="id">R</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc_copy">assign_loc_copy</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_assign_loc_complete">do_assign_loc_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4485')">Proof.</div>
<div class="proofscript" id="proof4485">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store_complete">do_volatile_store_complete</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#check_assign_copy">check_assign_copy</a></span> <span class="id">ty</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">b</span>' <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>; <span class="tactic">rewrite</span> <span class="id">H6</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">red</span>; <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">External calls </div>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EXEC.do_external_function">do_external_function</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> -&gt; <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span> -&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span> -&gt; <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>).<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EXEC.do_external_function_sound">do_external_function_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">sg</span> <span class="id">ge</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>' <span class="id">w</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function">do_external_function</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>, <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_functions_sem">external_functions_sem</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>' /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EXEC.do_external_function_complete">do_external_function_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">sg</span> <span class="id">ge</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>' <span class="id">w</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_functions_sem">external_functions_sem</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function">do_external_function</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>, <span class="id">m</span>').<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EXEC.do_inline_assembly">do_inline_assembly</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span> -&gt; <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span> -&gt; <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span> -&gt; <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>).<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EXEC.do_inline_assembly_sound">do_inline_assembly_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">txt</span> <span class="id">sg</span> <span class="id">ge</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>' <span class="id">w</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_inline_assembly">do_inline_assembly</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#txt">txt</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>, <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inline_assembly_sem">inline_assembly_sem</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#txt">txt</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>' /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EXEC.do_inline_assembly_complete">do_inline_assembly_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">txt</span> <span class="id">sg</span> <span class="id">ge</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>' <span class="id">w</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inline_assembly_sem">inline_assembly_sem</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#txt">txt</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_inline_assembly">do_inline_assembly</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#txt">txt</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sg">sg</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>, <span class="id">m</span>').<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_volatile_load">do_ef_volatile_load</a></span> (<span class="id">chunk</span>: <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="tactic">do</span> <span class="id">w</span>',<span class="id">t</span>,<span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load">do_volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span>; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>',<span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>,<span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>,<span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_volatile_store">do_ef_volatile_store</a></span> (<span class="id">chunk</span>: <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> :: <span class="id">v</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="tactic">do</span> <span class="id">w</span>',<span class="id">t</span>,<span class="id">m</span>' &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store">do_volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span>; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>',<span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>,<span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>,<span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_volatile_load_global">do_ef_volatile_load_global</a></span> (<span class="id">chunk</span>: <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span class="id">id</span>: <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span>; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_load">do_ef_volatile_load</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> :: <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_volatile_store_global">do_ef_volatile_store_global</a></span> (<span class="id">chunk</span>: <span class="id"><a href="compcert.common.AST.html#memory_chunk">memory_chunk</a></span>) (<span class="id">id</span>: <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#id">id</a></span>; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_store">do_ef_volatile_store</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#chunk">chunk</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> :: <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_alloc_size">do_alloc_size</a></span> (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#ptrofs">ptrofs</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vlong">Vlong</a></span> <span class="id">n</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_malloc">do_ef_malloc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">v</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">sz</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_size">do_alloc_size</a></span> <span class="id">v</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">m</span>', <span class="id">b</span>) := <span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (- <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>'' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span> <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> (- <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>) <span class="id">v</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>, <span class="id">m</span>'')<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_free">do_ef_free</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">lo</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">vsz</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.load">Mem.load</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">lo</span> - <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">sz</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_size">do_alloc_size</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vsz">vsz</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> 0 (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">lo</span> - <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">lo</span> + <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>, <span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="memcpy_args_ok">memcpy_args_ok</a></span><br/>
&nbsp;&nbsp;(<span class="id">sz</span> <span class="id">al</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">bdst</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">odst</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">bsrc</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">osrc</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = 1 \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = 2 \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = 4 \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = 8)<br/>
&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> &gt;= 0 /\ (<span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> | <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span>)<br/>
&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> &gt; 0 -&gt; (<span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> | <span class="id"><a href="compcert.cfrontend.Cexec.html#osrc">osrc</a></span>))<br/>
&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> &gt; 0 -&gt; (<span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> | <span class="id"><a href="compcert.cfrontend.Cexec.html#odst">odst</a></span>))<br/>
&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="compcert.cfrontend.Cexec.html#bsrc">bsrc</a></span> &lt;&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#bdst">bdst</a></span> \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#osrc">osrc</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#odst">odst</a></span> \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#osrc">osrc</a></span> + <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> &lt;= <span class="id"><a href="compcert.cfrontend.Cexec.html#odst">odst</a></span> \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#odst">odst</a></span> + <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> &lt;= <span class="id"><a href="compcert.cfrontend.Cexec.html#osrc">osrc</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_memcpy">do_ef_memcpy</a></span> (<span class="id">sz</span> <span class="id">al</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">bdst</span> <span class="id">odst</span> :: <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">bsrc</span> <span class="id">osrc</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.DecidableClass.html#decide">decide</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#memcpy_args_ok">memcpy_args_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id">bdst</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">odst</span>) <span class="id">bsrc</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">osrc</span>)) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">bytes</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.loadbytes">Mem.loadbytes</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">bsrc</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">osrc</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.storebytes">Mem.storebytes</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">bdst</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">odst</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#bytes">bytes</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>, <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_annot">do_ef_annot</a></span> (<span class="id">text</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">targs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">args</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val">list_eventval_of_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#targs">targs</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#Event_annot">Event_annot</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#text">text</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#args">args</a></span> :: <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_annot_val">do_ef_annot_val</a></span> (<span class="id">text</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">targ</span>: <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">varg</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">arg</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val">eventval_of_val</a></span> <span class="id">varg</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#targ">targ</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#Event_annot">Event_annot</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#text">text</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#arg">arg</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) :: <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id">varg</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_ef_debug">do_ef_debug</a></span> (<span class="id">kind</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">text</span>: <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>) (<span class="id">targs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span>, <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>, <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_external">do_external</a></span> (<span class="id">ef</span>: <span class="id"><a href="compcert.common.AST.html#external_function">external_function</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.common.Determinism.html#world">world</a></span> * <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> * <span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_external">EF_external</a></span> <span class="id">name</span> <span class="id">sg</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function">do_external_function</a></span> <span class="id">name</span> <span class="id">sg</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_builtin">EF_builtin</a></span> <span class="id">name</span> <span class="id">sg</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function">do_external_function</a></span> <span class="id">name</span> <span class="id">sg</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_runtime">EF_runtime</a></span> <span class="id">name</span> <span class="id">sg</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function">do_external_function</a></span> <span class="id">name</span> <span class="id">sg</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_vload">EF_vload</a></span> <span class="id">chunk</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_load">do_ef_volatile_load</a></span> <span class="id">chunk</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_vstore">EF_vstore</a></span> <span class="id">chunk</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_store">do_ef_volatile_store</a></span> <span class="id">chunk</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_malloc">EF_malloc</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_malloc">do_ef_malloc</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_free">EF_free</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_free">do_ef_free</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_memcpy">EF_memcpy</a></span> <span class="id">sz</span> <span class="id">al</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_memcpy">do_ef_memcpy</a></span> <span class="id">sz</span> <span class="id">al</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_annot">EF_annot</a></span> <span class="id">kind</span> <span class="id">text</span> <span class="id">targs</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_annot">do_ef_annot</a></span> <span class="id">text</span> <span class="id">targs</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_annot_val">EF_annot_val</a></span> <span class="id">kind</span> <span class="id">text</span> <span class="id">targ</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_annot_val">do_ef_annot_val</a></span> <span class="id">text</span> <span class="id">targ</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_inline_asm">EF_inline_asm</a></span> <span class="id">text</span> <span class="id">sg</span> <span class="id">clob</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_inline_assembly">do_inline_assembly</a></span> <span class="id">text</span> <span class="id">sg</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_debug">EF_debug</a></span> <span class="id">kind</span> <span class="id">text</span> <span class="id">targs</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_debug">do_ef_debug</a></span> <span class="id">kind</span> <span class="id">text</span> <span class="id">targs</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_ef_external_sound">do_ef_external_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ef</span> <span class="id">w</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_external">do_external</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>, <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>' /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4486')">Proof with</div>
<div class="proofscript" id="proof4486">
 <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SIZE</span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">sz</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_size">do_alloc_size</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> = <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sz">sz</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">until</span> <span class="id">sz</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>; <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">EQ</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">f_equal</span>; <span class="tactic">symmetry</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ef</span>; <span class="tactic">simpl</span>.<br/>
<span class="comment">(*&nbsp;EF_external&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function_sound">do_external_function_sound</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function_sound">do_external_function_sound</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_runtime&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function_sound">do_external_function_sound</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_vload&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_load">do_ef_volatile_load</a></span>. <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">v</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>...<br/>
&nbsp;&nbsp;<span class="id">mydestr</span>. <span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[<span class="id">w</span>'' <span class="id">t</span>''] <span class="id">v</span>]; <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load_sound">do_volatile_load_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intuition</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_vstore&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_store">do_ef_volatile_store</a></span>. <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">v</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>...<br/>
&nbsp;&nbsp;<span class="id">mydestr</span>. <span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[<span class="id">w</span>'' <span class="id">t</span>''] <span class="id">m</span>'']. <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store_sound">do_volatile_store_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intuition</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_malloc&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_malloc">do_ef_malloc</a></span>. <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id">m</span> (- <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.common.AST.html#Mptr">Mptr</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="kwd">as</span> [<span class="id">m1</span> <span class="id">b</span>] <span class="id">eqn</span>:?. <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">SIZE</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">subst</span> <span class="id">v</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;EF_free&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_free">do_ef_free</a></span>. <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">v</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>...<br/>
&nbsp;&nbsp;<span class="id">mydestr</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">SIZE</span> <span class="kwd">in</span> <span class="id">Heqo0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>. <span class="tactic">omega</span>. <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;EF_memcpy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_memcpy">do_ef_memcpy</a></span>. <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">v</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="id">mydestr</span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.DecidableClass.html#Decidable_sound">Decidable_sound</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">Heqb1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">tauto</span>. <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;EF_annot&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_annot">do_ef_annot</a></span>. <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val_sound">list_eventval_of_val_sound</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;EF_annot_val&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_annot_val">do_ef_annot_val</a></span>. <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="tactic">destruct</span> <span class="id">vargs</span>... <span class="id">mydestr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val_sound">eventval_of_val_sound</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;EF_inline_asm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_inline_assembly_sound">do_inline_assembly_sound</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_debug&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_debug">do_ef_debug</a></span>. <span class="id">mydestr</span>. <span class="tactic">split</span>; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_ef_external_complete">do_ef_external_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ef</span> <span class="id">w</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">w</span>' <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_external">do_external</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span>, <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4487')">Proof.</div>
<div class="proofscript" id="proof4487">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SIZE</span>: <span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_size">do_alloc_size</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#n">n</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_size">do_alloc_size</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int64_to_int64">Ptrofs.of_int64_to_int64</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.of_int_to_int">Ptrofs.of_int_to_int</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ef</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
<span class="comment">(*&nbsp;EF_external&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function_complete">do_external_function_complete</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function_complete">do_external_function_complete</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_runtime&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_external_function_complete">do_external_function_complete</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_vload&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_load">do_ef_volatile_load</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_load_complete">do_volatile_load_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_vstore&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_volatile_store">do_ef_volatile_store</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_volatile_store_complete">do_volatile_store_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_malloc&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_malloc">do_ef_malloc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">erewrite</span> <span class="id">SIZE</span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_free&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_free">do_ef_free</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="id">erewrite</span> <span class="id">SIZE</span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;EF_memcpy&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_memcpy">do_ef_memcpy</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.DecidableClass.html#Decidable_complete">Decidable_complete</a></span>. <span class="tactic">rewrite</span> <span class="id">H7</span>; <span class="tactic">rewrite</span> <span class="id">H8</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">tauto</span>.<br/>
<span class="comment">(*&nbsp;EF_annot&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_annot">do_ef_annot</a></span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#list_eventval_of_val_complete">list_eventval_of_val_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_annot_val&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_annot_val">do_ef_annot_val</a></span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#eventval_of_val_complete">eventval_of_val_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;EF_inline_asm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.do_inline_assembly_complete">do_inline_assembly_complete</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;EF_debug&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<h1> Reduction of expressions </h1>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="reduction">reduction</a></span>: <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Lred">Lred</a></span> (<span class="id">rule</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">l</span>': <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>': <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="Rred">Rred</a></span> (<span class="id">rule</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">r</span>': <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>': <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">t</span>: <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="Callred">Callred</a></span> (<span class="id">rule</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">vf</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">tyf</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">args</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">tyres</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>) (<span class="id">m</span>': <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="Stuckred">Stuckred</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EXEC.EXPRS">EXPRS</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EXEC.EXPRS.e">e</a></span>: <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EXEC.EXPRS.w">w</a></span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="sem_cast_arguments">sem_cast_arguments</a></span> (<span class="id">vtl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) (<span class="id">tl</span>: <span class="id"><a href="compcert.cfrontend.Ctypes.html#typelist">typelist</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| (<span class="id">v1</span>,<span class="id">t1</span>)::<span class="id">vtl</span>, <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tcons">Tcons</a></span> <span class="id">t1</span>' <span class="id">tl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">t1</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>; <span class="tactic">do</span> <span class="id">vl</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tl">tl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>::<span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">The result of stepping an expression is a list <span class="bracket"><span class="id">ll</span></span> of possible reducts.
  Each element of <span class="bracket"><span class="id">ll</span></span> is a pair of a context and the result of reducing
  inside this context (see type <span class="bracket"><span class="id">reduction</span></span> above).
  The list <span class="bracket"><span class="id">ll</span></span> is empty if the expression is fully reduced
   (it's <span class="bracket"><span class="kwd">Eval</span></span> for a r-value and <span class="bracket"><span class="id">Eloc</span></span> for a l-value).
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="reducts">reducts</a></span> (<span class="id">A</span>: <span class="kwd">Type</span>): <span class="kwd">Type</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> ((<span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span>) * <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="topred">topred</a></span> (<span class="id">r</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span>) : <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> :=<br/>
&nbsp;&nbsp;((<span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>), <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span>) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="stuck">stuck</a></span> : <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> :=<br/>
&nbsp;&nbsp;((<span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>), <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="incontext">incontext</a></span> {<span class="id">A</span> <span class="id">B</span>: <span class="kwd">Type</span>} (<span class="id">ctx</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) (<span class="id">ll</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span>) : <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">z</span> =&gt; ((<span class="kwd">fun</span> (<span class="id">x</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#ctx">ctx</a></span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>)), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span>)) <span class="id"><a href="compcert.cfrontend.Cexec.html#ll">ll</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="incontext2">incontext2</a></span> {<span class="id">A1</span> <span class="id">A2</span> <span class="id">B</span>: <span class="kwd">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ctx1</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A1">A1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) (<span class="id">ll1</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#A1">A1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ctx2</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A2">A2</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) (<span class="id">ll2</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#A2">A2</a></span>) : <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ctx1">ctx1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ll1">ll1</a></span> ++ <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ctx2">ctx2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ll2">ll2</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">X</span> =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">reducts_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> , <span class="id">Y</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">X</span>, <span class="id">Y</span>) =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">Y</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">reducts_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> "'<span class="tactic">do</span>' <span class="id">X</span> , <span class="id">Y</span> , <span class="id">Z</span> &lt;- <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">match</span> <span class="id">A</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">X</span>, <span class="id">Y</span>, <span class="id">Z</span>) =&gt; <span class="id">B</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">X</span> <span class="id">ident</span>, <span class="id">Y</span> <span class="id">ident</span>, <span class="id">Z</span> <span class="id">ident</span>, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">reducts_monad_scope</span>.<br/>
<br/>
<span class="kwd">Notation</span> " '<span class="id">check</span>' <span class="id">A</span> ; <span class="id">B</span>" := (<span class="kwd">if</span> <span class="id">A</span> <span class="kwd">then</span> <span class="id">B</span> <span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span>)<br/>
&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 200, <span class="id">A</span> <span class="tactic">at</span> <span class="id">level</span> 100, <span class="id">B</span> <span class="tactic">at</span> <span class="id">level</span> 200)<br/>
&nbsp;&nbsp;: <span class="id">reducts_monad_scope</span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">reducts_monad_scope</span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="step_expr">step_expr</a></span> (<span class="id">k</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#kind">kind</a></span>) (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>): <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evar">Evar</a></span> <span class="id">x</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span>!<span class="id">x</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ty</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty</span> <span class="id">ty</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> "<span class="id">red_var_local</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> "<span class="id">red_var_global</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> <span class="id">r</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id">ty</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> "<span class="id">red_deref</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id">r</span> <span class="id">f</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id">ty</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">ty</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id">id</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">co</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">id</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#co">co</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Errors.html#Error">Error</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">delta</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> "<span class="id">red_field_struct</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>)) <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span> <span class="id">id</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">co</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">id</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> "<span class="id">red_field_union</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">f</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> <span class="id">l</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">l</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ofs</span>, <span class="id">ty</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty</span> <span class="id">ty</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">w</span>',<span class="id">t</span>,<span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_rvalof</span>" (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id">l</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eaddrof">Eaddrof</a></span> <span class="id">l</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">l</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ofs</span>, <span class="id">ty</span>') =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_addrof</span>" (<span class="kwd">Eval</span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eaddrof">Eaddrof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id">l</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id">op</span> <span class="id">r1</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v1</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id">op</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_unop</span>" (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v1</span>, <span class="id">ty1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v2</span>, <span class="id">ty2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">op</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_binop</span>" (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r2</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> <span class="id">r1</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v1</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_cast</span>" (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v1</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_seqand_true</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id">r2</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_bool">type_bool</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_seqand_false</span>" (<span class="kwd">Eval</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>) <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v1</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_seqor_true</span>" (<span class="kwd">Eval</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>) <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_seqor_false</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id">r2</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_bool">type_bool</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">r3</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v1</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_condition</span>" (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="kwd">then</span> <span class="id">r2</span> <span class="kwd">else</span> <span class="id">r3</span>) <span class="id">ty</span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">r3</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Esizeof">Esizeof</a></span> <span class="id">ty</span>' <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_sizeof</span>" (<span class="kwd">Eval</span> (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>'))) <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ealignof">Ealignof</a></span> <span class="id">ty</span>' <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_alignof</span>" (<span class="kwd">Eval</span> (<span class="id"><a href="compcert.common.Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#alignof">alignof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>'))) <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> <span class="id">l1</span> <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">l1</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ofs</span>, <span class="id">ty1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v2</span>, <span class="id">ty2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty1</span> <span class="id">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">w</span>',<span class="id">t</span>,<span class="id">m</span>' &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_assign</span>" (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id">ty</span>) <span class="id">m</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id">l1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> <span class="id">l1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r2</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">op</span> <span class="id">l1</span> <span class="id">r2</span> <span class="id">tyres</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">l1</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ofs</span>, <span class="id">ty1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v2</span>, <span class="id">ty2</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty1</span> <span class="id">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">w</span>',<span class="id">t</span>,<span class="id">v1</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">r</span>' := <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v1">v1</a></span> <span class="id">ty1</span>) (<span class="kwd">Eval</span> <span class="id">v2</span> <span class="id">ty2</span>) <span class="id">tyres</span>) <span class="id">ty1</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_assignop</span>" <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">tyres</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id">l1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">op</span> <span class="id">l1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">tyres</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r2</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Epostincr">Epostincr</a></span> <span class="id">id</span> <span class="id">l</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">l</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">b</span>, <span class="id">ofs</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty1</span> <span class="id">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">w</span>',<span class="id">t</span>, <span class="id">v1</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">op</span> := <span class="kwd">match</span> <span class="id">id</span> <span class="kwd">with</span> <span class="id"><a href="compcert.cfrontend.Cop.html#Incr">Incr</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#Oadd">Oadd</a></span> | <span class="id"><a href="compcert.cfrontend.Cop.html#Decr">Decr</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cop.html#Osub">Osub</a></span> <span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">r</span>' :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#op">op</a></span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v1">v1</a></span> <span class="id">ty</span>) (<span class="kwd">Eval</span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.one">Int.one</a></span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span>) (<span class="id"><a href="compcert.cfrontend.Cop.html#incrdecr_type">incrdecr_type</a></span> <span class="id">ty</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v1">v1</a></span> <span class="id">ty</span>) <span class="id">ty</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_postincr</span>" <span class="id">r</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Epostincr">Epostincr</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id">l</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span>) <span class="id">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_comma</span>" <span class="id">r2</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id">r1</span> <span class="id">tycast</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">v1</span>, <span class="id">ty1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">tycast</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_paren</span>" (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">tycast</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id">r1</span> <span class="id">rargs</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">rargs</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">vf</span>, <span class="id">tyf</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">vtl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> <span class="id">tyf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Cop.html#fun_case_f">fun_case_f</a></span> <span class="id">tyargs</span> <span class="id">tyres</span> <span class="id">cconv</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">vargs</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id">vtl</span> <span class="id">tyargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Callred">Callred</a></span> "<span class="id">red_call</span>" <span class="id">vf</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id">tyargs</span> <span class="id">tyres</span> <span class="id">cconv</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">rargs</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> <span class="id">rargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id">rargs</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">rargs</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">vtl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">vargs</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id">vtl</span> <span class="id">tyargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_external">do_external</a></span> <span class="id">ef</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>',<span class="id">t</span>,<span class="id">v</span>,<span class="id">m</span>') =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> "<span class="id">red_builtin</span>" (<span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty</span>) <span class="id">m</span>' <span class="id">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> <span class="id">rargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="step_exprlist">step_exprlist</a></span> (<span class="id">rl</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>): <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rl">rl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Enil">Enil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id">r1</span> <span class="id">rs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">rs</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id">r1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> <span class="id">rs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Technical properties on safe expressions. </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="imm_safe_t">imm_safe_t</a></span>: <span class="id"><a href="compcert.cfrontend.Csem.html#kind">kind</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="imm_safe_t_val">imm_safe_t_val</a></span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> (<span class="kwd">Eval</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="imm_safe_t_loc">imm_safe_t_loc</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="imm_safe_t_lred">imm_safe_t_lred</a></span>: <span class="kwd">forall</span> <span class="id">to</span> <span class="id">C</span> <span class="id">l</span> <span class="id">m</span> <span class="id">l</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">l</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="imm_safe_t_rred">imm_safe_t_rred</a></span>: <span class="kwd">forall</span> <span class="id">to</span> <span class="id">C</span> <span class="id">r</span> <span class="id">m</span> <span class="id">t</span> <span class="id">r</span>' <span class="id">m</span>' <span class="id">w</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">r</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="imm_safe_t_callred">imm_safe_t_callred</a></span>: <span class="kwd">forall</span> <span class="id">to</span> <span class="id">C</span> <span class="id">r</span> <span class="id">m</span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">args</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#callred">callred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#fptr">fptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyf">tyf</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="imm_safe_t_imm_safe">imm_safe_t_imm_safe</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#imm_safe">imm_safe</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4488')">Proof.</div>
<div class="proofscript" id="proof4488">
&nbsp;&nbsp;<span class="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#imm_safe_lred">imm_safe_lred</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#imm_safe_rred">imm_safe_rred</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#imm_safe_callred">imm_safe_callred</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="exprlist_all_values">exprlist_all_values</a></span> (<span class="id">rl</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rl">rl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Enil">Enil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> (<span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty</span>) <span class="id">rl</span>' =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#exprlist_all_values">exprlist_all_values</a></span> <span class="id">rl</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="invert_expr_prop">invert_expr_prop</a></span> (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evar">Evar</a></span> <span class="id">x</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span>!<span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>, <span class="id">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span>!<span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> /\ <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> (<span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty1</span>) <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, <span class="id">exists</span> <span class="id">ofs</span>, <span class="id">v</span> = <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> (<span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty1</span>) <span class="id">f</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, <span class="id">exists</span> <span class="id">ofs</span>, <span class="id">v</span> = <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">ty1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tstruct">Tstruct</a></span> <span class="id">id</span> <span class="id">_</span> =&gt; <span class="id">exists</span> <span class="id">co</span> <span class="id">delta</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#co">co</a></span> /\ <span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#co">co</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#delta">delta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tunion">Tunion</a></span>  <span class="id">id</span> <span class="id">_</span> =&gt; <span class="id">exists</span> <span class="id">co</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#co">co</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span>') <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ty</span>' = <span class="id">ty</span> /\ <span class="id">exists</span> <span class="id">t</span>, <span class="id">exists</span> <span class="id">v</span>, <span class="id">exists</span> <span class="id">w</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id">op</span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id">op</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) (<span class="kwd">Eval</span> <span class="id">v2</span> <span class="id">ty2</span>) <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">op</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) <span class="id">r1</span> <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty1</span>) (<span class="kwd">Eval</span> <span class="id">v2</span> <span class="id">ty2</span>) <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id">exists</span> <span class="id">m</span>', <span class="id">exists</span> <span class="id">t</span>, <span class="id">exists</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ty</span> = <span class="id">ty1</span> /\ <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> /\ <span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">m</span>' /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">op</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty1</span>) (<span class="kwd">Eval</span> <span class="id">v2</span> <span class="id">ty2</span>) <span class="id">tyres</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>, <span class="id">exists</span> <span class="id">v1</span>, <span class="id">exists</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ty</span> = <span class="id">ty1</span> /\ <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v1">v1</a></span> /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Epostincr">Epostincr</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty1</span>) <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>, <span class="id">exists</span> <span class="id">v1</span>, <span class="id">exists</span> <span class="id">w</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ty</span> = <span class="id">ty1</span> /\ <span class="id"><a href="compcert.cfrontend.Csem.html#deref_loc">deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v1">v1</a></span> /\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> (<span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty1</span>) <span class="id">r2</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">r2</span> = <span class="id">ty</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> (<span class="kwd">Eval</span> <span class="id">v1</span> <span class="id">ty1</span>) <span class="id">tycast</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">tycast</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> (<span class="kwd">Eval</span> <span class="id">vf</span> <span class="id">tyf</span>) <span class="id">rargs</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#exprlist_all_values">exprlist_all_values</a></span> <span class="id">rargs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tyargs</span> <span class="id">tyres</span> <span class="id">cconv</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> <span class="id">tyf</span> = <span class="id"><a href="compcert.cfrontend.Cop.html#fun_case_f">fun_case_f</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyres">tyres</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#cconv">cconv</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Coqlib.html#DUMMY_PROP">DUMMY_PROP</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.cfrontend.Csem.html#cast_arguments">cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">rargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.lib.Coqlib.html#DUMMY_PROP">DUMMY_PROP</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id">rargs</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#exprlist_all_values">exprlist_all_values</a></span> <span class="id">rargs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>' <span class="id">w</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#cast_arguments">cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">rargs</span> <span class="id">tyargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id">ef</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vres">vres</a></span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lred_invert">lred_invert</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">m</span> <span class="id">l</span>' <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">l</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4489')">Proof.</div>
<div class="proofscript" id="proof4489">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="id">exists</span> <span class="id">ofs</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="id">exists</span> <span class="id">ofs</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id">co</span>, <span class="id">delta</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="id">exists</span> <span class="id">ofs</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id">co</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rred_invert">rred_invert</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span>' <span class="id">r</span> <span class="id">m</span> <span class="id">t</span> <span class="id">r</span>' <span class="id">m</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">r</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4490')">Proof.</div>
<div class="proofscript" id="proof4490">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">exists</span> <span class="id">t</span>; <span class="id">exists</span> <span class="id">v</span>; <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="id">exists</span> <span class="id">m</span>'; <span class="id">exists</span> <span class="id">t</span>; <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>; <span class="id">exists</span> <span class="id">v1</span>; <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>; <span class="id">exists</span> <span class="id">v1</span>; <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">exists</span> <span class="id">vargs</span>; <span class="id">exists</span> <span class="id">t</span>; <span class="id">exists</span> <span class="id">vres</span>; <span class="id">exists</span> <span class="id">m</span>'; <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="callred_invert">callred_invert</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">args</span> <span class="id">ty</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#callred">callred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#fptr">fptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyf">tyf</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r">r</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4491')">Proof.</div>
<div class="proofscript" id="proof4491">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">tyargs</span>, <span class="id">tyres</span>, <span class="id">cconv</span>, <span class="id">args</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Scheme</span> <span class="id"><a name="context_ind2">context_ind2</a></span> := <span class="id">Minimality</span> <span class="kwd">for</span> <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="kwd">Sort</span> <span class="kwd">Prop</span><br/>
&nbsp;&nbsp;<span class="kwd">with</span> <span class="id"><a name="contextlist_ind2">contextlist_ind2</a></span> := <span class="id">Minimality</span> <span class="kwd">for</span> <span class="id"><a href="compcert.cfrontend.Csem.html#contextlist">contextlist</a></span> <span class="kwd">Sort</span> <span class="kwd">Prop</span>.<br/>
<span class="id">Combined</span> <span class="kwd">Scheme</span> <span class="id"><a name="context_contextlist_ind">context_contextlist_ind</a></span> <span class="id">from</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#context_ind2">context_ind2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#contextlist_ind2">contextlist_ind2</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="invert_expr_context">invert_expr_context</a></span>:<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">from</span> <span class="id">to</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
/\(<span class="kwd">forall</span> <span class="id">from</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#contextlist">contextlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;~<span class="id"><a href="compcert.cfrontend.Cexec.html#exprlist_all_values">exprlist_all_values</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4492')">Proof.</div>
<div class="proofscript" id="proof4492">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#context_contextlist_ind">context_contextlist_ind</a></span>; <span class="tactic">intros</span>; <span class="tactic">try</span> (<span class="id">exploit</span> <span class="id">H0</span>; [<span class="tactic">eauto</span>|<span class="tactic">intros</span>]); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e1</span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e1</span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e1</span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e1</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span>. <span class="tactic">elim</span> (<span class="id">H0</span> <span class="id">a</span> <span class="id">m</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">elim</span> (<span class="id">H0</span> <span class="id">a</span> <span class="id">m</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">a</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">e1</span>; <span class="tactic">auto</span>. <span class="tactic">elim</span> (<span class="id">H0</span> <span class="id">a</span> <span class="id">m</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="imm_safe_t_inv">imm_safe_t_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="kwd">Eval</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4493')">Proof.</div>
<div class="proofscript" id="proof4493">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_context">invert_expr_context</a></span> <span class="kwd">as</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> (<span class="id">C</span> <span class="id">l</span>) <span class="id">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">A</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lred_invert">lred_invert</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">l</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> (<span class="id">C</span> <span class="id">r</span>) <span class="id">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">A</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rred_invert">rred_invert</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">r</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> (<span class="id">C</span> <span class="id">r</span>) <span class="id">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">A</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#callred_invert">callred_invert</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">C</span> <span class="id">r</span>); <span class="tactic">auto</span>; <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Soundness: if <span class="bracket"><span class="id">step_expr</span></span> returns <span class="bracket"><span class="id">Some</span> <span class="id">ll</span></span>, then every element
  of <span class="bracket"><span class="id">ll</span></span> is a reduct. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="context_compose">context_compose</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k2</span> <span class="id">k3</span> <span class="id">C2</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k3">k3</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k1</span> <span class="id">C1</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k3">k3</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>))<br/>
<span class="kwd">with</span> <span class="id"><a name="contextlist_compose">contextlist_compose</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k2</span> <span class="id">C2</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#contextlist">contextlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k1</span> <span class="id">C1</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#contextlist">contextlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4494')">Proof.</div>
<div class="proofscript" id="proof4494">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="tactic">try</span> (<span class="id">constructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>) <span class="kwd">with</span> <span class="id">C1</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="tactic">extensionality</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#contextlist">contextlist</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">context_compose</span> <span class="id">contextlist_compose</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="reduction_ok">reduction_ok</a></span> (<span class="id">k</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#kind">kind</a></span>) (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">rd</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> <span class="id">_</span> <span class="id">l</span>' <span class="id">m</span>' =&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">l</span>' <span class="id">m</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> <span class="id">_</span> <span class="id">r</span>' <span class="id">m</span>' <span class="id">t</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">t</span> <span class="id">r</span>' <span class="id">m</span>' /\ <span class="id">exists</span> <span class="id">w</span>', <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">t</span> <span class="id">w</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Callred">Callred</a></span> <span class="id">_</span> <span class="id">vf</span> <span class="id">tyf</span> <span class="id">args</span> <span class="id">tyres</span> <span class="id">m</span>' =&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#callred">callred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">vf</span> <span class="id">tyf</span> <span class="id">args</span> <span class="id">tyres</span> /\ <span class="id">m</span>' = <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span> =&gt; ~<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span> =&gt; ~<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="reducts_ok">reducts_ok</a></span> (<span class="id">k</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#kind">kind</a></span>) (<span class="id">a</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">ll</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">C</span> <span class="id">rd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#ll">ll</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>', <span class="id">exists</span> <span class="id">k</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id">k</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id">a</span>' /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction_ok">reduction_ok</a></span> <span class="id">k</span>' <span class="id">a</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>)<br/>
&nbsp;&nbsp;/\ (<span class="id"><a href="compcert.cfrontend.Cexec.html#ll">ll</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="list_reducts_ok">list_reducts_ok</a></span> (<span class="id">al</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">ll</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">C</span> <span class="id">rd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#ll">ll</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>', <span class="id">exists</span> <span class="id">k</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#contextlist">contextlist</a></span> <span class="id">k</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id">a</span>' /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction_ok">reduction_ok</a></span> <span class="id">k</span>' <span class="id">a</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>)<br/>
&nbsp;&nbsp;/\ (<span class="id"><a href="compcert.cfrontend.Cexec.html#ll">ll</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">monadInv</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">y</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; [<span class="id">monadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">y</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="id">monadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_arguments_sound">sem_cast_arguments_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">rargs</span> <span class="id">vtl</span> <span class="id">tyargs</span> <span class="id">vargs</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rargs">rargs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#cast_arguments">cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rargs">rargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vargs">vargs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4495')">Proof.</div>
<div class="proofscript" id="proof4495">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">rargs</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">tyargs</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [<span class="id">v1</span> <span class="id">t1</span>]. <span class="tactic">destruct</span> <span class="id">tyargs</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">monadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>). <span class="id">constructor</span>. <span class="tactic">auto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_arguments_complete">sem_cast_arguments_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">al</span> <span class="id">tyl</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#cast_arguments">cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyl">tyl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vtl</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyl">tyl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4496')">Proof.</div>
<div class="proofscript" id="proof4496">
&nbsp;&nbsp;<span class="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="compcert.common.Values.html#val">val</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHcast_arguments</span> <span class="kwd">as</span> [<span class="id">vtl</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> ((<span class="id">v</span>, <span class="id">ty</span>) :: <span class="id">vtl</span>); <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="topred_ok">topred_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span> <span class="id">rd</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reduction_ok">reduction_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4497')">Proof.</div>
<div class="proofscript" id="proof4497">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span>; <span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="id">contradiction</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">exists</span> <span class="id">a</span>; <span class="id">exists</span> <span class="id">k</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="stuck_ok">stuck_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;~<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4498')">Proof.</div>
<div class="proofscript" id="proof4498">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span>; <span class="tactic">split</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="id">contradiction</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">exists</span> <span class="id">a</span>; <span class="id">exists</span> <span class="id">k</span>; <span class="tactic">intuition</span>. <span class="tactic">red</span>. <span class="tactic">destruct</span> <span class="id">k</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="wrong_kind_ok">wrong_kind_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> &lt;&gt; <span class="id"><a href="compcert.cfrontend.Cstrategy.html#expr_kind">Cstrategy.expr_kind</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4499')">Proof.</div>
<div class="proofscript" id="proof4499">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck_ok">stuck_ok</a></span>. <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cstrategy.html#imm_safe_kind">Cstrategy.imm_safe_kind</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_imm_safe">imm_safe_t_imm_safe</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="not_invert_ok">not_invert_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eloc">Eloc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="kwd">Eval</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#invert_expr_prop">invert_expr_prop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck">stuck</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4500')">Proof.</div>
<div class="proofscript" id="proof4500">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#stuck_ok">stuck_ok</a></span>. <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_inv">imm_safe_t_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="incontext_ok">incontext_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span> <span class="id">C</span> <span class="id">res</span> <span class="id">k</span>' <span class="id">a</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id">k</span>' <span class="id">a</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id">a</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id">k</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">k</span>' <span class="kwd">with</span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">a</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4501')">Proof.</div>
<div class="proofscript" id="proof4501">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C1</span> <span class="id">rd1</span>] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#context_compose">context_compose</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">k</span>'; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="incontext2_ok">incontext2_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span> <span class="id">k1</span> <span class="id">a1</span> <span class="id">res1</span> <span class="id">k2</span> <span class="id">a2</span> <span class="id">res2</span> <span class="id">C1</span> <span class="id">C2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k1">k1</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;\/ <span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k2">k2</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4502')">Proof.</div>
<div class="proofscript" id="proof4502">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_or">in_app_or</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H8</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span>' <span class="id">rd</span>'] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#context_compose">context_compose</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span>' <span class="id">rd</span>'] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#context_compose">context_compose</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">res2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span>. <span class="tactic">destruct</span> <span class="id">k1</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">k2</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="incontext_list_ok">incontext_list_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id">al</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#list_reducts_ok">list_reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ef">ef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4503')">Proof.</div>
<div class="proofscript" id="proof4503">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C1</span> <span class="id">rd1</span>] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">elim</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="incontext2_list_ok">incontext2_list_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">res1</span> <span class="id">res2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#list_reducts_ok">list_reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4504')">Proof.</div>
<div class="proofscript" id="proof4504">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_or">in_app_or</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H4</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span>' <span class="id">rd</span>'] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span>' <span class="id">rd</span>'] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">res2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">incontext2_list_ok</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">m</span> <span class="id">res1</span> <span class="id">res2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#list_reducts_ok">list_reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#list_reducts_ok">list_reducts_ok</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a2">a2</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4505')">Proof.</div>
<div class="proofscript" id="proof4505">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#list_reducts_ok">list_reducts_ok</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_or">in_app_or</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span>' <span class="id">rd</span>'] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span>' <span class="id">rd</span>'] [<span class="id">P</span> <span class="id">Q</span>]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>'' [<span class="id">k</span>'' [<span class="id">U</span> [<span class="id">V</span> <span class="id">W</span>]]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">a</span>''; <span class="id">exists</span> <span class="id">k</span>''. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">V</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">res2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>). <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">a2</span>). <span class="tactic">congruence</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_val_list_all_values">is_val_list_all_values</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">vtl</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#exprlist_all_values">exprlist_all_values</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4506')">Proof.</div>
<div class="proofscript" id="proof4506">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>]|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">al</span>) <span class="kwd">as</span> [<span class="id">vtl</span>'|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>). <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">myinv</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id">_</span> /\ <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">H</span>; <span class="id">myinv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id">exists</span> <span class="id">_</span>, <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">H</span>; <span class="id">myinv</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="step_expr_sound">step_expr_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">k</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
<span class="kwd">with</span> <span class="id"><a name="step_exprlist_sound">step_exprlist_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#list_reducts_ok">list_reducts_ok</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4507')">Proof with</div>
<div class="proofscript" id="proof4507">
 (<span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intro</span>; <span class="id">myinv</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>; <span class="tactic">fail</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>; <span class="tactic">destruct</span> <span class="id">k</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#wrong_kind_ok">wrong_kind_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">congruence</span>).<br/>
<span class="comment">(*&nbsp;Eval&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>. <span class="tactic">tauto</span>. <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
<span class="comment">(*&nbsp;Evar&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span>!<span class="id">x</span>) <span class="kwd">as</span> [[<span class="id">b</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty</span> <span class="id">ty</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_var_local">red_var_local</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">b</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_var_global">red_var_global</a></span>; <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;Efield&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ty</span>'...<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">i0</span>) <span class="kwd">as</span> [<span class="id">co</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#co_members">co_members</a></span> <span class="id">co</span>)) <span class="kwd">as</span> [<span class="id">delta</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_field_struct">red_field_struct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span>.(<span class="id"><a href="compcert.cfrontend.Csem.html#genv_cenv">genv_cenv</a></span>)!<span class="id">i0</span>) <span class="kwd">as</span> [<span class="id">co</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_field_union">red_field_union</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;in&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;Evalof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc_inv">is_loc_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty</span> <span class="id">ty</span>')... <span class="tactic">subst</span> <span class="id">ty</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="kwd">as</span> [[[<span class="id">w</span>' <span class="id">t</span>] <span class="id">v</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_sound">do_deref_loc_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">red</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_rvalof">red_rvalof</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_complete">do_deref_loc_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;Ederef&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>... <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_deref">red_deref</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;Eaddrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc_inv">is_loc_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_addrof">red_addrof</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id">op</span> <span class="id">v</span> <span class="id">ty</span>' <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>'|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_unop">red_unop</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[<span class="id">v1</span> <span class="id">ty1</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a2</span>) <span class="kwd">as</span> [[<span class="id">v2</span> <span class="id">ty2</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>). <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo0</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">op</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_binop">red_binop</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_ok">incontext2_ok</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_ok">incontext2_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v</span> <span class="id">ty</span>' <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>'|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_cast">red_cast</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;seqand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span>' <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>'|] <span class="id">eqn</span>:?... <span class="tactic">destruct</span> <span class="id">v</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_seqand_true">red_seqand_true</a></span>; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_seqand_false">red_seqand_false</a></span>; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;seqor&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span>' <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>'|] <span class="id">eqn</span>:?... <span class="tactic">destruct</span> <span class="id">v</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_seqor_true">red_seqor_true</a></span>; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_seqor_false">red_seqor_false</a></span>; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span>' <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>'|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_condition">red_condition</a></span>; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_sizeof">red_sizeof</a></span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_alignof">red_alignof</a></span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
<span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty1</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a2</span>) <span class="kwd">as</span> [[<span class="id">v2</span> <span class="id">ty2</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc_inv">is_loc_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>). <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo0</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty1</span> <span class="id">ty</span>)... <span class="tactic">subst</span> <span class="id">ty1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span>) <span class="kwd">as</span> [[[<span class="id">w</span>' <span class="id">t</span>] <span class="id">m</span>']|] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc_sound">do_assign_loc_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">P</span> <span class="id">Q</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_assign">red_assign</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc_complete">do_assign_loc_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_ok">incontext2_ok</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_ok">incontext2_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assignop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty1</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a2</span>) <span class="kwd">as</span> [[<span class="id">v2</span> <span class="id">ty2</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc_inv">is_loc_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>). <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo0</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty1</span> <span class="id">ty</span>)... <span class="tactic">subst</span> <span class="id">ty1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="kwd">as</span> [[[<span class="id">w</span>' <span class="id">t</span>] <span class="id">v</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_sound">do_deref_loc_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">red</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_assignop">red_assignop</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_complete">do_deref_loc_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_ok">incontext2_ok</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_ok">incontext2_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;postincr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc_inv">is_loc_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty</span>' <span class="id">ty</span>)... <span class="tactic">subst</span> <span class="id">ty</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc">do_deref_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="kwd">as</span> [[[<span class="id">w</span>' <span class="id">t</span>] <span class="id">v</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_sound">do_deref_loc_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">red</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_postincr">red_postincr</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_complete">do_deref_loc_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;comma&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a1</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#typeof">typeof</a></span> <span class="id">a2</span>) <span class="id">ty</span>)... <span class="tactic">subst</span> <span class="id">ty</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_comma">red_comma</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[<span class="id">vf</span> <span class="id">tyf</span>] | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">rargs</span>) <span class="kwd">as</span> [<span class="id">vtl</span> | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>). <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list_all_values">is_val_list_all_values</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">ALLVAL</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun">classify_fun</a></span> <span class="id">tyf</span>) <span class="kwd">as</span> [<span class="id">tyargs</span> <span class="id">tyres</span> <span class="id">cconv</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id">vtl</span> <span class="id">tyargs</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">vargs</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">red</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_call">red_call</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_sound">sem_cast_arguments_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">ALLVAL</span>). <span class="id">myinv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_complete">sem_cast_arguments_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vtl</span>' [<span class="id">P</span> <span class="id">Q</span>]]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">ALLVAL</span>). <span class="id">myinv</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_list_ok">incontext2_list_ok</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2_list_ok">incontext2_list_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">rargs</span>) <span class="kwd">as</span> [<span class="id">vtl</span> | ] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list_all_values">is_val_list_all_values</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">ALLVAL</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments">sem_cast_arguments</a></span> <span class="id">vtl</span> <span class="id">tyargs</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">vargs</span>|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_external">do_external</a></span> <span class="id">ef</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">vargs</span> <span class="id">m</span>) <span class="kwd">as</span> [[[[? ?] <span class="id">v</span>] <span class="id">m</span>'] | ] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_external_sound">do_ef_external_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EC</span> <span class="id">PT</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">red</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_builtin">red_builtin</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_sound">sem_cast_arguments_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">w0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">ALLVAL</span>). <span class="id">myinv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">x</span> = <span class="id">vargs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_complete">sem_cast_arguments_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vtl</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_external_complete">do_ef_external_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_invert_ok">not_invert_ok</a></span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">myinv</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">ALLVAL</span>). <span class="id">myinv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_complete">sem_cast_arguments_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vtl</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_list_ok">incontext_list_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;loc&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>. <span class="tactic">tauto</span>. <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
<span class="comment">(*&nbsp;paren&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>'] | ] <span class="id">eqn</span>:?. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v</span> <span class="id">ty</span>' <span class="id">tycast</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">v</span>'|] <span class="id">eqn</span>:?...<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred_ok">topred_ok</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#red_paren">red_paren</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;depth&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext_ok">incontext_ok</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
<span class="comment">(*&nbsp;nil&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>. <span class="tactic">tauto</span>. <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
<span class="comment">(*&nbsp;cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">incontext2_list_ok</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="step_exprlist_val_list">step_exprlist_val_list</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">al</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#al">al</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4508')">Proof.</div>
<div class="proofscript" id="proof4508">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r1</span>) <span class="kwd">as</span> [[<span class="id">v1</span> <span class="id">ty1</span>]|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id">al</span>) <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">IHal</span>. <span class="tactic">auto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Completeness part 1: <span class="bracket"><span class="id">step_expr</span></span> contains all possible non-error reducts. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lred_topred">lred_topred</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">m1</span> <span class="id">l2</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#lred">lred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l1">l1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l2">l2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rule</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l1">l1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rule">rule</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l2">l2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4509')">Proof.</div>
<div class="proofscript" id="proof4509">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
<span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;var&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rred_topred">rred_topred</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span>' <span class="id">r1</span> <span class="id">m1</span> <span class="id">t</span> <span class="id">r2</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span> -&gt; <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rule</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r1">r1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rule">rule</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#r2">r2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4510')">Proof.</div>
<div class="proofscript" id="proof4510">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
<span class="comment">(*&nbsp;valof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_complete">do_deref_loc_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">H0</span>). <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;seqand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;seqor&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc_complete">do_assign_loc_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span> <span class="id">H1</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assignop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_complete">do_deref_loc_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">H0</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;postincr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">subst</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_deref_loc_complete">do_deref_loc_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">H1</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;comma&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;paren&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_complete">sem_cast_arguments_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vtl</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_external_complete">do_ef_external_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="callred_topred">callred_topred</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">args</span> <span class="id">ty</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#callred">callred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#fptr">fptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyf">tyf</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rule</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#Callred">Callred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rule">rule</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#fptr">fptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#tyf">tyf</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#args">args</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4511')">Proof.</div>
<div class="proofscript" id="proof4511">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_cast_arguments_complete">sem_cast_arguments_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vtl</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="reducts_incl">reducts_incl</a></span> {<span class="id">A</span> <span class="id">B</span>: <span class="kwd">Type</span>} (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) (<span class="id">res1</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span>) (<span class="id">res2</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts">reducts</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">C1</span> <span class="id">rd</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> ((<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>)), <span class="id"><a href="compcert.cfrontend.Cexec.html#rd">rd</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_trans">reducts_incl_trans</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A1</span> <span class="id">A2</span>: <span class="kwd">Type</span>) (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A1">A1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#A2">A2</a></span>) <span class="id">res1</span> <span class="id">res2</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A3</span>: <span class="kwd">Type</span>) (<span class="id">C</span>': <span class="id"><a href="compcert.cfrontend.Cexec.html#A2">A2</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#A3">A3</a></span>) <span class="id">res3</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id">C</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res3">res3</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C</span>'(<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>)) <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res3">res3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4512')">Proof.</div>
<div class="proofscript" id="proof4512">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_nil">reducts_incl_nil</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span> <span class="id">B</span>: <span class="kwd">Type</span>) (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4513')">Proof.</div>
<div class="proofscript" id="proof4513">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>. <span class="tactic">intros</span>; <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_val">reducts_incl_val</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) <span class="id">a</span> <span class="id">m</span> <span class="id">v</span> <span class="id">ty</span> (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span>) <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#v">v</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4514')">Proof.</div>
<div class="proofscript" id="proof4514">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_nil">reducts_incl_nil</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_loc">reducts_incl_loc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) <span class="id">a</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ty</span> (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span>) <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#ofs">ofs</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#ty">ty</a></span>) -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#LV">LV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4515')">Proof.</div>
<div class="proofscript" id="proof4515">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc_inv">is_loc_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_nil">reducts_incl_nil</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_listval">reducts_incl_listval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) <span class="id">a</span> <span class="id">m</span> <span class="id">vtl</span> (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#exprlist">exprlist</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span>) <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#vtl">vtl</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4516')">Proof.</div>
<div class="proofscript" id="proof4516">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist_val_list">step_exprlist_val_list</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_nil">reducts_incl_nil</a></span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_incontext">reducts_incl_incontext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span> <span class="id">B</span>: <span class="kwd">Type</span>) (<span class="id">C</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A">A</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) <span class="id">res</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res">res</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4517')">Proof.</div>
<div class="proofscript" id="proof4517">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">z</span> : (<span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id">A</span>) * <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span> =&gt; (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> =&gt; <span class="id">C</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">f</span> (<span class="id">C1</span>, <span class="id">rd</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">f</span> <span class="id">res</span>)). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_incontext2_left">reducts_incl_incontext2_left</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A1</span> <span class="id">A2</span> <span class="id">B</span>: <span class="kwd">Type</span>) (<span class="id">C1</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A1">A1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) <span class="id">res1</span> (<span class="id">C2</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A2">A2</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) <span class="id">res2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4518')">Proof.</div>
<div class="proofscript" id="proof4518">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">z</span> : (<span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id">A1</span>) * <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span> =&gt; (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> =&gt; <span class="id">C1</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">f</span> (<span class="id">C0</span>, <span class="id">rd</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">f</span> <span class="id">res1</span>)). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reducts_incl_incontext2_right">reducts_incl_incontext2_right</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A1</span> <span class="id">A2</span> <span class="id">B</span>: <span class="kwd">Type</span>) (<span class="id">C1</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A1">A1</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) <span class="id">res1</span> (<span class="id">C2</span>: <span class="id"><a href="compcert.cfrontend.Cexec.html#A2">A2</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#B">B</a></span>) <span class="id">res2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C1">C1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res1">res1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C2">C2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#res2">res2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4519')">Proof.</div>
<div class="proofscript" id="proof4519">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext2">incontext2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#incontext">incontext</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">z</span> : (<span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id">A2</span>) * <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span> =&gt; (<span class="kwd">fun</span> <span class="id">x</span> : <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> =&gt; <span class="id">C2</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#z">z</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">f</span> (<span class="id">C0</span>, <span class="id">rd</span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id">f</span> <span class="id">res2</span>)). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">reducts_incl_val</span> <span class="id">reducts_incl_loc</span> <span class="id">reducts_incl_listval</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reducts_incl_incontext</span> <span class="id">reducts_incl_incontext2_left</span> <span class="id">reducts_incl_incontext2_right</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="step_expr_context">step_expr_context</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">from</span> <span class="id">to</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
<span class="kwd">with</span> <span class="id"><a name="step_exprlist_context">step_exprlist_context</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">from</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#contextlist">contextlist</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_exprlist">step_exprlist</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4520')">Proof.</div>
<div class="proofscript" id="proof4520">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
<span class="comment">(*&nbsp;top&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="comment">(*&nbsp;no&nbsp;eta&nbsp;in&nbsp;8.3&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>) <span class="kwd">with</span> <span class="id">C1</span> <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="tactic">extensionality</span>; <span class="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>).<br/>
<span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ederef">Ederef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;field&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Efield">Efield</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">f</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;valof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Evalof">Evalof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eaddrof">Eaddrof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eunop">Eunop</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;binop&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">e2</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;binop&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebinop">Ebinop</a></span> <span class="id">op</span> <span class="id">e1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">e1</span>) <span class="kwd">as</span> [[<span class="id">v1</span> <span class="id">ty1</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v2</span> <span class="id">ty2</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecast">Ecast</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;seqand&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqand">Eseqand</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;seqor&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eseqor">Eseqor</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;condition&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econdition">Econdition</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">r2</span> <span class="id">r3</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assign&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">e2</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assign&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassign">Eassign</a></span> <span class="id">e1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">e1</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty1</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v2</span> <span class="id">ty2</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assignop&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">op</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">e2</span> <span class="id">tyres</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;assignop&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eassignop">Eassignop</a></span> <span class="id">op</span> <span class="id">e1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">tyres</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> <span class="id">e1</span>) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty1</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v2</span> <span class="id">ty2</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;postincr&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Epostincr">Epostincr</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_loc">is_loc</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[[<span class="id">b</span> <span class="id">ofs</span>] <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;call&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">el</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;call&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecall">Ecall</a></span> <span class="id">e1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>). <span class="tactic">apply</span> <span class="id">step_exprlist_context</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">e1</span>) <span class="kwd">as</span> [[<span class="id">v1</span> <span class="id">ty1</span>]|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [<span class="id">vl</span>|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ebuiltin">Ebuiltin</a></span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">ty</span>). <span class="tactic">apply</span> <span class="id">step_exprlist_context</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_list">is_val_list</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [<span class="id">vl</span>|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;comma&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Ecomma">Ecomma</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">e2</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;paren&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Eparen">Eparen</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">tycast</span> <span class="id">ty</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id">C</span> <span class="id">a</span>)) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>']|] <span class="id">eqn</span>:?; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
<span class="comment">(*&nbsp;cons&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span> <span class="id">el</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">step_expr_context</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;binop&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl_trans">reducts_incl_trans</a></span> <span class="kwd">with</span> (<span class="id">C</span>' := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#Econs">Econs</a></span> <span class="id">e1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">step_exprlist_context</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Completeness part 2: if we can reduce to <span class="bracket"><span class="id">Stuckstate</span></span>, <span class="bracket"><span class="id">step_expr</span></span>
    contains at least one <span class="bracket"><span class="id">Stuckred</span></span> reduction. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="not_stuckred_imm_safe">not_stuckred_imm_safe</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">a</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">C</span>, ~<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)) -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4521')">Proof.</div>
<div class="proofscript" id="proof4521">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr_sound">step_expr_sound</a></span> <span class="id">a</span> <span class="id">k</span> <span class="id">m</span>). <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>) <span class="kwd">as</span> [|[<span class="id">C</span> <span class="id">rd</span>] <span class="id">res</span>] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">B</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id">_</span>)). <span class="tactic">destruct</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NOTSTUCK</span>: <span class="id">rd</span> &lt;&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> (<span class="id">H</span> <span class="id">C</span>); <span class="tactic">subst</span> <span class="id">rd</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">A</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. <span class="tactic">intros</span> [<span class="id">a</span>' [<span class="id">k</span>' [<span class="id">P</span> [<span class="id">Q</span> <span class="id">R</span>]]]].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>'; <span class="tactic">destruct</span> <span class="id">rd</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">R</span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_lred">imm_safe_t_lred</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">w</span>' <span class="id">PT</span>]. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_rred">imm_safe_t_rred</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_callred">imm_safe_t_callred</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="not_imm_safe_stuck_red">not_imm_safe_stuck_red</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">a</span> <span class="id">k</span> <span class="id">C</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;~<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">C</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">C</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4522')">Proof.</div>
<div class="proofscript" id="proof4522">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">C</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">C</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">exists</span> <span class="id">C</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">C</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>))); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_stuckred_imm_safe">not_stuckred_imm_safe</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Pred_Type.html#not_ex_all_not">not_ex_all_not</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">C</span>' <span class="id">IN</span>].<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr_context">step_expr_context</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">a</span> <span class="id">m</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; (<span class="id">C</span> (<span class="id">C</span>' <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>))). <span class="tactic">apply</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Connections between <span class="bracket"><span class="id">imm_safe_t</span></span> and <span class="bracket"><span class="id">imm_safe</span></span> </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="imm_safe_imm_safe_t">imm_safe_imm_safe_t</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">a</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#imm_safe">imm_safe</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> \/<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">C</span>, <span class="id">exists</span> <span class="id">a1</span>, <span class="id">exists</span> <span class="id">t</span>, <span class="id">exists</span> <span class="id">a1</span>', <span class="id">exists</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> /\ <span class="id"><a href="compcert.cfrontend.Csem.html#rred">rred</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a1">a1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">a1</span>' <span class="id">m</span>' /\ <span class="kwd">forall</span> <span class="id">w</span>', ~<span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4523')">Proof.</div>
<div class="proofscript" id="proof4523">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_val">imm_safe_t_val</a></span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_loc">imm_safe_t_loc</a></span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_lred">imm_safe_t_lred</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">exists</span> <span class="id">w</span>', <span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> <span class="id">t</span> <span class="id">w</span>')) <span class="kwd">as</span> [[<span class="id">w</span>' <span class="id">A</span>] | <span class="id">A</span>].<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_rred">imm_safe_t_rred</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="id">exists</span> <span class="id">C</span>; <span class="id">exists</span> <span class="id">e0</span>; <span class="id">exists</span> <span class="id">t</span>; <span class="id">exists</span> <span class="id">e</span>'; <span class="id">exists</span> <span class="id">m</span>'; <span class="tactic">intuition</span>. <span class="tactic">apply</span> <span class="id">A</span>; <span class="id">exists</span> <span class="id">w</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_callred">imm_safe_t_callred</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">A state can "crash the world" if it can make an observable transition
  whose trace is not accepted by the external world. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="can_crash_world">can_crash_world</a></span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">S</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">state</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>, <span class="id">exists</span> <span class="id">S</span>', <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">S</span>' /\ <span class="kwd">forall</span> <span class="id">w</span>', ~<span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>'.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="not_imm_safe_t">not_imm_safe_t</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">K</span> <span class="id">C</span> <span class="id">a</span> <span class="id">m</span> <span class="id">f</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#K">K</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt;<br/>
&nbsp;&nbsp;~<span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t">imm_safe_t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#K">K</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Stuckstate">Stuckstate</a></span> \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#can_crash_world">can_crash_world</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.w">w</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#f">f</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4524')">Proof.</div>
<div class="proofscript" id="proof4524">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#imm_safe">imm_safe</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS.e">e</a></span> <span class="id">K</span> <span class="id">a</span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_imm_safe_t">imm_safe_imm_safe_t</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span> | [<span class="id">C1</span> [<span class="id">a1</span> [<span class="id">t</span> [<span class="id">a1</span>' [<span class="id">m</span>' [<span class="id">A</span> [<span class="id">B</span> [<span class="id">D</span> <span class="id">E</span>]]]]]]]]]. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">red</span>. <span class="id">exists</span> <span class="id">t</span>; <span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_rred">step_rred</a></span> <span class="kwd">with</span> (<span class="id">C</span> := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C</span>(<span class="id">C1</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>)). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_stuck">step_stuck</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.EXPRS">EXPRS</a></span>.<br/>
<br/>
<h1> Transitions over states. </h1>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="do_alloc_variables">do_alloc_variables</a></span> (<span class="id">e</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">l</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) {<span class="kwd">struct</span> <span class="id">l</span>} : <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span> * <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; (<span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span>,<span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>)<br/>
&nbsp;&nbsp;| (<span class="id">id</span>, <span class="id">ty</span>) :: <span class="id">l</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">m1</span>,<span class="id">b1</span>) := <span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> 0 (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables">do_alloc_variables</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#b1">b1</a></span>, <span class="id">ty</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id">l</span>'<br/>
<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_alloc_variables_sound">do_alloc_variables_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">e</span> <span class="id">m</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables">do_alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span>)) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables">do_alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4525')">Proof.</div>
<div class="proofscript" id="proof4525">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id">m</span> 0 (<span class="id"><a href="compcert.cfrontend.Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">ty</span>)) <span class="kwd">as</span> [<span class="id">m1</span> <span class="id">b1</span>] <span class="id">eqn</span>:?; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="do_alloc_variables_complete">do_alloc_variables_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e1</span> <span class="id">m1</span> <span class="id">l</span> <span class="id">e2</span> <span class="id">m2</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e1">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e2">e2</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables">do_alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e1">e1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> = (<span class="id"><a href="compcert.cfrontend.Cexec.html#e2">e2</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4526')">Proof.</div>
<div class="proofscript" id="proof4526">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">IHalloc_variables</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="id">Function</span> <span class="id">sem_bind_parameters</span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">e</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span>) (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">l</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> * <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>)) (<span class="id">lv</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="kwd">struct</span> <span class="id">l</span>} : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#lv">lv</a></span>  <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span><br/>
&nbsp;&nbsp;| (<span class="id">id</span>, <span class="id">ty</span>) :: <span class="id">params</span>, <span class="id">v1</span>::<span class="id">lv</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id">id</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b</span>, <span class="id">ty</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> <span class="id">ty</span> <span class="id">ty</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">w</span>', <span class="id">t</span>, <span class="id">m1</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc">do_assign_loc</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id">b</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id">v1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters">sem_bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id">params</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lv">lv</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_bind_parameters_sound">sem_bind_parameters_sound</a></span> : <span class="kwd">forall</span> <span class="id">w</span> <span class="id">e</span> <span class="id">m</span> <span class="id">l</span> <span class="id">lv</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters">sem_bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lv">lv</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lv">lv</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4527')">Proof.</div>
<div class="proofscript" id="proof4527">
&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters">sem_bind_parameters</a></span> <span class="id">w</span> <span class="id">e</span> <span class="id">m</span> <span class="id">l</span> <span class="id">lv</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc_sound">do_assign_loc_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_bind_parameters_complete">sem_bind_parameters_complete</a></span> : <span class="kwd">forall</span> <span class="id">w</span> <span class="id">e</span> <span class="id">m</span> <span class="id">l</span> <span class="id">lv</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lv">lv</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters">sem_bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#l">l</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lv">lv</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4528')">Proof.</div>
<div class="proofscript" id="proof4528">
&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id">w</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">w</span>) <span class="tactic">by</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_assign_loc_complete">do_assign_loc_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="transition">transition</a></span> : <span class="kwd">Type</span> := <span class="id"><a name="TR">TR</a></span> (<span class="id">rule</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">t</span>: <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span>) (<span class="id">S</span>': <span class="id"><a href="compcert.cfrontend.Csem.html#state">state</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="expr_final_state">expr_final_state</a></span> (<span class="id">f</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#function">function</a></span>) (<span class="id">k</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#cont">cont</a></span>) (<span class="id">e</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#env">env</a></span>) (<span class="id">C_rd</span>: (<span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Csyntax.html#expr">expr</a></span>) * <span class="id"><a href="compcert.cfrontend.Cexec.html#reduction">reduction</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C_rd">C_rd</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> <span class="id">rule</span> <span class="id">a</span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id">rule</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C_rd">C_rd</a></span> <span class="id">a</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> <span class="id">rule</span> <span class="id">a</span> <span class="id">m</span> <span class="id">t</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id">rule</span> <span class="id">t</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#f">f</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C_rd">C_rd</a></span> <span class="id">a</span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Cexec.html#Callred">Callred</a></span> <span class="id">rule</span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">vargs</span> <span class="id">ty</span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id">rule</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Callstate</a></span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">vargs</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kcall">Kcall</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C_rd">C_rd</a></span>) <span class="id">ty</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span>) <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> "<span class="id">step_stuck</span>" <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Stuckstate">Stuckstate</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">list_monad_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ret">ret</a></span> (<span class="id">rule</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">S</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">state</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#transition">transition</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rule">rule</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_step">do_step</a></span> (<span class="id">w</span>: <span class="id"><a href="compcert.common.Determinism.html#world">world</a></span>) (<span class="id">s</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">state</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#transition">transition</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="kwd">with</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">a</span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">a</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">v</span>, <span class="id">ty</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">k</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kdo">Kdo</a></span> <span class="id">k</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_do_2</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kifthenelse">Kifthenelse</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_ifthenelse_2</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="kwd">then</span> <span class="id">s1</span> <span class="kwd">else</span> <span class="id">s2</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kwhile1">Kwhile1</a></span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_while_true</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kwhile2">Kwhile2</a></span> <span class="id">x</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_while_false</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kdowhile2">Kdowhile2</a></span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_dowhile_true</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sdowhile">Sdowhile</a></span> <span class="id">x</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_dowhile_false</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kfor2">Kfor2</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id">s</span> <span class="id">k</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#bool_val">bool_val</a></span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_for_true</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kfor3">Kfor3</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_for_false</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kreturn">Kreturn</a></span> <span class="id">k</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">v</span>' &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_cast">sem_cast</a></span> <span class="id">v</span> <span class="id">ty</span> <span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_return">fn_return</a></span>) <span class="id">m</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_return_2</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">v</span>' (<span class="id"><a href="compcert.cfrontend.Csem.html#call_cont">call_cont</a></span> <span class="id">k</span>) <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Kswitch1">Kswitch1</a></span> <span class="id">sl</span> <span class="id">k</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">n</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cop.html#sem_switch_arg">sem_switch_arg</a></span> <span class="id">v</span> <span class="id">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_expr_switch</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#select_switch">select_switch</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#n">n</a></span> <span class="id">sl</span>)) (<span class="id"><a href="compcert.cfrontend.Csem.html#Kswitch2">Kswitch2</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#expr_final_state">expr_final_state</a></span> <span class="id">f</span> <span class="id">k</span> <span class="id">e</span>) (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr">step_expr</a></span> <span class="id">e</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">a</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sdo">Sdo</a></span> <span class="id">x</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_do_1</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kdo">Kdo</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Ssequence">Ssequence</a></span> <span class="id">s1</span> <span class="id">s2</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_seq</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id">s1</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kseq">Kseq</a></span> <span class="id">s2</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kseq">Kseq</a></span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_seq</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kseq">Kseq</a></span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_continue_seq</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sbreak">Sbreak</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kseq">Kseq</a></span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_break_seq</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sbreak">Sbreak</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sifthenelse">Sifthenelse</a></span> <span class="id">a</span> <span class="id">s1</span> <span class="id">s2</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_ifthenelse_1</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">a</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kifthenelse">Kifthenelse</a></span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Swhile">Swhile</a></span> <span class="id">x</span> <span class="id">s</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_while</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kwhile1">Kwhile1</a></span> <span class="id">x</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>|<span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Kwhile2">Kwhile2</a></span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_or_continue_while</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Swhile">Swhile</a></span> <span class="id">x</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sbreak">Sbreak</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kwhile2">Kwhile2</a></span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_break_while</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sdowhile">Sdowhile</a></span> <span class="id">a</span> <span class="id">s</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_dowhile</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kdowhile1">Kdowhile1</a></span> <span class="id">a</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>|<span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Kdowhile1">Kdowhile1</a></span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_or_continue_dowhile</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kdowhile2">Kdowhile2</a></span> <span class="id">x</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sbreak">Sbreak</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kdowhile1">Kdowhile1</a></span> <span class="id">x</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_break_dowhile</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sfor">Sfor</a></span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">a3</span> <span class="id">s</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#is_skip">is_skip</a></span> <span class="id">a1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_for</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">a2</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kfor2">Kfor2</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_for_start</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id">a1</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kseq">Kseq</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sfor">Sfor</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span>) <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>|<span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Kfor3">Kfor3</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_or_continue_for3</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id">a3</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kfor4">Kfor4</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sbreak">Sbreak</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kfor3">Kfor3</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_break_for3</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kfor4">Kfor4</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id">s</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_for4</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sfor">Sfor</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">a2</span> <span class="id">a3</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sreturn">Sreturn</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_return_0</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#call_cont">call_cont</a></span> <span class="id">k</span>) <span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sreturn">Sreturn</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>)) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_return_1</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kreturn">Kreturn</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> ((<span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> | <span class="id"><a href="compcert.cfrontend.Csem.html#Kcall">Kcall</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="kwd">as</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m</span>' &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_call</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="id">k</span> <span class="id">m</span>')<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sswitch">Sswitch</a></span> <span class="id">x</span> <span class="id">sl</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_switch</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> <span class="id">x</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kswitch1">Kswitch1</a></span> <span class="id">sl</span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span>|<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sbreak">Sbreak</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Kswitch2">Kswitch2</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_skip_break_switch</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Sskip">Sskip</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kswitch2">Kswitch2</a></span> <span class="id">k</span>) <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_continue_switch</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#Scontinue">Scontinue</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Slabel">Slabel</a></span> <span class="id">lbl</span> <span class="id">s</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_label</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#s">s</a></span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#Sgoto">Sgoto</a></span> <span class="id">lbl</span>) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Csem.html#find_label">find_label</a></span> <span class="id">lbl</span> <span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_body">fn_body</a></span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#call_cont">call_cont</a></span> <span class="id">k</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">s</span>', <span class="id">k</span>') =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_goto</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id">s</span>' <span class="id">k</span>' <span class="id">e</span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Callstate</a></span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">vargs</span> <span class="id">k</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">fd</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id">fptr</span>;<br/>
&nbsp;&nbsp;<span class="id">check</span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#fd">fd</a></span>) <span class="id">tyf</span>;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#fd">fd</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">check</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_norepet_dec">list_norepet_dec</a></span> <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_params">fn_params</a></span> <span class="id">f</span>) ++ <span class="id"><a href="compcert.cfrontend.Csyntax.html#var_names">var_names</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_vars">fn_vars</a></span> <span class="id">f</span>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">e</span>,<span class="id">m1</span>) := <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables">do_alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id">m</span> (<span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_params">fn_params</a></span>) ++ <span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_vars">fn_vars</a></span>)) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m2</span> &lt;- <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters">sem_bind_parameters</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m1">m1</a></span> <span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_params">fn_params</a></span>) <span class="id">vargs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_internal_function</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#State">State</a></span> <span class="id">f</span> <span class="id">f</span>.(<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_body">fn_body</a></span>) <span class="id">k</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_external">do_external</a></span> <span class="id">ef</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id">vargs</span> <span class="id">m</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">w</span>',<span class="id">t</span>,<span class="id">v</span>,<span class="id">m</span>') =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> "<span class="id">step_external_function</span>" <span class="id">t</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">v</span> <span class="id">k</span> <span class="id">m</span>') :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">v</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kcall">Kcall</a></span> <span class="id">f</span> <span class="id">e</span> <span class="id">C</span> <span class="id">ty</span> <span class="id">k</span>) <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> "<span class="id">step_returnstate</span>" (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> (<span class="id">C</span> (<span class="kwd">Eval</span> <span class="id">v</span> <span class="id">ty</span>)) <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">myinv</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt; <span class="id">_</span> ] =&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> "<span class="id">X</span>" <span class="kwd">in</span> <span class="tactic">intro</span> <span class="id">X</span>; <span class="tactic">elim</span> <span class="id">X</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> <span class="id">_</span> <span class="id">_</span>) -&gt; <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> "<span class="id">X</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">X</span>; <span class="tactic">elim</span> <span class="id">X</span>; <span class="tactic">clear</span> <span class="id">X</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="kwd">let</span> <span class="id">EQ</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> <span class="tactic">intro</span> <span class="id">EQ</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span> <span class="kwd">in</span> <span class="id">EQ</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="id">myinv</span> | <span class="id">myinv</span>]<br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) -&gt; <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> "<span class="id">X</span>" <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">X</span>; <span class="tactic">elim</span> <span class="id">X</span>; <span class="tactic">clear</span> <span class="id">X</span>; [<span class="kwd">let</span> <span class="id">EQ</span> := <span class="tactic">fresh</span> "<span class="id">EQ</span>" <span class="kwd">in</span> <span class="tactic">intro</span> <span class="id">EQ</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="id">myinv</span> | <span class="id">myinv</span>]<br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> (<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span>) -&gt; <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">myinv</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> (<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span>) -&gt; <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">myinv</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">_</span> (<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>) -&gt; <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">myinv</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 3 =&gt; <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="do_step_sound">do_step_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">S</span> <span class="id">rule</span> <span class="id">t</span> <span class="id">S</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rule">rule</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">S</span>') (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_step">do_step</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">S</span>' \/ (<span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id">S</span>' = <span class="id"><a href="compcert.cfrontend.Csem.html#Stuckstate">Stuckstate</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#can_crash_world">can_crash_world</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4529')">Proof with</div>
<div class="proofscript" id="proof4529">
 <span class="tactic">try</span> (<span class="id">left</span>; <span class="id">right</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">S</span>'. <span class="tactic">destruct</span> <span class="id">S</span>; <span class="tactic">simpl</span>.<br/>
<span class="comment">(*&nbsp;State&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">myinv</span>...<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;skip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">myinv</span>...<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;break&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">myinv</span>...<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;continue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">myinv</span>...<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [<span class="id">s</span>' <span class="id">k</span>']. <span class="id">myinv</span>...<br/>
<span class="comment">(*&nbsp;ExprState&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id">r</span>) <span class="kwd">as</span> [[<span class="id">v</span> <span class="id">ty</span>]|] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;expression&nbsp;is&nbsp;a&nbsp;value&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#is_val_inv">is_val_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">myinv</span>...<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;expression&nbsp;reduces&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_in_map_inv">list_in_map_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">C</span> <span class="id">rd</span>] [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr_sound">step_expr_sound</a></span> <span class="id">e</span> <span class="id">w</span> <span class="id">r</span> <span class="id"><a href="compcert.cfrontend.Csem.html#RV">RV</a></span> <span class="id">m</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_ok">reducts_ok</a></span>. <span class="tactic">intros</span> [<span class="id">P</span> <span class="id">Q</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">P</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>' [<span class="id">k</span>' [<span class="id">CTX</span> [<span class="id">EQ</span> <span class="id">RD</span>]]]].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#expr_final_state">expr_final_state</a></span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>'; <span class="tactic">destruct</span> <span class="id">rd</span>; <span class="id">inv</span> <span class="id">A</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RD</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;lred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">left</span>; <span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_lred">step_lred</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;stuck&nbsp;lred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_imm_safe_t">not_imm_safe_t</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">R</span> | <span class="id">R</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;rred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">RD</span>. <span class="id">left</span>; <span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_rred">step_rred</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;callred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">RD</span>; <span class="tactic">subst</span> <span class="id">m</span>'. <span class="id">left</span>; <span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_call">step_call</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;stuck&nbsp;rred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_imm_safe_t">not_imm_safe_t</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">R</span> | <span class="id">R</span>]; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;callstate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>) <span class="id">eqn</span>:<span class="id">T</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#type_eq">type_eq</a></span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_fundef">type_of_fundef</a></span> <span class="id">f</span>) <span class="id">ty</span>); <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;internal&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables">do_alloc_variables</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#empty_env">empty_env</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_params">fn_params</a></span> <span class="id">f</span> ++ <span class="id"><a href="compcert.cfrontend.Csyntax.html#fn_vars">fn_vars</a></span> <span class="id">f</span>)) <span class="kwd">as</span> [<span class="id">e</span> <span class="id">m1</span>] <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">myinv</span>. <span class="id">left</span>; <span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_internal_function">step_internal_function</a></span> <span class="kwd">with</span> <span class="id">m1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id">e</span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">e</span>,<span class="id">m1</span>)). <span class="id">change</span> <span class="id">m1</span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id">e</span>,<span class="id">m1</span>)) <span class="tactic">at</span> 2. <span class="tactic">rewrite</span> &lt;- <span class="id">Heqp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables_sound">do_alloc_variables_sound</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters_sound">sem_bind_parameters_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;external&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">myinv</span>. <span class="tactic">destruct</span> <span class="id">p</span> <span class="kwd">as</span> [[[<span class="id">w</span>' <span class="id">tr</span>] <span class="id">v</span>] <span class="id">m</span>']. <span class="id">myinv</span>. <span class="id">left</span>; <span class="id">right</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_external_sound">do_ef_external_sound</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="comment">(*&nbsp;returnstate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">myinv</span>...<br/>
<span class="comment">(*&nbsp;stuckstate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="estep_not_val">estep_not_val</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">a</span> <span class="id">k</span> <span class="id">e</span> <span class="id">m</span> <span class="id">t</span> <span class="id">S</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#estep">estep</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#f">f</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#k">k</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#e">e</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m">m</a></span>) <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span> -&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4530')">Proof.</div>
<div class="proofscript" id="proof4530">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">from</span> <span class="id">to</span> <span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#context">context</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> -&gt; (<span class="id"><a href="compcert.cfrontend.Cexec.html#from">from</a></span> = <span class="id"><a href="compcert.cfrontend.Cexec.html#to">to</a></span> /\ <span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> = <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>) \/ <span class="id"><a href="compcert.cfrontend.Cexec.html#is_val">is_val</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#C">C</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">H0</span> <span class="id">a0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H9</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">A</span>]. <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">H0</span> <span class="id">a0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H9</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">A</span>]. <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">H0</span> <span class="id">a0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H9</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">A</span>]. <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H8</span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">H0</span> <span class="id">a0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H8</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">A</span>]. <span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">a0</span>; <span class="tactic">auto</span>. <span class="tactic">elim</span> <span class="id">H9</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="do_step_complete">do_step_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">w</span> <span class="id">S</span> <span class="id">t</span> <span class="id">S</span>' <span class="id">w</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Determinism.html#possible_trace">possible_trace</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">w</span>' -&gt; <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC.ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">S</span>' -&gt; <span class="id">exists</span> <span class="id">rule</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rule">rule</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#t">t</a></span> <span class="id">S</span>') (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_step">do_step</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#w">w</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof4531')">Proof with</div>
<div class="proofscript" id="proof4531">
 (<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ret">ret</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">w</span>'; <span class="tactic">intros</span> <span class="id">PT</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Expression&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#estep_not_val">estep_not_val</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intro</span> <span class="id">NOTVAL</span>.<br/>
<span class="comment">(*&nbsp;lred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_step">do_step</a></span>; <span class="tactic">rewrite</span> <span class="id">NOTVAL</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#lred_topred">lred_topred</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">w</span>). <span class="tactic">intros</span> (<span class="id">rule</span> &amp; <span class="id">STEP</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rule</span>. <span class="id">change</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id">rule</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> (<span class="id">C</span> <span class="id">a</span>') <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>')) <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#expr_final_state">expr_final_state</a></span> <span class="id">f</span> <span class="id">k</span> <span class="id">e</span> (<span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Lred">Lred</a></span> <span class="id">rule</span> <span class="id">a</span>' <span class="id">m</span>')).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr_context">step_expr_context</a></span> <span class="id">e</span> <span class="id">w</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">a</span> <span class="id">m</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">replace</span> <span class="id">C</span> <span class="kwd">with</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>). <span class="tactic">apply</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">STEP</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="tactic">extensionality</span>; <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;rred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_step">do_step</a></span>; <span class="tactic">rewrite</span> <span class="id">NOTVAL</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#rred_topred">rred_topred</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">e</span>). <span class="tactic">intros</span> (<span class="id">rule</span> &amp; <span class="id">STEP</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rule</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id">rule</span> <span class="id">t</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#ExprState">ExprState</a></span> <span class="id">f</span> (<span class="id">C</span> <span class="id">a</span>') <span class="id">k</span> <span class="id">e</span> <span class="id">m</span>')) <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#expr_final_state">expr_final_state</a></span> <span class="id">f</span> <span class="id">k</span> <span class="id">e</span> (<span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Rred">Rred</a></span> <span class="id">rule</span> <span class="id">a</span>' <span class="id">m</span>' <span class="id">t</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr_context">step_expr_context</a></span> <span class="id">e</span> <span class="id">w</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">a</span> <span class="id">m</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">replace</span> <span class="id">C</span> <span class="kwd">with</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>). <span class="tactic">apply</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">STEP</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="tactic">extensionality</span>; <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;callred&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_step">do_step</a></span>; <span class="tactic">rewrite</span> <span class="id">NOTVAL</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#callred_topred">callred_topred</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">w</span>). <span class="id">instantiate</span> (1 := <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">rule</span> &amp; <span class="id">STEP</span>). <span class="id">exists</span> <span class="id">rule</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> <span class="id">rule</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Callstate</a></span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">vargs</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kcall">Kcall</a></span> <span class="id">f</span> <span class="id">e</span> <span class="id">C</span> <span class="id">ty</span> <span class="id">k</span>) <span class="id">m</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#expr_final_state">expr_final_state</a></span> <span class="id">f</span> <span class="id">k</span> <span class="id">e</span> (<span class="id">C</span>, <span class="id"><a href="compcert.cfrontend.Cexec.html#Callred">Callred</a></span> <span class="id">rule</span> <span class="id">fptr</span> <span class="id">tyf</span> <span class="id">vargs</span> <span class="id">ty</span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#step_expr_context">step_expr_context</a></span> <span class="id">e</span> <span class="id">w</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span> <span class="id">a</span> <span class="id">m</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#reducts_incl">reducts_incl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">replace</span> <span class="id">C</span> <span class="kwd">with</span> (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id">C</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#x">x</a></span>). <span class="tactic">apply</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">STEP</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#topred">topred</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="tactic">extensionality</span>; <span class="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;stuck&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#not_imm_safe_stuck_red">not_imm_safe_stuck_red</a></span>. <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">elim</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#imm_safe_t_imm_safe">imm_safe_t_imm_safe</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">w</span>). <span class="tactic">intros</span> [<span class="id">C</span>' <span class="id">IN</span>].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="id">do_step</span>. <span class="tactic">rewrite</span> <span class="id">NOTVAL</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> "<span class="id">step_stuck</span>".<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#TR">TR</a></span> "<span class="id">step_stuck</span>" <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Stuckstate">Stuckstate</a></span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#expr_final_state">expr_final_state</a></span> <span class="id">f</span> <span class="id">k</span> <span class="id">e</span> (<span class="id">C</span>', <span class="id"><a href="compcert.cfrontend.Cexec.html#Stuckred">Stuckred</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>. <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Statement&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="id">econstructor</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">s0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">s0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#pred_dec_false">pred_dec_false</a></span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">x</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">rewrite</span> <span class="id">H1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">k</span>; <span class="tactic">try</span> <span class="id">contradiction</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">x</span>...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>...<br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Call&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FPTR</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#pred_dec_true">pred_dec_true</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#do_alloc_variables_complete">do_alloc_variables_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#sem_bind_parameters_complete">sem_bind_parameters_complete</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>)...<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FPTR</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#pred_dec_true">pred_dec_true</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#do_ef_external_complete">do_ef_external_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#EXEC">EXEC</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">option_monad_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="do_initial_state">do_initial_state</a></span> (<span class="id">p</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">program</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="compcert.cfrontend.Csem.html#genv">genv</a></span> * <span class="id"><a href="compcert.cfrontend.Csem.html#state">state</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ge</span> := <span class="id"><a href="compcert.cfrontend.Csem.html#globalenv">globalenv</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#p">p</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">m0</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem">Genv.init_mem</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#p">p</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">b</span> &lt;- <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#p">p</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_main">prog_main</a></span>);<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Cexec.html#ge">ge</a></span>, <span class="id"><a href="compcert.cfrontend.Csem.html#Callstate">Callstate</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#b">b</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#Tnil">Tnil</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="compcert.common.AST.html#cc_default">cc_default</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html#m0">m0</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="at_final_state">at_final_state</a></span> (<span class="id">S</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#state">state</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.cfrontend.Cexec.html#S">S</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">r</span>) <span class="id"><a href="compcert.cfrontend.Csem.html#Kstop">Kstop</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">r</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
