
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Fappli_rnd_odd</title>
<meta name="description" content="Documentation of Coq module Fappli_rnd_odd" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Fappli_rnd_odd</h1>
<div class="coq">
<br/>
<h1> Rounding to odd and its properties, including the equivalence
      between rnd_NE and double rounding with rnd_odd and then rnd_NE </h1>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Reals.html">Reals</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Psatz.html">Psatz</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Fcore.html">Fcore</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html">Fcalc_ops</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span> :=  <span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>))  <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span>   =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span>  =&gt; <span class="kwd">match</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>)) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="valid_rnd_odd">valid_rnd_odd</a></span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_rnd">Valid_rnd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5746')">Proof.</div>
<div class="proofscript" id="proof5746">
<span class="tactic">split</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">y</span>)%<span class="id">Z</span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_trans">Zle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor_le">Zfloor_le</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">y</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>))).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#le_Z2R">le_Z2R</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id">y</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor_lb">Zfloor_lb</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_ub">Zceil_ub</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="tactic">at</span> 1.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">x</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>))) <span class="kwd">as</span> [<span class="id">Hx</span>|<span class="id">Hx</span>].<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)); <span class="tactic">intros</span> <span class="id">Hx2</span>.<br/>
2: <span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">y</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>))) <span class="kwd">as</span> [<span class="id">Hy</span>|<span class="id">Hy</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_glb">Zceil_glb</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Hy</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)); <span class="tactic">intros</span> <span class="id">Hy2</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_le">Zceil_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_glb">Zceil_glb</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">H0</span>:(<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">y</span>)%<span class="id">Z</span>) <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor_le">Zfloor_le</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_or_eq">Zle_lt_or_eq</a></span> <span class="id">_</span> <span class="id">_</span>  <span class="id">H0</span>); <span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_ub">Zceil_ub</a></span> <span class="id">_</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_floor_neq">Zceil_floor_neq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_le">Z2R_le</a></span>; <span class="tactic">omega</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_not_eq">sym_not_eq</a></span>.<br/>
<span class="id">contradict</span> <span class="id">Hy2</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>, <span class="id">Hx2</span>; <span class="tactic">discriminate</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">n</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor_Z2R">Zfloor_Z2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_Z2R">Zceil_Z2R</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> <span class="id">n</span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> <span class="id">n</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> <span class="id">n</span>); <span class="tactic">trivial</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zrnd_odd_Zodd">Zrnd_odd_Zodd</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> &lt;&gt; (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>)) -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5747')">Proof.</div>
<div class="proofscript" id="proof5747">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hx</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span>  <span class="id">x</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>))) <span class="kwd">as</span> [<span class="id">H</span>|<span class="id">H</span>].<br/>
<span class="id">now</span> <span class="id">contradict</span> <span class="id">H</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="comment">(*&nbsp;difficult&nbsp;case&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>'.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_floor_neq">Zceil_floor_neq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_plus">Zeven_plus</a></span>, <span class="id">H</span>'.<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_not_eq">sym_not_eq</a></span>.<br/>
<span class="tactic">trivial</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Fcore_rnd_odd">Fcore_rnd_odd</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fcore_rnd_odd.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix">radix</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Fcore_rnd_odd.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> }.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="format">format</a></span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="canonic">canonic</a></span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="kwd">Notation</span> <span class="id"><a name="cexp">cexp</a></span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rnd_odd_pt">Rnd_odd_pt</a></span> (<span class="id">x</span> <span class="id">f</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> /\ ((<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>)%<span class="id">R</span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Rnd_DN_pt">Rnd_DN_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> \/ <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Rnd_UP_pt">Rnd_UP_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span> /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Rnd_odd">Rnd_odd</a></span> (<span class="id">rnd</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#rnd">rnd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Rnd_odd_pt_sym">Rnd_odd_pt_sym</a></span> :   <span class="kwd">forall</span> <span class="id">x</span> <span class="id">f</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> (-<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>) (-<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span>) -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5748')">Proof with</div>
<div class="proofscript" id="proof5748">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">f</span> (<span class="id">H1</span>,<span class="id">H2</span>).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_opp">generic_format_opp</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>.<br/>
<span class="id">left</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">ring</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">H2</span>,(<span class="id">g</span>,(<span class="id">Hg1</span>,(<span class="id">Hg2</span>,<span class="id">Hg3</span>)))).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> (-(-<span class="id">x</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_UP_pt_sym">Rnd_DN_UP_pt_sym</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_opp">generic_format_opp</a></span>.<br/>
<span class="id">left</span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">replace</span> <span class="id">x</span> <span class="kwd">with</span> (-(-<span class="id">x</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_DN_pt_sym">Rnd_UP_DN_pt_sym</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_opp">generic_format_opp</a></span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> (-<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id">g</span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id">g</span>)).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">replace</span> <span class="id">f</span> <span class="kwd">with</span> (-(-<span class="id">f</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg1</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_opp">canonic_opp</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_opp">Zeven_opp</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_odd_opp">round_odd_opp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>  (-<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>) = (- <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>))%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5749')">Proof.</div>
<div class="proofscript" id="proof5749">
<span class="tactic">intros</span> <span class="id">x</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa_opp">scaled_mantissa_opp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">r</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> (- <span class="id">r</span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (- <span class="id">r</span>)))).<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>))).<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#eq_Z2R">eq_Z2R</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_opp">Z2R_opp</a></span>, &lt;- <span class="id">Y1</span>, &lt;-<span class="id">Y2</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="id">absurd</span> (<span class="id">r</span>=<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">pattern</span> <span class="id">r</span> <span class="tactic">at</span> 2; <span class="tactic">replace</span> <span class="id">r</span> <span class="kwd">with</span> (-(-<span class="id">r</span>))%<span class="id">R</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Y2</span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_opp">Z2R_opp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor_Z2R">Zfloor_Z2R</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_opp">Z2R_opp</a></span>, &lt;- <span class="id">Y2</span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>))).<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="id">absurd</span> (-<span class="id">r</span>=<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (-<span class="id">r</span>)))%<span class="id">R</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">pattern</span> <span class="id">r</span> <span class="tactic">at</span> 2; <span class="tactic">rewrite</span> <span class="id">Y1</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_opp">Z2R_opp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor_Z2R">Zfloor_Z2R</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_opp">Z2R_opp</a></span>, &lt;- <span class="id">Y1</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span>.<br/>
<span class="tactic">replace</span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (- <span class="id">r</span>))) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>))).<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>));  <span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">r</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil_floor_neq">Zceil_floor_neq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_plus">Zeven_plus</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">r</span>)); <span class="tactic">reflexivity</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_not_eq">sym_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_opp">Zeven_opp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (- <span class="id">r</span>))).<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp_opp">canonic_exp_opp</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_odd_pt">round_odd_pt</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5750')">Proof with</div>
<div class="proofscript" id="proof5750">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">cut</span> (<span class="kwd">forall</span> <span class="id">x</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>, (0 &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>)%<span class="id">R</span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>)).<br/>
<span class="tactic">intros</span> <span class="id">H</span> <span class="id">x</span>; <span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> 0 <span class="id">x</span>).<br/>
<span class="tactic">intros</span> <span class="id">H1</span>; <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt_sym">Rnd_odd_pt_sym</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_opp">round_odd_opp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">H</span>.<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hxp</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">o</span>:=<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>).<br/>
<span class="tactic">intros</span> <span class="id">Ho</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_dec">Req_dec</a></span> <span class="id">o</span> <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="id">right</span>.<br/>
<span class="tactic">assert</span> (<span class="id">o</span>=<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> \/ <span class="id">o</span>=<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>).<br/>
<span class="tactic">unfold</span> <span class="id">o</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>;<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Zrnd_DN_or_UP">Zrnd_DN_or_UP</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>))...<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="id">now</span> <span class="id">right</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="id">left</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id">o</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_EM_T">Req_EM_T</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)))).<br/>
<span class="tactic">intros</span> <span class="id">T</span>.<br/>
<span class="id">absurd</span> (<span class="id">o</span>=<span class="id">x</span>); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>; <span class="tactic">trivial</span>; <span class="tactic">rewrite</span> <span class="id">T</span> <span class="tactic">at</span> 1.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc_floor">Ztrunc_floor</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">L</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>))).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">f</span>:=<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">ef</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">f</span>).<br/>
<span class="tactic">set</span> (<span class="id">mf</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">f</span>)).<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id">mf</span> <span class="id">ef</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">Fcore_generic_fmt.canonic</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)))).<br/>
2: <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)) (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#cexp">cexp</a></span> <span class="id">x</span>))))).<br/>
2: <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_or_eq_dec">Rle_lt_or_eq_dec</a></span> 0 (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le">round_le</a></span>...<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>)...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> <span class="id">T</span> <span class="kwd">with</span> <span class="id">x</span>; <span class="tactic">clear</span> <span class="id">T</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rmult_neq_compat_r">Rmult_neq_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc_floor">Ztrunc_floor</a></span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">Fcore_generic_fmt.canonic</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp_DN">canonic_exp_DN</a></span>...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">Fcore_generic_fmt.canonic</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">replace</span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> {| <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Fnum</a></span> := <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>); <span class="id">Fexp</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#cexp">cexp</a></span> <span class="id">x</span> |})<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> 0 (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> 0)))).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>)...<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> <span class="id">T</span> <span class="kwd">with</span> <span class="id">x</span>; <span class="tactic">clear</span> <span class="id">T</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa_mult_bpow">scaled_mantissa_mult_bpow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>) <span class="tactic">at</span> 1.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rmult_neq_compat_r">Rmult_neq_compat_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc_floor">Ztrunc_floor</a></span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_0">canonic_0</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">Fcore_generic_fmt.canonic</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#eq_Z2R">eq_Z2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#cexp">cexp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="kwd">in</span> <span class="id">Y</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Y</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_or_eq_dec">Rle_lt_or_eq_dec</a></span> 0 (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le">round_le</a></span>...<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hrx</span>.<br/>
<span class="tactic">set</span> (<span class="id">ef</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>).<br/>
<span class="tactic">set</span> (<span class="id">mf</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)).<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id">mf</span> <span class="id">ef</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">Fcore_generic_fmt.canonic</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#cexp">cexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span> )).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp_DN">canonic_exp_DN</a></span>...<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hrx</span>; <span class="id">contradict</span> <span class="id">Y</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>)) <span class="kwd">with</span> 0%<span class="id">Z</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">discriminate</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#eq_Z2R">eq_Z2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rmult_eq_reg_r">Rmult_eq_reg_r</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#cexp">cexp</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="kwd">in</span> <span class="id">Hrx</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hrx</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Hrx</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Rnd_odd_pt_unicity">Rnd_odd_pt_unicity</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">f1</span> <span class="id">f2</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f1">f1</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f2">f2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f1">f1</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f2">f2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5751')">Proof.</div>
<div class="proofscript" id="proof5751">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">f1</span> <span class="id">f2</span> (<span class="id">Ff1</span>,<span class="id">H1</span>) (<span class="id">Ff2</span>,<span class="id">H2</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_EM">generic_format_EM</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id">x</span>); <span class="tactic">intros</span> <span class="id">L</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> <span class="id">x</span>.<br/>
<span class="tactic">case</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> (<span class="id">J</span>,<span class="id">_</span>); <span class="tactic">case</span> <span class="id">J</span>; <span class="tactic">intros</span> <span class="id">J</span>'.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_pt_idempotent">Rnd_DN_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_pt_idempotent">Rnd_UP_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">case</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> (<span class="id">J</span>,<span class="id">_</span>); <span class="tactic">case</span> <span class="id">J</span>; <span class="tactic">intros</span> <span class="id">J</span>'; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_pt_idempotent">Rnd_DN_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_pt_idempotent">Rnd_UP_pt_idempotent</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span>; <span class="tactic">assumption</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span>|(<span class="id">H1</span>,<span class="id">H1</span>')].<br/>
<span class="id">contradict</span> <span class="id">L</span>; <span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">H2</span>|(<span class="id">H2</span>,<span class="id">H2</span>')].<br/>
<span class="id">contradict</span> <span class="id">L</span>; <span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span>|<span class="id">H1</span>]; <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">H2</span>|<span class="id">H2</span>].<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_pt_unicity">Rnd_DN_pt_unicity</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span> <span class="id">x</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H1</span>' <span class="kwd">as</span> (<span class="id">ff</span>,(<span class="id">K1</span>,(<span class="id">K2</span>,<span class="id">K3</span>))).<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>' <span class="kwd">as</span> (<span class="id">gg</span>,(<span class="id">L1</span>,(<span class="id">L2</span>,<span class="id">L3</span>))).<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">L3</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id">ff</span>))).<br/>
<span class="tactic">rewrite</span> <span class="id">K3</span>; <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>; <span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> (<span class="id">T</span> <span class="id">x</span>); <span class="tactic">clear</span> <span class="id">T</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">K1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_pt_unicity">Rnd_DN_pt_unicity</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">L1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_pt_unicity">Rnd_UP_pt_unicity</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">H1</span>' <span class="kwd">as</span> (<span class="id">ff</span>,(<span class="id">K1</span>,(<span class="id">K2</span>,<span class="id">K3</span>))).<br/>
<span class="tactic">destruct</span> <span class="id">H2</span>' <span class="kwd">as</span> (<span class="id">gg</span>,(<span class="id">L1</span>,(<span class="id">L2</span>,<span class="id">L3</span>))).<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">K3</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id">gg</span>))).<br/>
<span class="tactic">rewrite</span> <span class="id">L3</span>; <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_generic">DN_UP_parity_generic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#DN_UP_parity_prop">DN_UP_parity_prop</a></span>; <span class="tactic">intros</span> <span class="id">T</span>; <span class="tactic">apply</span> (<span class="id">T</span> <span class="id">x</span>); <span class="tactic">clear</span> <span class="id">T</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">L1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_pt_unicity">Rnd_DN_pt_unicity</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">K1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_pt_unicity">Rnd_UP_pt_unicity</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span>) <span class="id">x</span>; <span class="tactic">try</span> <span class="id">easy</span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_pt_unicity">Rnd_UP_pt_unicity</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#format">format</a></span> <span class="id">x</span>; <span class="tactic">assumption</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Rnd_odd_pt_monotone">Rnd_odd_pt_monotone</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#round_pred_monotone">round_pred_monotone</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5752')">Proof with</div>
<div class="proofscript" id="proof5752">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">y</span> <span class="id">f</span> <span class="id">g</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">Hxy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">x</span>).<br/>
<span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt_unicity">Rnd_odd_pt_unicity</a></span> <span class="kwd">with</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_pt">round_odd_pt</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id">y</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le">round_le</a></span>...<br/>
<span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt_unicity">Rnd_odd_pt_unicity</a></span> <span class="kwd">with</span> <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_pt">round_odd_pt</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fcore_rnd_odd">Fcore_rnd_odd</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Odd_prop_aux">Odd_prop_aux</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Even_beta">Even_beta</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>)=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Notation</span> <span class="id"><a name="bpow">bpow</a></span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">e</span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.fexpe">fexpe</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> }. <br/>
<span class="kwd">Context</span> { <span class="id">valid_expe</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_e</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> }. <br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span>: <span class="kwd">forall</span> <span class="id">e</span>, (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#e">e</a></span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#e">e</a></span> -2)%<span class="id">Z</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> -&gt;  <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5753')">Proof.</div>
<div class="proofscript" id="proof5753">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_inclusion_ln_beta">generic_inclusion_ln_beta</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>; <span class="tactic">trivial</span>; <span class="tactic">intros</span> <span class="id">Hx2</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>)).<br/>
<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exists_even_fexp_lt">exists_even_fexp_lt</a></span>: <span class="kwd">forall</span> (<span class="id">c</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>), <span class="kwd">forall</span> (<span class="id">x</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> /\ (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#c">c</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span>)%<span class="id">Z</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> =<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#c">c</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5754')">Proof with</div>
<div class="proofscript" id="proof5754">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">c</span> <span class="id">x</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)).<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id">g</span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow">Z.pow</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id">g</span> - <span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>))).<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id">g</span>*<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow">Z.pow</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id">g</span> - <span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">x</span>))) = <span class="id">x</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_mult">Z2R_mult</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_Zpower">Z2R_Zpower</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_assoc">Rmult_assoc</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hg1</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>.<br/>
<span class="tactic">ring</span>.<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_mult">Zeven_mult</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_Zpower">Zeven_Zpower</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_intro">Bool.orb_true_intro</a></span>.<br/>
<span class="id">now</span> <span class="id">right</span>.<br/>
<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.choice">choice</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.x">x</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R">R</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop_aux.d">d</a></span> <span class="id"><a name="Odd_prop_aux.u">u</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Hd">Hd</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Rnd_DN_pt">Rnd_DN_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Cd">Cd</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Hu">Hu</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Rnd_UP_pt">Rnd_UP_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.Cu">Cu</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop_aux.xPos">xPos</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>)%<span class="id">R</span>.<br/>
<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="Odd_prop_aux.m">m</a></span>:= ((<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>+<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)/2)%<span class="id">R</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="d_eq">d_eq</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>= <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5755')">Proof with</div>
<div class="proofscript" id="proof5755">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_pt_unicity">Rnd_DN_pt_unicity</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="u_eq">u_eq</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>= <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5756')">Proof with</div>
<div class="proofscript" id="proof5756">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_UP_pt_unicity">Rnd_UP_pt_unicity</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="d_ge_0">d_ge_0</a></span>: (0 &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5757')">Proof with</div>
<div class="proofscript" id="proof5757">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_eq">d_eq</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ln_beta_d">ln_beta_d</a></span>:  (0&lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> :&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5758')">Proof with</div>
<div class="proofscript" id="proof5758">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_eq">d_eq</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#ln_beta_DN">ln_beta_DN</a></span>...<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_eq">d_eq</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Fexp_d">Fexp_d</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> =<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5759')">Proof with</div>
<div class="proofscript" id="proof5759">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Cd">Cd</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#ln_beta_d">ln_beta_d</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="format_bpow_x">format_bpow_x</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>  (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5760')">Proof with</div>
<div class="proofscript" id="proof5760">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fexp_d">Fexp_d</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_trans">Zlt_le_trans</a></span> <span class="kwd">with</span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>))%<span class="id">Z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Cd">Cd</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#ln_beta_generic_gt">ln_beta_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_le">ln_beta_le</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="format_bpow_d">format_bpow_d</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5761')">Proof with</div>
<div class="proofscript" id="proof5761">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#ln_beta_generic_gt">ln_beta_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="d_le_m">d_le_m</a></span>: (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5762')">Proof.</div>
<div class="proofscript" id="proof5762">
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m">m</a></span>.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_le_u">m_le_u</a></span>: (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5763')">Proof.</div>
<div class="proofscript" id="proof5763">
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m">m</a></span>.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ln_beta_m">ln_beta_m</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt; (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> =<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>) :&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5764')">Proof with</div>
<div class="proofscript" id="proof5764">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">dPos</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_unique_pos">ln_beta_unique_pos</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
<span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_le_m">d_le_m</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m_le_u">m_le_u</a></span>; <span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">H</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#u_eq">u_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#ln_beta_generic_gt">ln_beta_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)))); <span class="tactic">trivial</span>; <span class="tactic">intros</span> <span class="id">Z</span>.<br/>
<span class="id">absurd</span> ((<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)) &lt;= (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)))%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>.<br/>
<span class="tactic">destruct</span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
<span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>).<br/>
2: <span class="id">right</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_eq">d_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_bpow">generic_format_bpow</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#ln_beta_generic_gt">ln_beta_generic_gt</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">replace</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
<span class="tactic">apply</span> <span class="id">He</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>; <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m">m</a></span> <span class="kwd">in</span> <span class="id">H</span> |- *.<br/>
<span class="id">lra</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ln_beta_m_0">ln_beta_m_0</a></span>: (0 = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> =<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)-1:&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5765')">Proof with</div>
<div class="proofscript" id="proof5765">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_unique_pos">ln_beta_unique_pos</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m">m</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#u_eq">u_eq</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span> <span class="kwd">in</span> <span class="id">He</span> <span class="tactic">by</span> <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_small_pos">round_UP_small_pos</a></span> <span class="kwd">with</span> (<span class="id">ex</span>:=<span class="id">e</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_bpow">ln_beta_bpow</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span> + 1 - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_compat_l">Rmult_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rinv_le">Rinv_le</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.setoid_ring.RealField.html#Rlt_0_2">Rlt_0_2</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_le">Z2R_le</a></span> 2).<br/>
<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_gt_1">radix_gt_1</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>).<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#bpow">bpow</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>)*1)%<span class="id">R</span>.<br/>
2: <span class="id">right</span>; <span class="tactic">ring</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_lt_compat_l">Rmult_lt_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="id">lra</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#exp_small_round_0_pos">exp_small_round_0_pos</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_eq">d_eq</a></span>, <span class="id">Y</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">u</span>'<span class="id">_eq</span>:  (0 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt; <span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span> /\ (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5766')">Proof with</div>
<div class="proofscript" id="proof5766">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#u_eq">u_eq</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span>.<br/>
<span class="id">eexists</span>; <span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">simpl</span>; <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fexp_d">Fexp_d</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_eq">m_eq</a></span>: (0 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;  <span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> /\ (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>) -1)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5767')">Proof with</div>
<div class="proofscript" id="proof5767">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_ex">Zeven_ex</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>)); <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">b</span>, <span class="id">Hb</span>); <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span> <span class="kwd">in</span> <span class="id">Hb</span>.<br/>
<span class="tactic">destruct</span> <span class="id">u</span>'<span class="id">_eq</span> <span class="kwd">as</span> (<span class="id">u</span>', (<span class="id">Hu</span>'1,<span class="id">Hu</span>'2)); <span class="tactic">trivial</span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fmult">Fmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">b</span> (-1)) (<span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fplus">Fplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> <span class="id">u</span>'))%<span class="id">R</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_mult">F2R_mult</a></span>, <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_plus">F2R_plus</a></span>, <span class="id">Hu</span>'1.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m">m</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>, <span class="id">Hb</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_mult">Z2R_mult</a></span>.<br/>
<span class="tactic">simpl</span>; <span class="id">field</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_l">Rmult_lt_reg_l</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.setoid_ring.RealField.html#Rlt_0_2">Rlt_0_2</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_mult">Z2R_mult</a></span> 2), &lt;-<span class="id">Hb</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#radix_pos">radix_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (-1+<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fplus">Fplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> <span class="id">u</span>'))%<span class="id">Z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fmult">Fmult</a></span>.<br/>
<span class="tactic">destruct</span>  (<span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fplus">Fplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> <span class="id">u</span>'); <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>.<br/>
2: <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fexp_Fplus">Fexp_Fplus</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.min_l">Z.min_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fexp_d">Fexp_d</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hu</span>'2; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="m_eq_0">m_eq_0</a></span>: (0 = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;  <span class="id">exists</span> <span class="id">f</span>:<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> /\ (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)) -1)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5768')">Proof with</div>
<div class="proofscript" id="proof5768">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="id">specialize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven_ex">Zeven_ex</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>)); <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">b</span>, <span class="id">Hb</span>); <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span> <span class="kwd">in</span> <span class="id">Hb</span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fmult">Fmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id">b</span> (-1)) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_mult">F2R_mult</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m">m</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rmult_comm">Rmult_comm</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>; <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span>; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_1_r">Zmult_1_r</a></span>, <span class="id">Hb</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_mult">Z2R_mult</a></span>.<br/>
<span class="tactic">simpl</span>; <span class="id">field</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_reg_l">Rmult_lt_reg_l</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.setoid_ring.RealField.html#Rlt_0_2">Rlt_0_2</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_mult">Z2R_mult</a></span> 2), &lt;-<span class="id">Hb</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#radix_pos">radix_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (-1+<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">Z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#Fmult">Fmult</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>; <span class="tactic">reflexivity</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Cu">Cu</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Zminus</a></span>; <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#f_equal2">f_equal2</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fexp_m_eq_0">fexp_m_eq_0</a></span>:  (0 = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)-1) &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>))+1)%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5769')">Proof with</div>
<div class="proofscript" id="proof5769">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">assert</span> ((<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>) - 1) &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>))))%<span class="id">Z</span>.<br/>
2: <span class="tactic">omega</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>) <span class="kwd">as</span> (<span class="id">e</span>,<span class="id">He</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_right">Rabs_right</a></span> <span class="kwd">in</span> <span class="id">He</span>.<br/>
2: <span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">assert</span> (<span class="id">e</span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>)%<span class="id">Z</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#exp_small_round_0_pos">exp_small_round_0_pos</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_eq">d_eq</a></span>, <span class="id">Y</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#u_eq">u_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_small_pos">round_UP_small_pos</a></span> <span class="kwd">with</span> (<span class="id">ex</span>:=<span class="id">e</span>); <span class="tactic">trivial</span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id">He</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_bpow">ln_beta_bpow</a></span>.<br/>
<span class="id">ring_simplify</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span> + 1 - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">e</span>).<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.exists_NE_">exists_NE_</a></span>; <span class="tactic">intros</span> <span class="id">V</span>.<br/>
<span class="id">contradict</span> <span class="id">V</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Even_beta">Even_beta</a></span>; <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id">V</span> <span class="id">e</span>)); <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.valid_exp">valid_exp</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Fm">Fm</a></span>:  <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_ge_0">d_ge_0</a></span>); <span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m_eq">m_eq</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">generic_format_F2R</span>' <span class="kwd">with</span> <span class="id">g</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>; <span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#ln_beta_m">ln_beta_m</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fexp_d">Fexp_d</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Cd">Cd</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>))).<br/>
<span class="tactic">omega</span>.<br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m_eq_0">m_eq_0</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">generic_format_F2R</span>' <span class="kwd">with</span> <span class="id">g</span>.<br/>
<span class="tactic">assumption</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>; <span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#ln_beta_m_0">ln_beta_m_0</a></span>; <span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_trans">Zle_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> <span class="id">_</span>).<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)-1) &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>))+1)%<span class="id">Z</span>;[<span class="id">idtac</span>|<span class="tactic">omega</span>].<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#fexp_m_eq_0">fexp_m_eq_0</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Zm">Zm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5770')">Proof with</div>
<div class="proofscript" id="proof5770">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#d_ge_0">d_ge_0</a></span>); <span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m_eq">m_eq</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#exists_even_fexp_lt">exists_even_fexp_lt</a></span>.<br/>
<span class="id">exists</span> <span class="id">g</span>; <span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#ln_beta_m">ln_beta_m</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fexp_d">Fexp_d</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Cd">Cd</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>))).<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#m_eq_0">m_eq_0</a></span> <span class="kwd">as</span> (<span class="id">g</span>,(<span class="id">Hg1</span>,<span class="id">Hg2</span>)); <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#exists_even_fexp_lt">exists_even_fexp_lt</a></span>.<br/>
<span class="id">exists</span> <span class="id">g</span>; <span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hg2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#ln_beta_m_0">ln_beta_m_0</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_trans">Zle_lt_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> <span class="id">_</span>).<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)-1) &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>))+1)%<span class="id">Z</span>;[<span class="id">idtac</span>|<span class="tactic">omega</span>].<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#fexp_m_eq_0">fexp_m_eq_0</a></span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="DN_odd_d_aux">DN_odd_d_aux</a></span>: <span class="kwd">forall</span> <span class="id">z</span>, (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>&lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#z">z</a></span>&lt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Rnd_DN_pt">Rnd_DN_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#z">z</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5771')">Proof with</div>
<div class="proofscript" id="proof5771">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">z</span> <span class="id">Hz1</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">z</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_UP_pt_split">Rnd_DN_UP_pt_split</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">z</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_antisym">Rle_antisym</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Hz1</span>.<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="id">absurd</span> (<span class="id">z</span> &lt; <span class="id">z</span>)%<span class="id">R</span>.<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">Hz1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (1:=<span class="id">Y</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="UP_odd_d_aux">UP_odd_d_aux</a></span>: <span class="kwd">forall</span> <span class="id">z</span>, (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>&lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#z">z</a></span> &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Rnd_UP_pt">Rnd_UP_pt</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#z">z</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5772')">Proof with</div>
<div class="proofscript" id="proof5772">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">z</span> <span class="id">Hz1</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">z</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_rnd.html#Rnd_DN_UP_pt_split">Rnd_DN_UP_pt_split</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">z</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="id">absurd</span> (<span class="id">z</span> &lt; <span class="id">z</span>)%<span class="id">R</span>.<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">Hz1</span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (2:=<span class="id">Y</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">intros</span> <span class="id">Y</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_antisym">Rle_antisym</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Hz1</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_odd_prop_pos">round_odd_prop_pos</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.choice">choice</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5773')">Proof with</div>
<div class="proofscript" id="proof5773">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">set</span> (<span class="id">o</span>:=<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>).<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_EM">generic_format_EM</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>); <span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">replace</span> <span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">unfold</span> <span class="id">o</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">K1</span>:(<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> &lt;= <span class="id">o</span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">K2</span>:(<span class="id">o</span> &lt;= <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#generic_format_fexpe_fexp">generic_format_fexpe_fexp</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">P</span>:(<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> -&gt; <span class="id">o</span>=<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span> -&gt; (<span class="kwd">forall</span> <span class="id">P</span>:<span class="kwd">Prop</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#P">P</a></span>))).<br/>
<span class="tactic">intros</span> <span class="id">Y1</span> <span class="id">Y2</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H</span>:(<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> <span class="id">o</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_pt">round_odd_pt</a></span>...<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,<span class="id">H</span>); <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>=<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span>)%<span class="id">R</span>; <span class="tactic">try</span> <span class="tactic">trivial</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">Y2</span>, <span class="id">H</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,(<span class="id">k</span>,(<span class="id">Hk1</span>,(<span class="id">Hk2</span>,<span class="id">Hk3</span>)))).<br/>
<span class="tactic">destruct</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zm">Zm</a></span> <span class="kwd">as</span> (<span class="id">k</span>',(<span class="id">Hk</span>'1,(<span class="id">Hk</span>'2,<span class="id">Hk</span>'3))).<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hk3</span>, &lt;- <span class="id">Hk</span>'3.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_unicity">canonic_unicity</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span>...<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hk</span>'1, &lt;- <span class="id">Y2</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id">o</span> -&gt; (<span class="kwd">forall</span> <span class="id">P</span>:<span class="kwd">Prop</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#P">P</a></span>)).<br/>
<span class="tactic">intros</span> <span class="id">Y</span>.<br/>
<span class="tactic">assert</span> (<span class="id">H</span>:(<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Rnd_odd_pt">Rnd_odd_pt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> <span class="id">o</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_pt">round_odd_pt</a></span>...<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,<span class="id">H</span>); <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>); <span class="tactic">trivial</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">_</span>,(<span class="id">k</span>,(<span class="id">Hk1</span>,(<span class="id">Hk2</span>,<span class="id">Hk3</span>)))).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#exists_even_fexp_lt">exists_even_fexp_lt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span> <span class="id">o</span>) <span class="kwd">as</span> (<span class="id">k</span>',(<span class="id">Hk</span>'1,(<span class="id">Hk</span>'2,<span class="id">Hk</span>'3))).<br/>
<span class="id">eexists</span>; <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id">Y</span>.<br/>
<span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_trans">Zle_lt_trans</a></span> <span class="kwd">with</span> (1:=<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe_fexp">fexpe_fexp</a></span> <span class="id">_</span>).<br/>
<span class="tactic">omega</span>.<br/>
<span class="id">absurd</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hk3</span>, &lt;- <span class="id">Hk</span>'3.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_unicity">canonic_unicity</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.fexpe">fexpe</a></span>...<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hk</span>'1, &lt;- <span class="id">Hk1</span>.<br/>
<span class="tactic">case</span> <span class="id">K1</span>; <span class="tactic">clear</span> <span class="id">K1</span>; <span class="tactic">intros</span> <span class="id">K1</span>.<br/>
2: <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">K1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hd">Hd</a></span>.<br/>
<span class="tactic">case</span> <span class="id">K2</span>; <span class="tactic">clear</span> <span class="id">K2</span>; <span class="tactic">intros</span> <span class="id">K2</span>.<br/>
2: <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">K2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.Hu">Hu</a></span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_or_lt">Rle_or_lt</a></span>  <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.m">m</a></span>); <span class="tactic">intros</span> <span class="id">Y</span>;[<span class="tactic">destruct</span> <span class="id">Y</span>|<span class="id">idtac</span>].<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_ulp.html#round_N_eq_DN_pt">round_N_eq_DN_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#DN_odd_d_aux">DN_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#UP_odd_d_aux">UP_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">assert</span> (<span class="id">o</span> &lt;= (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> + <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>) / 2)%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fm">Fm</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H1</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">P</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_ulp.html#round_N_eq_DN_pt">round_N_eq_DN_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>)...<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">replace</span> <span class="id">o</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.x">x</a></span>.<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fm">Fm</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_ulp.html#round_N_eq_UP_pt">round_N_eq_UP_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#DN_odd_d_aux">DN_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#UP_odd_d_aux">UP_odd_d_aux</a></span>; <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">left</span>; <span class="tactic">assumption</span>.<br/>
<span class="tactic">assert</span> ((<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span> + <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.u">u</a></span>) / 2 &lt;= <span class="id">o</span>)%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Fm">Fm</a></span>.<br/>
<span class="id">now</span> <span class="id">left</span>.<br/>
<span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id">P</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_ulp.html#round_N_eq_UP_pt">round_N_eq_UP_pt</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux.d">d</a></span>)...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop_aux">Odd_prop_aux</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Odd_prop">Odd_prop</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.beta">beta</a></span> : <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix">radix</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop.Even_beta">Even_beta</a></span>: <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span>)=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.fexp">fexp</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.fexpe">fexpe</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="Odd_prop.choice">choice</a></span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Context</span> { <span class="id">valid_exp</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> }. <br/>
<span class="kwd">Context</span> { <span class="id">valid_expe</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexpe">fexpe</a></span> }.<br/>
<span class="kwd">Context</span> { <span class="id">exists_NE_e</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#Exists_NE">Exists_NE</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexpe">fexpe</a></span> }. <br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Odd_prop.fexpe_fexp">fexpe_fexp</a></span>: <span class="kwd">forall</span> <span class="id">e</span>, (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#e">e</a></span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#e">e</a></span> -2)%<span class="id">Z</span>.<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="canonizer">canonizer</a></span>: <span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span><br/>
&nbsp;&nbsp;&nbsp;-&gt; <span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#float">float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#f">f</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span> /\ <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#g">g</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5774')">Proof with</div>
<div class="proofscript" id="proof5774">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">f</span> <span class="id">Hf</span>.<br/>
<span class="id">exists</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id">f</span>)) (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id">f</span>)).<br/>
<span class="tactic">assert</span> (<span class="id">L</span>:(<span class="id">f</span> = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#scaled_mantissa">scaled_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id">f</span>)) (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id">f</span>)))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#trans_eq">trans_eq</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span> <span class="id">f</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>...<br/>
<span class="tactic">reflexivity</span>.<br/>
<span class="tactic">split</span>; <span class="tactic">trivial</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">L</span>.<br/>
<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="round_odd_prop">round_odd_prop</a></span>: <span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.choice">choice</a></span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexpe">fexpe</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Zrnd_odd">Zrnd_odd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Znearest">Znearest</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.choice">choice</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5775')">Proof with</div>
<div class="proofscript" id="proof5775">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#total_order_T">total_order_T</a></span> <span class="id">x</span> 0); <span class="tactic">intros</span> <span class="id">H</span>; [<span class="tactic">case</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">intros</span> <span class="id">H</span> | <span class="id">idtac</span>].<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_involutive">Ropp_involutive</a></span> <span class="id">x</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_opp">round_odd_opp</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_N_opp">round_N_opp</a></span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#canonizer">canonizer</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> (-<span class="id">x</span>))) <span class="kwd">as</span> (<span class="id">d</span>,(<span class="id">Hd1</span>,<span class="id">Hd2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#canonizer">canonizer</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> (-<span class="id">x</span>))) <span class="kwd">as</span> (<span class="id">u</span>,(<span class="id">Hu1</span>,<span class="id">Hu2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_prop_pos">round_odd_prop_pos</a></span> <span class="kwd">with</span> <span class="id">d</span> <span class="id">u</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hd1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hu1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">real</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>...<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#canonizer">canonizer</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span> <span class="id">x</span>)) <span class="kwd">as</span> (<span class="id">d</span>,(<span class="id">Hd1</span>,<span class="id">Hd2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#canonizer">canonizer</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.beta">beta</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span> <span class="id">x</span>)) <span class="kwd">as</span> (<span class="id">u</span>,(<span class="id">Hu1</span>,<span class="id">Hu2</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#round_odd_prop_pos">round_odd_prop_pos</a></span> <span class="kwd">with</span> <span class="id">d</span> <span class="id">u</span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hd1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_DN_pt">round_DN_pt</a></span>...<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hu1</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_UP_pt">round_UP_pt</a></span>...<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_rnd_odd.html#Odd_prop">Odd_prop</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
