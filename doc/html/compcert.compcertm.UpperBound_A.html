
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module UpperBound_A</title>
<meta name="description" content="Documentation of Coq module UpperBound_A" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module UpperBound_A</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html">CoqlibC</a></span> <span class="id"><a href="compcert.compcertm.MapsC.html">MapsC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.ASTC.html">ASTC</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.compcertm.MemoryC.html">MemoryC</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span> <span class="id"><a href="compcert.x86.Stacklayout.html">Stacklayout</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="compcert.cfrontend.Csem.html">Csem</a></span> <span class="id"><a href="compcert.cfrontend.Cop.html">Cop</a></span> <span class="id"><a href="compcert.cfrontend.Ctypes.html">Ctypes</a></span> <span class="id"><a href="compcert.cfrontend.Ctyping.html">Ctyping</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html">Csyntax</a></span> <span class="id"><a href="compcert.cfrontend.Cexec.html">Cexec</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Simulation.html">Simulation</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.compcertm.ValuesC.html">ValuesC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Skeleton.html">Skeleton</a></span> <span class="id"><a href="compcert.compcertm.ModSem.html">ModSem</a></span> <span class="id"><a href="compcert.compcertm.Mod.html">Mod</a></span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CtypesC.html">CtypesC</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html">CsemC</a></span> <span class="id"><a href="compcert.compcertm.Sem.html">Sem</a></span> <span class="kwd">Syntax</span> <span class="id"><a href="compcert.compcertm.LinkingC.html">LinkingC</a></span> <span class="kwd">Program</span> <span class="id"><a href="compcert.compcertm.SemProps.html">SemProps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Equality.html">Equality</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CtypingC.html">CtypingC</a></span> <span class="id"><a href="compcert.compcertm.LinkingC2.html">LinkingC2</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html">UpperBound_AExtra</a></span>.<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="LINKLEMMAS">LINKLEMMAS</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="internal_link_false">internal_link_false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cp1</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">cp2</span> <span class="id">cp_link</span> <span class="id">id</span> <span class="id">func1</span> <span class="id">func2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.common.Linking.html#link">link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP1</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func1">func1</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP2</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func2">func2</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7305')">Proof.</div>
<div class="proofscript" id="proof7305">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_program">Linker_program</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#link_program">link_program</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_prog">Linker_prog</a></span>. <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Linking.html#link_prog_inv">link_prog_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>). <span class="tactic">intro</span> <span class="id">LINKSPEC</span>; <span class="id">des</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">LINKSPEC0</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_def">Linker_def</a></span>. <span class="id">ss</span>. <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="internal_link_internal">internal_link_internal</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cp1</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">cp2</span> <span class="id">cp</span> <span class="id">cp_link</span> <span class="id">id</span> <span class="id">func1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.common.Linking.html#link">link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CP</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span> \/ <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP1</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func1">func1</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">func2</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func2">func2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7306')">Proof.</div>
<div class="proofscript" id="proof7306">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_program">Linker_program</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#link_program">link_program</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_prog">Linker_prog</a></span>. <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Linking.html#link_prog_inv">link_prog_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>). <span class="tactic">intro</span> <span class="id">LINKSPEC</span>; <span class="id">des_safe</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#mkprogram">AST.prog_defs</a></span> := <span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp1</span>) (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp2</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">AST.prog_public</span> := <span class="id"><a href="compcert.common.AST.html#prog_public">AST.prog_public</a></span> <span class="id">cp1</span> ++ <span class="id"><a href="compcert.common.AST.html#prog_public">AST.prog_public</a></span> <span class="id">cp2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">AST.prog_main</span> := <span class="id"><a href="compcert.common.AST.html#prog_main">AST.prog_main</a></span> <span class="id">cp1</span> |} <span class="kwd">as</span> <span class="id">p</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">DEFS</span>: <span class="id"><a href="compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id">p</span> = <span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp1</span>) (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">clarify</span>; <span class="id">ss</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">DEFREL</span>: <span class="kwd">forall</span> <span class="id">id</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">p</span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp1</span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp2</span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree_Properties.of_list_elements">PTree_Properties.of_list_elements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">DEFREL</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> <span class="kwd">in</span> *. <span class="id">des</span>; <span class="tactic">subst</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">LINKSPEC0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_def">Linker_def</a></span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_fundef">Linker_fundef</a></span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">LINKSPEC0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_def">Linker_def</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_def">link_def</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_fundef">Linker_fundef</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#link_fundef">link_fundef</a></span> <span class="kwd">in</span> <span class="id">Heq4</span>. <span class="id">des_ifs</span>. <span class="id">ss</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_defmap_exists_aux">prog_defmap_exists_aux</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cp</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">cps</span> <span class="id">cp_link</span> <span class="id">id</span> <span class="id">func</span> <span class="id">cp_part</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>::<span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK0</span>: <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_part">cp_part</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DEFMAP</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_part">cp_part</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7307')">Proof.</div>
<div class="proofscript" id="proof7307">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Linking.html#link">link</a></span> <span class="id">cp</span> <span class="id">cp_part</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">cp_link</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">cps</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_cons_inv">link_list_cons_inv</a></span>. <span class="tactic">eapply</span> <span class="id">LINK</span>. <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">Eq</span>. <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_program">Linker_program</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#link_program">link_program</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_prog">Linker_prog</a></span>. <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Linking.html#link_prog_inv">link_prog_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>). <span class="tactic">intro</span> <span class="id">LINKSPEC</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">DEFS</span>: <span class="id"><a href="compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> <span class="id">p</span> = <span class="id"><a href="compcert.lib.Maps.html#PTree.elements">PTree.elements</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp</span>) (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp_part</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">clarify</span>; <span class="id">ss</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">DEFREL</span>: <span class="kwd">forall</span> <span class="id">id</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">p</span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp</span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp_part</span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree_Properties.of_list_elements">PTree_Properties.of_list_elements</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">DEFREL</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_prog_merge">link_prog_merge</a></span> <span class="kwd">in</span> <span class="id">DEFMAP</span>. <span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">LINKSPEC0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_def">Linker_def</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Linking.html#link_def">link_def</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_fundef">Linker_fundef</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#link_fundef">link_fundef</a></span> <span class="kwd">in</span> <span class="id">Heq4</span>. <span class="id">des_ifs</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="same_prog_aux">same_prog_aux</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cp</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">cps</span> <span class="id">cp_link</span> <span class="id">id</span> (<span class="id">if_sig</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#function">function</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">if_sig0</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig0">if_sig0</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7308')">Proof.</div>
<div class="proofscript" id="proof7308">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">DMAP</span>. <span class="id">revert</span> <span class="id">LINK</span>. <span class="id">revert</span> <span class="id">FOC</span>. <span class="id">revert</span> <span class="id">if_sig</span>. <span class="id">revert</span> <span class="id">id</span>. <span class="id">revert</span> <span class="id">cp_link</span>. <span class="id">revert</span> <span class="id">cp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">cps</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">destruct</span> <span class="id">cps</span> <span class="kwd">as</span> [|<span class="id">cp</span>' <span class="id">cps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>; <span class="id">clarify</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> <span class="id">LINK</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_cons_inv">link_list_cons_inv</a></span>; <span class="tactic">eauto</span>. <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">FOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id">cp</span> = <span class="id">cp</span>) <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#internal_link_internal">internal_link_internal</a></span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id">cp</span>). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHcps</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#internal_link_internal">internal_link_internal</a></span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">restl</span>). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="same_prog_aux1">same_prog_aux1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cp1</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">cp2</span> <span class="id">cps</span> <span class="id">cp_link</span> <span class="id">id</span> <span class="id">func1</span> <span class="id">func2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC1</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC2</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP1</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func1">func1</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP2</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func2">func2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NEQ</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp1">cp1</a></span> &lt;&gt; <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7309')">Proof.</div>
<div class="proofscript" id="proof7309">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">NEQ</span>. <span class="id">revert</span> <span class="id">DMAP1</span>. <span class="id">revert</span> <span class="id">DMAP2</span>. <span class="id">revert</span> <span class="id">LINK</span>. <span class="id">revert</span> <span class="id">FOC1</span>. <span class="id">revert</span> <span class="id">FOC2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">func1</span>. <span class="id">revert</span> <span class="id">func2</span>. <span class="id">revert</span> <span class="id">id</span>. <span class="id">revert</span> <span class="id">cp_link</span>. <span class="id">revert</span> <span class="id">cp1</span>. <span class="id">revert</span> <span class="id">cp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">cps</span>; <span class="id">ss</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">cps</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_cons_inv">link_list_cons_inv</a></span>; <span class="tactic">eauto</span>; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog_aux">same_prog_aux</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">TL</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#internal_link_false">internal_link_false</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">cps</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_cons_inv">link_list_cons_inv</a></span>; <span class="tactic">eauto</span>; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog_aux">same_prog_aux</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">TL</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#internal_link_false">internal_link_false</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">cps</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_cons_inv">link_list_cons_inv</a></span>; <span class="tactic">eauto</span>; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHcps</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#LINKLEMMAS">LINKLEMMAS</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.cp_link">cp_link</a></span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.cps">cps</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.ctx">ctx</a></span>: <span class="id"><a href="compcert.compcertm.Syntax.html#program">Syntax.program</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.FOCUS">FOCUS</a></span>: <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.prog_src">prog_src</a></span> := <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ctx">ctx</a></span> ++ [<span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.(<span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span>)].<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.prog_tgt">prog_tgt</a></span> := <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ctx">ctx</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.sk_link">sk_link</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.t">Sk.t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.skenv_link">skenv_link</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.t">SkEnv.t</a></span> := (<span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.load_skenv">Sk.load_skenv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.sk_link">sk_link</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> (<span class="id"><a name="PRESERVATION.LINKSRC">LINKSRC</a></span>: <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.sk_link">sk_link</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Notation</span> " '<span class="id">geof</span>' <span class="id">cp</span>" := (<span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">Build_genv</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">cp</span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>)) <span class="id">cp</span>) <span class="id">cp</span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">at</span> <span class="id">level</span> 50, <span class="id">no</span> <span class="id">associativity</span>, <span class="id">only</span> <span class="id">parsing</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.ge_cp_link">ge_cp_link</a></span>: <span class="id"><a href="compcert.cfrontend.Csem.html#genv">genv</a></span> := <span class="id">geof</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WTPROGLINK">WTPROGLINK</a></span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_program">wt_program</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WTSKLINK">WTSKLINK</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.wf">Sk.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.(<span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WTPROGS">WTPROGS</a></span>: <span class="kwd">forall</span> <span class="id">cp</span> (<span class="id">IN</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span>), <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_program">wt_program</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WTSKS">WTSKS</a></span>: <span class="kwd">forall</span> <span class="id">cp</span> (<span class="id">IN</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span>), <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.wf">Sk.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>.(<span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WT_EXTERNALLINK">WT_EXTERNALLINK</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#args">args</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#res">res</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cc">cc</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vargs">vargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vres">vres</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_retval">wt_retval</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vres">vres</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#res">res</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WT_EXTERNALS">WT_EXTERNALS</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cp</span> (<span class="id">IN</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span> <span class="id">vargs</span> <span class="id">m</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#args">args</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#res">res</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cc">cc</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vargs">vargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m">m</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vres">vres</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_retval">wt_retval</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vres">vres</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#res">res</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="is_focus">is_focus</a></span> (<span class="id">cp</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>): <span class="kwd">Prop</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.builtins">builtins</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#ident">ident</a></span> * <span class="id"><a href="compcert.common.AST.html#globdef">globdef</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#fundef">Ctypes.fundef</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#function">function</a></span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.BINCLLINK">BINCLLINK</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.builtins">builtins</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.BINTERNALLINK">BINTERNALLINK</a></span>: <span class="kwd">forall</span> <span class="id">id</span> <span class="id">fd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fd">fd</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="compcert.compcertm.ASTC.html#is_external_fd">is_external_fd</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fd">fd</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fd">fd</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.builtins">builtins</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.BINCL">BINCL</a></span>: <span class="kwd">forall</span> <span class="id">cp</span>, <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.builtins">builtins</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.BINTERNAL">BINTERNAL</a></span>: <span class="kwd">forall</span> <span class="id">cp</span> (<span class="id">IN</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id">id</span> <span class="id">fd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fd">fd</a></span>) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="compcert.compcertm.ASTC.html#is_external_fd">is_external_fd</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fd">fd</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fd">fd</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.builtins">builtins</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.CSTYLE_EXTERN_LINK">CSTYLE_EXTERN_LINK</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id">ty</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">Ctypes.External</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cc">cc</a></span>))) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span>.(<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span>).(<span class="id"><a href="compcert.common.AST.html#sig_cstyle">sig_cstyle</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.CSTYLE_EXTERN">CSTYLE_EXTERN</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ef</span> <span class="id">tyargs</span> <span class="id">ty</span> <span class="id">cc</span> <span class="id">cp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span>, (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">Ctypes.External</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tyargs">tyargs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cc">cc</a></span>))) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#ef">ef</a></span>.(<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span>).(<span class="id"><a href="compcert.common.AST.html#sig_cstyle">sig_cstyle</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.INCL">INCL</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.includes">SkEnv.includes</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7310')">Proof.</div>
<div class="proofscript" id="proof7310">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.SemProps.html#link_includes">link_includes</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">prog_src</span>. <span class="id">instantiate</span> (1 := (<span class="id"><a href="compcert.compcertm.CsemC.html#module">module</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>. <span class="id">ss</span>. <span class="tactic">auto</span>. <span class="id">ss</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.LINKTGT">LINKTGT</a></span>: <span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.sk_link">sk_link</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7311')">Proof.</div>
<div class="proofscript" id="proof7311">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#link_sk_match">UpperBound_AExtra.link_sk_match</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">prog_tgt</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>: <span class="kwd">forall</span> <span class="id">pgm</span>, <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.includes">SkEnv.includes</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7312')">Proof.</div>
<div class="proofscript" id="proof7312">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.SemProps.html#link_includes">link_includes</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">prog_tgt</span>. <span class="id">instantiate</span> (1 := (<span class="id"><a href="compcert.compcertm.CsemC.html#module">module</a></span> <span class="id">pgm</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> *. <span class="id">r</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">esplits</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.sum_cont">sum_cont</a></span> := <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#sum_cont">sum_cont</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.sk_link">sk_link</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_focus">match_focus</a></span>: <span class="id"><a href="compcert.compcertm.Sem.html#Frame.t">Frame.t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.t">Frame.t</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_focus_cons_right">match_focus_cons_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cst_src</span> <span class="id">cst_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tl_tgt</span> <span class="id">k_tl_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SUM</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.sum_cont">sum_cont</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tl_tgt">tl_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#k_tl_tgt">k_tl_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ST</span>: <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#match_focus_state">match_focus_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cst_src">cst_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cst_tgt">cst_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#k_tl_tgt">k_tl_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOCUS</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTSRC</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ge_cp_link">ge_cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cst_src">cst_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTTGT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> (<span class="id">geof</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cst_tgt">cst_tgt</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus">match_focus</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.mk">Frame.mk</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cst_src">cst_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="compcert.compcertm.Sem.html#Frame.mk">Frame.mk</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cst_tgt">cst_tgt</a></span>) :: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tl_tgt">tl_tgt</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="match_focus_nonnil">match_focus_nonnil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fr</span> <span class="id">frs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FC</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus">match_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fr">fr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs">frs</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">NONNIL</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs">frs</a></span> &lt;&gt; []&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7313')">Proof.</div>
<div class="proofscript" id="proof7313">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FC</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_stacks">match_stacks</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.t">Frame.t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.t">Frame.t</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stacks_nil">match_stacks_nil</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> [] []<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stacks_cons_ctx">match_stacks_cons_ctx</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tail_src</span> <span class="id">tail_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TAIL</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_src">tail_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_tgt">tail_tgt</a></span>) <span class="id">hd</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#hd">hd</a></span> :: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_src">tail_src</a></span>) (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#hd">hd</a></span> :: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_tgt">tail_tgt</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stacks_focus">match_stacks_focus</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tail_src</span> <span class="id">tail_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TAIL</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_src">tail_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_tgt">tail_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hd_src</span> <span class="id">hds_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">HD</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus">match_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#hd_src">hd_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#hds_tgt">hds_tgt</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#hd_src">hd_src</a></span> :: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_src">tail_src</a></span>) (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#hds_tgt">hds_tgt</a></span> ++ <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tail_tgt">tail_tgt</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="match_stacks_right_nil">match_stacks_right_nil</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">frs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STK</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs">frs</a></span> []) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">NIL</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs">frs</a></span> = []&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7314')">Proof.</div>
<div class="proofscript" id="proof7314">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">hds_tgt</span>, <span class="id">tail_tgt</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus_nonnil">match_focus_nonnil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span> : <span class="id"><a href="compcert.compcertm.Sem.html#state">Sem.state</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Sem.html#state">Sem.state</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_normal">match_states_normal</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">frs_src</span> <span class="id">frs_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STK</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_call">match_states_call</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">frs_src</span> <span class="id">frs_tgt</span> <span class="id">args</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STK</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks">match_stacks</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#args">args</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Callstate">Callstate</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#args">args</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="init_fsim">init_fsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INIT</span>: <span class="id"><a href="compcert.compcertm.Sem.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_init_src">st_init_src</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">i0</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) <span class="id">st_init_tgt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">INIT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dinitial_state">Dinitial_state</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MATCH</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7315')">Proof.</div>
<div class="proofscript" id="proof7315">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span>, <span class="id">st_init_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INIT</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;init&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="tactic">subst</span> <span class="id">prog_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#link_sk_match">UpperBound_AExtra.link_sk_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_src">prog_src</a></span> <span class="kwd">in</span> <span class="id">WF</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_tgt">prog_tgt</a></span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">IN</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">WF</span>; <span class="id">et</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;dtm&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">INIT0</span>; <span class="id">inv</span> <span class="id">INIT1</span>; <span class="id">ss</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#link_sk_match">link_sk_match</a></span>; <span class="id">i</span>. <span class="id">des</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INIT</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="final_bsim">final_bsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">retv</span> <span class="id">frs_src</span> <span class="id">frs_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.compcertm.Sem.html#final_state">final_state</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINAL</span>: <span class="id"><a href="compcert.compcertm.Sem.html#final_state">final_state</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#retv">retv</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7316')">Proof.</div>
<div class="proofscript" id="proof7316">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">inv</span> <span class="id">FINAL</span>. <span class="id">inv</span> <span class="id">MATCH</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks_right_nil">match_stacks_right_nil</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">LEN</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus_nonnil">match_focus_nonnil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">hds_tgt</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">tail_tgt</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">xomega</span>. <span class="tactic">destruct</span> <span class="id">hds_tgt</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks_right_nil">match_stacks_right_nil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>. <span class="id">inv</span> <span class="id">HD</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">SUM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FINAL0</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">ST</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="final_fsim">final_fsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">retv</span> <span class="id">frs_src</span> <span class="id">frs_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.compcertm.Sem.html#final_state">final_state</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_src">frs_src</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#retv">retv</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DFINAL</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dfinal_state">Dfinal_state</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#frs_tgt">frs_tgt</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#retv">retv</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7317')">Proof.</div>
<div class="proofscript" id="proof7317">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINAL</span>. <span class="id">inv</span> <span class="id">MATCH</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">TAIL</span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">TAIL</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">HD</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">FINAL0</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">ST</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexpl</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#app_cont_kstop_inv">app_cont_kstop_inv</a></span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexpl</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#sum_cont_kstop_inv">sum_cont_kstop_inv</a></span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">FINAL0</span>; <span class="id">inv</span> <span class="id">FINAL1</span>; <span class="id">ss</span>. <span class="id">determ_tac</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.final_frame_dtm">ModSem.final_frame_dtm</a></span>. <span class="tactic">rewrite</span> <span class="id">INT</span> <span class="kwd">in</span> *. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FINAL</span>. <span class="id">inv</span> <span class="id">MATCH</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">TAIL</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">ModSem.tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">TAIL</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_nil_r">app_nil_r</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">FINAL0</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">ss</span>; <span class="id">ModSem.tac</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION.WTMODULE">WTMODULE</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WTMODULE.WFSRC">WFSRC</a></span>: <span class="kwd">forall</span> <span class="id">md</span> : <span class="id"><a href="compcert.compcertm.Mod.html#Mod.t">Mod.t</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#md">md</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.wf">Sk.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#md">md</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.WTMODULE.WFTGT">WFTGT</a></span>: <span class="kwd">forall</span> <span class="id">md</span> : <span class="id"><a href="compcert.compcertm.Mod.html#Mod.t">Mod.t</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#md">md</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.wf">Sk.wf</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#md">md</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="id_in_prog">id_in_prog</a></span> (<span class="id">prog</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">id</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog">prog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7318')">Proof.</div>
<div class="proofscript" id="proof7318">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span>, <span class="id"><a href="compcert.common.AST.html#ident_eq">ident_eq</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id">prog</span>); <span class="id">ss</span>; <span class="id">des_ifs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="id_not_in_prog">id_not_in_prog</a></span> (<span class="id">prog</span>:<span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">id</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="compcert.compcertm.ASTC.html#defs">defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog">prog</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> &lt;-&gt; ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog">prog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7319')">Proof.</div>
<div class="proofscript" id="proof7319">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id_in_prog">id_in_prog</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="not_prog_defmap_spec">not_prog_defmap_spec</a></span> <span class="id">F</span> <span class="id">V</span> <span class="id">p</span> <span class="id">id</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> (<span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#p">p</a></span>) &lt;-&gt; ~ (<span class="id">exists</span> <span class="id">g</span> : <span class="id"><a href="compcert.common.AST.html#globdef">globdef</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#F">F</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#V">V</a></span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#p">p</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#g">g</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7320')">Proof.</div>
<div class="proofscript" id="proof7320">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#not">not</a></span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">des</span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.ASTC.html#prog_defmap_spec">prog_defmap_spec</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">des</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="cp_link_precise">cp_link_precise</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.genv_precise">SkEnv.genv_precise</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7321')">Proof.</div>
<div class="proofscript" id="proof7321">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSkEnv.project_revive_precise">CSkEnv.project_revive_precise</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="is_focus_precise">is_focus_precise</a></span> <span class="id">pgm</span> (<span class="id">FOCUS1</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.genv_precise">SkEnv.genv_precise</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7322')">Proof.</div>
<div class="proofscript" id="proof7322">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSkEnv.project_revive_precise">CSkEnv.project_revive_precise</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="defmap_with_signature_rev">defmap_with_signature_rev</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp</span> <span class="id">gd</span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#gd">gd</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">g</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#g">g</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7323')">Proof.</div>
<div class="proofscript" id="proof7323">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id">cp</span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">DMAP</span> <span class="kwd">in</span> *. <span class="id">clarify</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="defmap_with_signature_rev_internal">defmap_with_signature_rev_internal</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp</span> <span class="id">if_sig</span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DMAP</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">if_sig0</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig0">if_sig0</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7324')">Proof.</div>
<div class="proofscript" id="proof7324">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id">cp</span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">DMAP</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.match_fundef">CtypesC.CSk.match_fundef</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">destruct</span> <span class="id">f1</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_def_exists_rev">prog_def_exists_rev</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp</span> <span class="id">fptr</span> <span class="id">if_sig</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERNAL</span> : <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">if_sig0</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig0">if_sig0</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7325')">Proof.</div>
<div class="proofscript" id="proof7325">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) ! <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hdefs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hsymb</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp</span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">Hdefmap</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#defmap_with_signature_rev_internal">defmap_with_signature_rev_internal</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">g</span>', (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">g</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_defmap_exists_rev">prog_defmap_exists_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">eauto</span>. } <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">if_sig0</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig0">if_sig0</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_program">Linker_program</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#link_program">link_program</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.common.Linking.html#Linker_prog">Linker_prog</a></span>. <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">r</span> <span class="kwd">in</span> <span class="id">FOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_linkorder">link_list_linkorder</a></span>; <span class="id">et</span>. <span class="tactic">intro</span> <span class="id">ORD</span>. <span class="id">r</span> <span class="kwd">in</span> <span class="id">ORD</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> <span class="id">ORD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">ORD</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">ORD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="compcert.compcertm.LinkingC2.html#Linker_program">Linker_program</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">rr</span> <span class="kwd">in</span> <span class="id">ORD0</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (@<span class="id"><a href="compcert.common.Linking.html#prog_defmap_linkorder">prog_defmap_linkorder</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#fundef">Ctypes.fundef</a></span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#function">function</a></span>) <span class="id"><a href="compcert.cfrontend.Ctypes.html#type">type</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">P</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">P0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature_internal">defmap_with_signature_internal</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">if_sig2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>. <span class="tactic">rewrite</span> <span class="id">Hdefs</span>. <span class="tactic">rewrite</span> <span class="id">Hsymb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#internals_linking">internals_linking</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_find_defs_revive_rev">prog_find_defs_revive_rev</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp</span> <span class="id">b</span> <span class="id">func</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FIND</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">func</span>', <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> <span class="id">func</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7326')">Proof.</div>
<div class="proofscript" id="proof7326">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">FIND</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">FIND</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">FIND</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp</span>)) <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">FIND</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp</span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) ! <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">GENVDEF</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMBSKENV</span>; <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#invert_symbol_lemma1">invert_symbol_lemma1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature">defmap_with_signature</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>. <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>. <span class="tactic">rewrite</span> <span class="id">GENVDEF</span>. <span class="tactic">rewrite</span> <span class="id">SYMBSKENV</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_defmap_exists_rev">prog_defmap_exists_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">func</span>'. <span class="id">des_ifs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature">defmap_with_signature</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#internals_linking">internals_linking</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> *; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL">INCL</a></span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature">defmap_with_signature</a></span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="id">i</span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_defmap_exists">prog_defmap_exists</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">id</span> <span class="id">func</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DEFMAP</span>: (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pgm</span>, <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span> /\ (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>) ! <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7327')">Proof.</div>
<div class="proofscript" id="proof7327">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">DEFMAP</span> <span class="id">FOCUS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">DEFMAP</span>. <span class="id">revert</span> <span class="id">FOCUS</span>. <span class="id">revert</span> <span class="id">func</span>. <span class="id">revert</span> <span class="id">id</span>. <span class="id">revert</span> <span class="id">cp_link</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cps">cps</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">destruct</span> <span class="id">l</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">exists</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list_cons_inv">link_list_cons_inv</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.FOCUS">FOCUS</a></span>. <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_defmap_exists_aux">prog_defmap_exists_aux</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.FOCUS">FOCUS</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exists</span> <span class="id">a</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHl</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pgm</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_def_same">prog_def_same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span> <span class="id">if_sig</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FIND</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">cp</span>, <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> /\ <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7328')">Proof.</div>
<div class="proofscript" id="proof7328">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">FIND</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_defmap_exists">prog_defmap_exists</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pgm</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMBSKENV</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> = <span class="id">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL">INCL</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMB</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">SYMBSKENV</span>. <span class="id">clarify</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">pgm</span>)) <span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;contradiction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMBSKENV</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> = <span class="id">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL">INCL</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMB</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">SYMBSKENV</span>. <span class="id">clarify</span>. } <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SYMBSKENV</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature">defmap_with_signature</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Heq0</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="prog_def_exists">prog_def_exists</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">if_sig</span> <span class="id">fptr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERNAL</span> : <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pgm</span>, <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span> /\ <span class="id">exists</span> <span class="id">sig</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.skenv">ModSem.skenv</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#pgm">pgm</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#sig">sig</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7329')">Proof.</div>
<div class="proofscript" id="proof7329">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) ! <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hdefs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hsymb</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">Hdefmap</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span>. <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>). <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>). <span class="id">instantiate</span> (1:= <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MAPREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g0</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">Hdefmap</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">Hdefmap</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_defmap_exists">prog_defmap_exists</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pgm</span>. <span class="id">splits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus_precise">is_focus_precise</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">P2GE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b0</span> = <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">SYMB</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_key_spec">MapsC.PTree_filter_key_spec</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">DEF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="tactic">rewrite</span> <span class="id">Hdefs</span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="tactic">rewrite</span> <span class="id">Hsymb</span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span>. <span class="id">instantiate</span> (1:=<span class="id">pgm</span>). <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>). <span class="id">instantiate</span> (1:= <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MAPREL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g1</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H5</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>. <span class="id">exists</span> <span class="id">s</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>. <span class="tactic">rewrite</span> <span class="id">Hdefs</span>. <span class="tactic">rewrite</span> <span class="id">Hsymb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span>. <span class="tactic">rewrite</span> <span class="id">Heq3</span>. <span class="tactic">simpl</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="find_fptr_owner_determ">find_fptr_owner_determ</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr</span> <span class="id">ms0</span> <span class="id">ms1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FIND0</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms0">ms0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FIND1</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms1">ms1</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms0">ms0</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms1">ms1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7330')">Proof.</div>
<div class="proofscript" id="proof7330">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#find_fptr_owner_determ">SemProps.find_fptr_owner_determ</a></span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="same_prog">same_prog</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp2</span> <span class="id">cp_top</span> <span class="id">blk</span> <span class="id">if_sig1</span> <span class="id">if_sig2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC1</span> : <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC2</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_top">cp_top</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERNAL1</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_top">cp_top</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#blk">blk</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig1">if_sig1</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INTERNAL2</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#blk">blk</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig2">if_sig2</a></span>))) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp2">cp2</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_top">cp_top</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7331')">Proof.</div>
<div class="proofscript" id="proof7331">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMBSKENV</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp2</span>)) <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMB1</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DEFMAP1</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp2</span>) ! <span class="id">i0</span>) <span class="id">eqn</span>:<span class="id">DEFMAP2</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> = <span class="id">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#invert_symbol_lemma1">invert_symbol_lemma1</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">SYMB1</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">i0</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#defmap_with_signature_rev_internal">defmap_with_signature_rev_internal</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H</span> <span class="id">DEFMAP2</span> <span class="id">FOCUS</span> <span class="id">FOC1</span> <span class="id">FOC2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">cp2</span> = <span class="id">cp_top</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="kwd">in</span> *. <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog_aux1">same_prog_aux1</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="msfind_fsim">msfind_fsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr</span> <span class="id">ms</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms">ms</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms">ms</a></span>&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">cp</span>, (&lt;&lt;<span class="id">ISFOCSRC</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms">ms</a></span> = <span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">ISFOCTGT</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)&gt;&gt;)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7332')">Proof.</div>
<div class="proofscript" id="proof7332">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">MSFIND</span>. <span class="id">ss</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">clarify</span>. <span class="id">left</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">ss</span>. <span class="id">left</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#load_modsems">load_modsems</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> *. <span class="id">des</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_src">prog_src</a></span> <span class="kwd">in</span> <span class="id">MODSEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> *. <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">ss</span>. <span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">esplits</span>; <span class="id">et</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_tgt">prog_tgt</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">left</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) ! <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hdefs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hsymb</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_internals">CSk.of_program_internals</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">Hdefmap</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span>. <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>). <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>). <span class="id">instantiate</span> (1:= <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MAPREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g0</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">Hdefmap</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">Hdefmap</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_defmap_exists">prog_defmap_exists</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pgm</span>. <span class="id">splits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus_precise">is_focus_precise</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">P2GE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b0</span> = <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">SYMB</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_key_spec">MapsC.PTree_filter_key_spec</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">DEF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">DEF</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="tactic">rewrite</span> <span class="id">Hdefs</span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="tactic">rewrite</span> <span class="id">Hsymb</span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span>. <span class="id">instantiate</span> (1:=<span class="id">pgm</span>). <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>). <span class="id">instantiate</span> (1:= <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MAPREL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g1</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MAPREL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">Heq3</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H5</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">right</span>. <span class="tactic">subst</span> <span class="id">prog_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.CsemC.html#module">module</a></span> <span class="id">pgm</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#flip">flip</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>; <span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>. <span class="tactic">rewrite</span> <span class="id">Hdefs</span>. <span class="tactic">rewrite</span> <span class="id">Hsymb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span>. <span class="tactic">rewrite</span> <span class="id">Heq3</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="msfind_bsim">msfind_bsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr</span> <span class="id">ms</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms">ms</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms">ms</a></span>&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((&lt;&lt;<span class="id">MSFIND</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#fptr">fptr</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">exists</span> <span class="id">cp</span>, (&lt;&lt;<span class="id">ISFOCSRC</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ms">ms</a></span> = <span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">ISFOCTGT</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>&gt;&gt;)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7333')">Proof.</div>
<div class="proofscript" id="proof7333">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">MSFIND</span>. <span class="id">ss</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">clarify</span>. <span class="id">left</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">ss</span>. <span class="id">left</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#load_modsems">load_modsems</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> *. <span class="id">des</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_tgt">prog_tgt</a></span> <span class="kwd">in</span> <span class="id">MODSEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> *. <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">ss</span>. <span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">esplits</span>; <span class="id">et</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_src">prog_src</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">left</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#flip">flip</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">et</span>; <span class="id">rr</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_def_exists_rev">prog_def_exists_rev</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span>. <span class="tactic">auto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>). <span class="id">ss</span>. <span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_src">prog_src</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">right</span>; <span class="id">ss</span>. <span class="id">left</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="preservation_cp_link">preservation_cp_link</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ge_cp_link">ge_cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st0">st0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ge_cp_link">ge_cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st1">st1</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">WT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ge_cp_link">ge_cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st1">st1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7334')">Proof.</div>
<div class="proofscript" id="proof7334">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#preservation">preservation</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">STEP</span>; <span class="tactic">try</span> <span class="id">refl</span>; <span class="id">et</span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link_precise">cp_link_precise</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">red</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ge_cp_link">ge_cp_link</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">GE2P</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMB</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMB0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">SYMB</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">exploit</span> <span class="id">P2GE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">exploit</span> <span class="id">GE2P</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ge_cp_link">ge_cp_link</a></span>. <span class="id">ss</span>. <span class="id">exists</span> <span class="id">id</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="preservation_cp_focus">preservation_cp_focus</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cp</span> <span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FOC</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> (<span class="id">geof</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st0">st0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#step">Csem.step</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id">geof</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st1">st1</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">WT</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span> (<span class="id">geof</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st1">st1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7335')">Proof.</div>
<div class="proofscript" id="proof7335">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus_precise">is_focus_precise</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">r</span> <span class="kwd">in</span> <span class="id">FOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#preservation">preservation</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">STEP</span>; <span class="tactic">try</span> <span class="id">refl</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">GE2P</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMB</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMB0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">SYMB</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">exploit</span> <span class="id">P2GE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">exploit</span> <span class="id">GE2P</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="alloc_variable_dtm">alloc_variable_dtm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">genv</span> <span class="id">e</span> <span class="id">m0</span> <span class="id">l</span> <span class="id">e1</span> <span class="id">m3</span> <span class="id">e2</span> <span class="id">m5</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ALLOC1</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#genv">genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#l">l</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e1">e1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m3">m3</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ALLOC2</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#alloc_variables">alloc_variables</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#genv">genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e">e</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#l">l</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e2">e2</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m5">m5</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#e1">e1</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e2">e2</a></span> /\ <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m3">m3</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m5">m5</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7336')">Proof.</div>
<div class="proofscript" id="proof7336">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">ALLOC1</span> <span class="id">ALLOC2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">ALLOC1</span>. <span class="id">revert</span> <span class="id">ALLOC2</span>. <span class="id">revert</span> <span class="id">m5</span>. <span class="id">revert</span> <span class="id">e2</span>. <span class="id">revert</span> <span class="id">m3</span>. <span class="id">revert</span> <span class="id">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">m0</span>. <span class="id">revert</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">ALLOC1</span>; <span class="id">inv</span> <span class="id">ALLOC2</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">ALLOC1</span>; <span class="id">inv</span> <span class="id">ALLOC2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHl</span>. <span class="tactic">eapply</span> <span class="id">H6</span>. <span class="tactic">eapply</span> <span class="id">H9</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">subst</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="assign_loc_dtm">assign_loc_dtm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">senv</span> <span class="id">genv</span> <span class="id">ty</span> <span class="id">m3</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v1</span> <span class="id">tr</span> <span class="id">m1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#senv">senv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#genv">genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m3">m3</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#v1">v1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span>, <span class="id"><a href="compcert.cfrontend.Csem.html#assign_loc">assign_loc</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#senv">senv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#genv">genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ty">ty</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m3">m3</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#v1">v1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m0">m0</a></span> -&gt; <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m1">m1</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m0">m0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7337')">Proof.</div>
<div class="proofscript" id="proof7337">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">m0</span> <span class="id">EV</span>; <span class="id">inv</span> <span class="id">EV</span>; <span class="tactic">f_equal</span>; <span class="id">Eq</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">H1</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H4</span>. <span class="id">revert</span> <span class="id">m0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H1</span>; <span class="tactic">intros</span> <span class="id">m0</span> <span class="id">EV</span>; <span class="id">inv</span> <span class="id">EV</span>; <span class="tactic">f_equal</span>; <span class="id">Eq</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="bind_param_dtm">bind_param_dtm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">senv</span> <span class="id">genv</span> <span class="id">e1</span> <span class="id">m3</span> <span class="id">l</span> <span class="id">vs_arg</span> <span class="id">m4</span> <span class="id">m6</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BPARAM1</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#senv">senv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#genv">genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e1">e1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m3">m3</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#l">l</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vs_arg">vs_arg</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m4">m4</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BPARAM2</span>: <span class="id"><a href="compcert.cfrontend.Csem.html#bind_parameters">bind_parameters</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#senv">senv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#genv">genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#e1">e1</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m3">m3</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#l">l</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#vs_arg">vs_arg</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m6">m6</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.UpperBound_A.html#m4">m4</a></span> = <span class="id"><a href="compcert.compcertm.UpperBound_A.html#m6">m6</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7338')">Proof.</div>
<div class="proofscript" id="proof7338">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> -<span class="id">BPARAM1</span> <span class="id">BPARAM2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">BPARAM1</span>. <span class="id">revert</span> <span class="id">BPARAM2</span>. <span class="id">revert</span> <span class="id">m4</span>. <span class="id">revert</span> <span class="id">m6</span>. <span class="id">revert</span> <span class="id">vs_arg</span>. <span class="id">revert</span> <span class="id">m3</span>. <span class="id">revert</span> <span class="id">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">BPARAM1</span>. <span class="id">inv</span> <span class="id">BPARAM2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">BPARAM1</span>. <span class="id">inv</span> <span class="id">BPARAM2</span>. <span class="tactic">auto</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#assign_loc_dtm">assign_loc_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">H3</span>. <span class="tactic">eapply</span> <span class="id">H10</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHl</span>. <span class="tactic">eapply</span> <span class="id">H6</span>. <span class="tactic">eapply</span> <span class="id">H11</span>. <span class="id">i</span>. <span class="tactic">eauto</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="match_xsim">match_xsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_tgt0">st_tgt0</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#st_tgt0">st_tgt0</a></span>&gt;&gt;<br/>
&nbsp;&nbsp;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7339')">Proof.</div>
<div class="proofscript" id="proof7339">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert_until</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.sum_cont">sum_cont</a></span>. <span class="id">revert</span> <span class="id">INCL_FOCUS</span> <span class="id">INCL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pcofix</span> <span class="id">CIH</span>. <span class="id">i</span>. <span class="id">pfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">LINKSRC</span>. <span class="id">sguard</span> <span class="kwd">in</span> <span class="id">LINKSRC</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;normal&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">frs_src</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">STK</span>. <span class="id">left</span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">STEPSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">econs</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">FINAL0</span>; <span class="id">inv</span> <span class="id">FINAL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">FINAL</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">t</span> <span class="id">into</span> <span class="id">fr_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">frs_tgt</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks_right_nil">match_stacks_right_nil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">t</span> <span class="id">into</span> <span class="id">fr_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">fr_tgt</span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span>).(<span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_call">ModSem.is_call</a></span>) <span class="id">fr_tgt</span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;tgt&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;fsim&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="id">right</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#final_fsim">final_fsim</a></span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">fr_src</span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span>).(<span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_call">ModSem.is_call</a></span>) <span class="id">fr_src</span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;src&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">unsguard</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> <span class="id">STEPSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPSRC</span>; <span class="id">ss</span>; <span class="id">ModSem.tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;receptiveness&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ModSem.tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">eexists</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_call">step_call</a></span>. <span class="id">instantiate</span> (1:=<span class="id">args</span>). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ModSem.tac</span>. <span class="id">ss</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;determ&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">ModSem.tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.at_external_dtm">ModSem.at_external_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">AT0</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">assert</span> (<span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_step">ModSem.is_step</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_tgt</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_tgt</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_step">ModSem.is_step</a></span>. <span class="id">ss</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.call_step_disjoint">ModSem.call_step_disjoint</a></span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.call_return_disjoint">ModSem.call_return_disjoint</a></span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">FINAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.call_return_disjoint">ModSem.call_return_disjoint</a></span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.call_step_disjoint">ModSem.call_step_disjoint</a></span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sguard</span> <span class="kwd">in</span> <span class="id">LINKSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>. <span class="id">des</span>. <span class="id">clarify</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AT</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ST</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link_precise">cp_link_precise</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">EXTERNAL</span>. <span class="tactic">destruct</span> <span class="id">fptr_arg</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id">i</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> <span class="id">EXTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;None&nbsp;or&nbsp;Gvar&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>. <span class="id">des_ifs</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">Heq</span>, <span class="id">Heq0</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp</span>)) <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SYMB0</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>, <span class="id">Heq0</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp</span>) ! <span class="id">i0</span>) <span class="id">eqn</span>:<span class="id">DMAP0</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> = <span class="id">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMB</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature">defmap_with_signature</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP0</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#defmap_with_signature">defmap_with_signature</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_defmap_exists_rev">prog_defmap_exists_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_find_defs_revive_rev">prog_find_defs_revive_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;src&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">unsguard</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> <span class="id">STEPSRC</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPSRC</span>; <span class="id">ss</span>; <span class="id">ModSem.tac</span>; <span class="id">swap</span> 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exfalso</span>. <span class="id">contradict</span> <span class="id">H0</span>. <span class="id">rr</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exfalso</span>. <span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">FINAL</span> <span class="id">ST</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">FINAL</span>; <span class="id">inv</span> <span class="id">ST</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">dup</span> <span class="id">H</span>. <span class="tactic">rename</span> <span class="id">H1</span> <span class="id">into</span> <span class="id">ISCALLTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sguard</span> <span class="kwd">in</span> <span class="id">LINKSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">ST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">STEP</span>. <span class="id">des</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">ss</span>). <span class="id">folder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>(<span class="id"><a href="compcert.common.AST.html#is_external_ef">is_external_ef</a></span> <span class="id">ef</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSkEnv.project_revive_no_external">CSkEnv.project_revive_no_external</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#skenv_link">skenv_link</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.load_skenv_wf">SkEnv.load_skenv_wf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#link_list_preserves_wf_sk">link_list_preserves_wf_sk</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#incl">incl</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">ISCALLTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">ss</span>. <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">b</span>)) <span class="id">eqn</span>:<span class="id">SYMB</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">i</span>, (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span>))) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="kwd">in</span> <span class="id">DMAP</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree_Properties.in_of_list">PTree_Properties.in_of_list</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp</span>) ! <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#External">External</a></span> <span class="id">ef</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.BINTERNALLINK">BINTERNALLINK</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.BINCL">BINCL</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.WTMODULE.WFTGT">WFTGT</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.CsemC.html#module">module</a></span> <span class="id">cp</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_tgt">prog_tgt</a></span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_or_app">in_or_app</a></span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap_norepet">prog_defmap_norepet</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.CoqlibC.html#NoDup_norepet">NoDup_norepet</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">NODUP</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defs_names">prog_defs_names</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id">cp</span>) <span class="kwd">as</span> <span class="id">l</span>. <span class="tactic">clear</span> <span class="id">Heql</span>. <span class="id">ginduction</span> <span class="id">l</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">NODUP</span>. <span class="id">ss</span>. <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="tactic">clear</span> -<span class="id">H</span>. <span class="id">ginduction</span> <span class="id">l</span>; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">des</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHl</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus_precise">is_focus_precise</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">P2GE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">ss</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">ef</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> <span class="id">EXTERNAL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">SKENV</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#invert_symbol_lemma2">invert_symbol_lemma2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">subst</span> <span class="id">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id">b0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:=<span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp</span>)) <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b0</span>) <span class="tactic">by</span> <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SKENV</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> *. <span class="id">Eq</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">DEF</span> <span class="kwd">in</span> <span class="id">EXTERNAL</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">TGTFIND</span>: <span class="id">exists</span> <span class="id">cp_top</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINDMS</span>: <span class="id"><a href="compcert.compcertm.Sem.html#Ge.find_fptr_owner">Ge.find_fptr_owner</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#load_genv">load_genv</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr_arg</span> (<span class="id"><a href="compcert.compcertm.CsemC.html#modsem">CsemC.modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_top">cp_top</a></span>)&gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">FOCUS</span>: <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_top">cp_top</a></span>&gt;&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">FPTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unsguard</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link_precise">cp_link_precise</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">GE2P</span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sguard</span> <span class="kwd">in</span> <span class="id">LINKSRC</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_defmap_exists">prog_defmap_exists</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>. <span class="id">exists</span> <span class="id">pgm</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id">pgm</span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">func</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">pgm</span>)) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#func">func</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.match_fundef">CtypesC.CSk.match_fundef</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">f2</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H4</span>. <span class="tactic">eauto</span>. } <span class="id">des</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span>. <span class="id">econs</span>. { <span class="id">ss</span>. <span class="id">right</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_tgt">prog_tgt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#load_modsems">load_modsems</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_append_map">list_append_map</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus">is_focus</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_map">map_map</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Basics.html#flip">flip</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.CsemC.html#module_obligation_1">CsemC.module_obligation_1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMB</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H10</span>. <span class="tactic">rewrite</span> <span class="id">PROG</span> <span class="kwd">in</span> *. <span class="id">clarify</span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H10</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">SIG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">SIG</span>. <span class="tactic">rewrite</span> <span class="id">SIG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H6</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H14</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ASTC.html#internals">internals</a></span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> <span class="id">SIG</span>, <span class="id">FPTR</span>. <span class="id">des_ifs</span>. <span class="tactic">rename</span> <span class="id">b</span> <span class="id">into</span> <span class="id">blk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">SYMB</span>: <span class="id">exists</span> <span class="id">id</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id">geof</span> <span class="id">cp_top</span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">blk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMBSKENV</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>. <span class="tactic">eapply</span> <span class="id">FOCUS1</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span>. <span class="id">ss</span>. } <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMBSKENV</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span> <span class="kwd">in</span> <span class="id">SYMBSKENV</span>. <span class="tactic">clear</span> <span class="id">INTERNAL</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_receptive_at">lift_receptive_at</a></span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H1</span>. <span class="id">eexists</span>. <span class="id">econs</span> 2. <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exfalso</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">Heq</span> <span class="kwd">in</span> <span class="id">FPTR</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span> <span class="kwd">with</span> (<span class="id">t1</span> := <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>) (<span class="id">t2</span> := <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_determinate_at">lift_determinate_at</a></span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">unsguard</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#alloc_variable_dtm">alloc_variable_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">H13</span>. <span class="tactic">eapply</span> <span class="id">H15</span>. <span class="id">i</span>. <span class="id">des_safe</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#bind_param_dtm">bind_param_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">H14</span>. <span class="tactic">eapply</span> <span class="id">H16</span>. <span class="id">i</span>. <span class="tactic">subst</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_match_traces">external_call_match_traces</a></span>. <span class="tactic">eapply</span> <span class="id">H12</span>. <span class="tactic">eapply</span> <span class="id">H11</span>. <span class="id">i</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_deterministic">external_call_deterministic</a></span>. <span class="tactic">eapply</span> <span class="id">H12</span>. <span class="tactic">eapply</span> <span class="id">H11</span>. <span class="id">i</span>. <span class="id">des</span>; <span class="tactic">subst</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two</a></span> <span class="kwd">with</span> (<span class="id">t1</span> := <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>) (<span class="id">t2</span> := <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">clarify</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#find_fptr_owner_determ">find_fptr_owner_determ</a></span>. <span class="tactic">eapply</span> <span class="id">FINDMS</span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#find_fptr_owner_determ">find_fptr_owner_determ</a></span>. <span class="tactic">eapply</span> <span class="id">MSFIND</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">subst</span> <span class="id">ms</span>. <span class="tactic">subst</span> <span class="id">ms0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">inv</span> <span class="id">INIT</span>; <span class="id">inv</span> <span class="id">INIT0</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">inv</span> <span class="id">FINAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 2; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>. <span class="id">folder</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">instantiate</span> (1:= <span class="id">f</span>). <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.  <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_def_same">prog_def_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog">same_prog</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">INTERNAL</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">WTSRC</span>. <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">WTTGT</span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">WTTGT</span>. <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">blk</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i0</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.WTSKLINK">WTSKLINK</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments">size_arguments</a></span> <span class="kwd">in</span> <span class="id">WFPARAM</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">INTERNAL</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">i0</span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">AST.Internal</a></span> (<span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">f</span>))) (<span class="id"><a href="compcert.common.AST.html#prog_defs">AST.prog_defs</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.AST.html#in_prog_defmap">in_prog_defmap</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (4 := <span class="id">i0</span>). <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>). <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>). <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">DMAP</span> <span class="kwd">in</span> *; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CopC.html#typlist_of_typelist_eq">typlist_of_typelist_eq</a></span>. <span class="tactic">eauto</span>. <span class="id">hexploit</span> <span class="id">WFPARAM</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">assert</span>(<span class="id">WTPROG</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_program">wt_program</a></span> <span class="id">cp_top</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">r</span> <span class="kwd">in</span> <span class="id">FOCUS1</span>. <span class="id">des</span>; <span class="id">clarify</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">bar</span>. <span class="id">inv</span> <span class="id">WTPROG</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">id</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hi</span>: <span class="id">i</span> = <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">blk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> <span class="kwd">in</span> <span class="id">SYMB</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H2</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">SYMBSKENV</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>. } <span class="tactic">subst</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Haux</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">id</span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>)) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id">cp_top</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMBLINK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> = <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL">INCL</a></span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBLINK</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H6</span>. <span class="id">i</span>. <span class="id">Eq</span>. <span class="tactic">auto</span>. } <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">id</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">id</span>) <span class="id">eqn</span>:<span class="id">DMAP0</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id">cp_top</span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">id</span>). <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">DMAP0</span> <span class="kwd">in</span> *; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.match_fundef">CtypesC.CSk.match_fundef</a></span> <span class="kwd">in</span> <span class="id">H11</span>. <span class="id">des_ifs</span>; <span class="id">clarify</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_defmap_same_rev">prog_defmap_same_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree_Properties.in_of_list">PTree_Properties.in_of_list</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">Haux</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_determinate_at">lift_determinate_at</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">unsguard</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#alloc_variable_dtm">alloc_variable_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">H15</span>. <span class="tactic">eapply</span> <span class="id">H17</span>. <span class="id">i</span>. <span class="id">des_safe</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#bind_param_dtm">bind_param_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">H16</span>. <span class="tactic">eapply</span> <span class="id">H18</span>. <span class="id">i</span>. <span class="tactic">subst</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_match_traces">external_call_match_traces</a></span>. <span class="tactic">eapply</span> <span class="id">H13</span>. <span class="tactic">eapply</span> <span class="id">H14</span>. <span class="id">i</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_deterministic">external_call_deterministic</a></span>. <span class="tactic">eapply</span> <span class="id">H13</span>. <span class="tactic">eapply</span> <span class="id">H14</span>. <span class="id">i</span>. <span class="id">des</span>; <span class="tactic">subst</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">i</span>. <span class="id">inv</span> <span class="id">FINAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="id">ss</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_trace_length">external_call_trace_length</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span> <span class="kwd">in</span> *. <span class="id">rpapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_internal">step_internal</a></span>; <span class="id">ss</span>; <span class="id">et</span>. <span class="id">rr</span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_def_same">prog_def_same</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">cp0</span> = <span class="id">cp_top</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog">same_prog</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">FOCUS1</span>. <span class="tactic">eapply</span> <span class="id">INTERNAL</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">auto</span>. } <span class="tactic">subst</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">unguardH</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#preservation_alloc">preservation_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">unguardH</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#preservation_bind_param">preservation_bind_param</a></span>; <span class="tactic">eauto</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 3; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>. <span class="id">inv</span> <span class="id">WTTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">WTKS</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">CLASSIFY</span>. <span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="tactic">clear</span> - <span class="id">WTYK</span>. <span class="id">des</span>. <span class="id">ss</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#preservation_cp_link">preservation_cp_link</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. <span class="id">des_ifs</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id">WTPROG</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_program">wt_program</a></span> <span class="id">cp_top</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">r</span> <span class="kwd">in</span> <span class="id">FOCUS1</span>. <span class="id">des</span>; <span class="id">clarify</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">bar</span>. <span class="id">inv</span> <span class="id">WTPROG</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">id</span> <span class="id">f</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hi</span>: <span class="id">i</span> = <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">blk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> <span class="kwd">in</span> <span class="id">SYMB</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H2</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">exploit</span> <span class="id">SYMBKEEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">SYMBSKENV</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">clarify</span>. } <span class="tactic">subst</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Haux</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">id</span>, <span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id">f</span>)) (<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_defs">prog_defs</a></span> <span class="id">cp_top</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>)) <span class="id">blk</span>) <span class="id">eqn</span>:<span class="id">SYMBLINK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> = <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL">INCL</a></span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_defs">CSk.of_program_defs</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBLINK</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">H6</span>. <span class="id">i</span>. <span class="id">Eq</span>. <span class="tactic">auto</span>. } <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">id</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">id</span>) <span class="id">eqn</span>:<span class="id">DMAP0</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id">cp_top</span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">id</span>). <span class="id">i</span>. <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">DMAP0</span> <span class="kwd">in</span> *; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.match_fundef">CtypesC.CSk.match_fundef</a></span> <span class="kwd">in</span> <span class="id">H11</span>. <span class="id">des_ifs</span>; <span class="id">clarify</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_defmap_same_rev">prog_defmap_same_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree_Properties.in_of_list">PTree_Properties.in_of_list</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">Haux</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="id">inv</span> <span class="id">FINDMS</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#preservation_cp_focus">preservation_cp_focus</a></span>; <span class="id">et</span>; <span class="id">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Csem.html#step_internal_function">step_internal_function</a></span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">blk</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>). <span class="id">ss</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_def_same">prog_def_same</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">cp0</span> = <span class="id">cp_top</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog">same_prog</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">FOCUS1</span>. <span class="tactic">eapply</span> <span class="id">INTERNAL</span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">auto</span>. } <span class="tactic">subst</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#preservation_alloc">preservation_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#preservation_bind_param">preservation_bind_param</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_find_defs_same_rev">prog_find_defs_same_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span>, <span class="id"><a href="compcert.compcertm.UpperBound_A.html#skenv_link">skenv_link</a></span> <span class="kwd">in</span> *. <span class="id">Eq</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">EXT</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">f</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) <span class="id">cp_top</span>) <span class="id">blk</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#f">f</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> <span class="id">INTERNAL</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">f</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) <span class="id">cp_top</span>) <span class="id">blk</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span>(<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#f">f</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">MapsC.PTree_filter_map_spec</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_invert_symbol">Genv.find_invert_symbol</a></span>. <span class="tactic">eapply</span> <span class="id">SYMBSKENV</span>. <span class="tactic">intros</span> <span class="id">INVSKENV</span>. <span class="tactic">rewrite</span> <span class="id">INVSKENV</span> <span class="kwd">in</span> <span class="id">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">Heq2</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) ! <span class="id">id</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program_prog_defmap">CSk.of_program_prog_defmap</a></span> <span class="id">cp_top</span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">DMAP</span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">if_sig</span>, (<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp_top</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#if_sig">if_sig</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">DMAP</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.match_fundef">CtypesC.CSk.match_fundef</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">f1</span>; <span class="tactic">destruct</span> <span class="id">f2</span>; <span class="tactic">eauto</span>; <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">H4</span>. } <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#is_focus_precise">is_focus_precise</a></span> <span class="id">_</span> <span class="id">FOCUS1</span>). <span class="id">exploit</span> <span class="id">P2GE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id">blk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp_top</span>)) <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> <span class="kwd">in</span> *; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project_impl_spec">SkEnv.project_impl_spec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.INCL_FOCUS">INCL_FOCUS</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">SYMBKEEP</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ASTC.html#defs_prog_defmap">defs_prog_defmap</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_find_symbol">Genv.invert_find_symbol</a></span>. <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H10</span> <span class="kwd">in</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H11</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_safe</span>. <span class="id">exists</span> <span class="id">f0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTTGT</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_safe</span>. <span class="id">specialize</span> (<span class="id">EXT</span> <span class="id">f0</span>). <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">EXT</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">WTTGT</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">WTTGT</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#type_of_function">type_of_function</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>. } } }<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">CALLLE</span>: <span class="kwd">forall</span> (<span class="id">CALLSRC</span>: <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_call">ModSem.is_call</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_src</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_src</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">CALLTGT</span>: <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_call">ModSem.is_call</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_tgt</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_tgt</span>)&gt;&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">inv</span> <span class="id">STK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">CALLSRC</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>; <span class="id">clarify</span>. <span class="tactic">inversion</span> <span class="id">ST</span>; <span class="id">ss</span>; <span class="id">clarify</span>; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">inv</span> <span class="id">CALLSRC</span>; <span class="id">inv</span> <span class="id">H0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">CALLSRC</span>. <span class="tactic">red</span>. <span class="id">ss</span>. <span class="id">econs</span>. <span class="id">ss</span>. <span class="id">instantiate</span> (1:= (<span class="id"><a href="compcert.compcertm.ModSem.html#Args.mk">Args.mk</a></span> <span class="id">fptr</span> <span class="id">vargs</span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTTGT</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">tyf</span> = (<span class="id"><a href="compcert.cfrontend.Ctypes.html#Tfunction">Tfunction</a></span> <span class="id">tyargs</span> <span class="id">tyres</span> <span class="id">cc</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Cop.html#classify_fun_strong">classify_fun_strong</a></span> <span class="kwd">in</span> <span class="id">CLASSIFY</span>. <span class="id">des_ifs</span>. } <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp</span>)) <span class="id">cp</span>) <span class="id">fptr</span>) <span class="id">eqn</span>:<span class="id">CPEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">CPEXT</span>, <span class="id">EXTERNAL</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">CPEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_find_defs_revive_rev">prog_find_defs_revive_rev</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="kwd">in</span> <span class="id">EXTERNAL</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">EXTERNAL</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.cfrontend.Csyntax.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="id">exploit</span> <span class="id">WTKS</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="id">Eq</span>.<br/>
<span class="id">i</span>. <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CsemC.html#is_call_cont_strong">is_call_cont_strong</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">NCALLTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">NCALLSRC</span>: ~ <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_call">ModSem.is_call</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_src</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_src</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">tauto</span>. }<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id">fr_tgt</span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span>).(<span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_return">ModSem.is_return</a></span>) <span class="id">fr_tgt</span>.(<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;tgt&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="id">right</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#final_fsim">final_fsim</a></span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">RECEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#receptive_at">receptive_at</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#State">State</a></span> (<span class="id">fr_src</span> :: <span class="id">frs_src</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">NCALLSRC</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.step_return_disjoint">ModSem.step_return_disjoint</a></span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">ss</span>. <span class="id">inv</span> <span class="id">HD</span>; <span class="id">clarify</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">ST</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">econs</span> 3. <span class="id">ss</span>. <span class="id">econs</span> 2. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">eexists</span>. <span class="id">econs</span> 4; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H0</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.step_return_disjoint">ModSem.step_return_disjoint</a></span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="id">inv</span> <span class="id">HD</span>; <span class="id">clarify</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">ST</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>. <span class="id">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPSRC</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NCALLSRC</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;src&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ModSem.tac</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>. <span class="id">clarify</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ST</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">STEP</span>. <span class="id">des</span>; <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SUM</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rr</span> <span class="kwd">in</span> <span class="id">CALL</span>. <span class="tactic">destruct</span> <span class="id">k0</span>; <span class="id">ss</span>. <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_ex">typify_c_ex</a></span> <span class="id">v_ret</span> <span class="id">_tres</span>). <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_two">plus_two</a></span> <span class="kwd">with</span> (<span class="id">t1</span> := <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>) (<span class="id">t2</span> := <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_determinate_at">lift_determinate_at</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 4; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_determinate_at">lift_determinate_at</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">ss</span>. <span class="id">nia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rpapply</span> <span class="id"><a href="compcert.compcertm.Sem.html#step_internal">step_internal</a></span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">right</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 3; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id">v_ret</span> = <span class="id">tv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTSRC</span>. <span class="id">inv</span> <span class="id">TYP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTK</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#preservation_cp_link">preservation_cp_link</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">WTTGT1</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id">cp0</span> (<span class="id">geof</span> <span class="id">cp0</span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">tv</span> (<span class="id"><a href="compcert.cfrontend.Csem.html#Kcall">Kcall</a></span> <span class="id">_f</span> <span class="id">_e</span> <span class="id">_C</span> <span class="id">_tres</span> <span class="id">_k</span>) (<span class="id">m_ret</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>; <span class="id">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_spec">typify_c_spec</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTTGT0</span>. <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTTGT0</span>. <span class="id">des_safe</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#preservation_cp_focus">preservation_cp_focus</a></span>; <span class="id">et</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;src&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STK</span>; <span class="id">ss</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;is&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>. <span class="id">clarify</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FINAL</span>. <span class="id">inv</span> <span class="id">ST</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#app_cont_kstop_inv">app_cont_kstop_inv</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#sum_cont_kstop_inv">sum_cont_kstop_inv</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">SUM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">tail_tgt</span> &lt;&gt; []).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TAIL</span>; <span class="id">ss</span>. <span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus_nonnil">match_focus_nonnil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">hds_tgt</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tail_tgt</span> <span class="kwd">as</span> [|<span class="id">fr_snd</span> <span class="id">frs_tgt</span>]; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TAIL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;snd&nbsp;is&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_determinate_at">lift_determinate_at</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 4; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;snd&nbsp;is&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus_nonnil">match_focus_nonnil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">destruct</span> <span class="id">hds_tgt</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AFTER</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">ST</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SemProps.html#lift_determinate_at">lift_determinate_at</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 4; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 3; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTSRC0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_spec">typify_c_spec</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id">WTTGT1</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id">cp0</span> (<span class="id">geof</span> <span class="id">cp0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">tv</span> <span class="id">k2</span> <span class="id">m_ret</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>; <span class="id">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_spec">typify_c_spec</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTTGT0</span>. <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTTGT0</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;top&nbsp;is&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id">frs_tgt</span> &lt;&gt; []).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TAIL</span>; <span class="id">ss</span>. <span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus_nonnil">match_focus_nonnil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">hds_tgt</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">frs_tgt</span> <span class="kwd">as</span> [|<span class="id">fr_snd</span> <span class="id">frs_tgt</span>]; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TAIL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;snd&nbsp;is&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">ModSem.tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.final_frame_dtm">ModSem.final_frame_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">FINAL1</span>. <span class="tactic">eapply</span> <span class="id">FINAL0</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.after_external_dtm">ModSem.after_external_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">AFTER0</span>. <span class="tactic">eapply</span> <span class="id">AFTER1</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">inv</span> <span class="id">FINAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="id">ModSem.tac</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">nia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 4; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;snd&nbsp;is&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus_nonnil">match_focus_nonnil</a></span>; <span class="id">et</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">destruct</span> <span class="id">hds_tgt</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AFTER</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">ST</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">left</span>. <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">ModSem.tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econs</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.final_frame_dtm">ModSem.final_frame_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">FINAL1</span>. <span class="tactic">eapply</span> <span class="id">FINAL0</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.after_external_dtm">ModSem.after_external_dtm</a></span>. <span class="tactic">eapply</span> <span class="id">AFTER</span>. <span class="tactic">eapply</span> <span class="id">AFTER0</span>. <span class="id">i</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">inv</span> <span class="id">FINAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="id">ModSem.tac</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">nia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 4; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_comm_cons">app_comm_cons</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 3; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id">WTSRC0</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.ge_cp_link">ge_cp_link</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">tv</span> (<span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#app_cont">app_cont</a></span> <span class="id">k2</span> <span class="id">k_tl_tgt</span>) (<span class="id"><a href="compcert.compcertm.ModSem.html#Retv.m">Retv.m</a></span> <span class="id">retv</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>; <span class="id">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_spec">typify_c_spec</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTSRC</span>. <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTSRC</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id">WTTGT0</span>: <span class="id"><a href="compcert.cfrontend.Ctyping.html#wt_state">wt_state</a></span> <span class="id">cp</span> (<span class="id">geof</span> <span class="id">cp</span>) (<span class="id"><a href="compcert.cfrontend.Csem.html#Returnstate">Returnstate</a></span> <span class="id">tv</span> <span class="id">k2</span> (<span class="id"><a href="compcert.compcertm.ModSem.html#Retv.m">Retv.m</a></span> <span class="id">retv</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>; <span class="id">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#typify_c_spec">typify_c_spec</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">WTTGT</span>. <span class="id">ss</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTTGT</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. } } }<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">RETLE</span>: <span class="kwd">forall</span> (<span class="id">RETSRC</span>: <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_return">ModSem.is_return</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_src</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_src</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">RETTGT</span>: <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_return">ModSem.is_return</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_tgt</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_tgt</span>)&gt;&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">inv</span> <span class="id">STK</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HD</span>; <span class="id">ss</span>; <span class="id">clarify</span>. <span class="tactic">inversion</span> <span class="id">ST</span>; <span class="id">ss</span>; <span class="id">clarify</span>; <span class="tactic">try</span> (<span class="tactic">by</span> (<span class="id">inv</span> <span class="id">RETSRC</span>; <span class="id">inv</span> <span class="id">H0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RETSRC</span>. <span class="tactic">red</span>. <span class="id">ss</span>. <span class="id">econs</span>. <span class="id">ss</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.ModSem.html#Retv.mk">Retv.mk</a></span> <span class="id">vres</span> <span class="id">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">WTTGT</span>. <span class="id">inv</span> <span class="id">WTK</span>. <span class="id">econs</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">NRETTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">NRETSRC</span>: ~ <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_return">ModSem.is_return</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.ms">Frame.ms</a></span> <span class="id">fr_src</span>) (<span class="id"><a href="compcert.compcertm.Sem.html#Frame.st">Frame.st</a></span> <span class="id">fr_src</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">tauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;src&nbsp;internal&nbsp;&amp;&amp;&nbsp;tgt&nbsp;internal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#final_bsim">final_bsim</a></span>; <span class="id">et</span>. { <span class="id">econs</span>; <span class="id">et</span>. } <span class="id">i</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="id">et</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ctx&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">right</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">clear_tac</span>. <span class="id">specialize</span> (<span class="id">SAFESRC</span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)). <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SAFESRC</span>. <span class="id">contradict</span> <span class="id">NRETTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SAFESRC</span>; <span class="id">swap</span> 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NCALLTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NRETTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 3; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;bsim&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPTGT</span>; <span class="id">swap</span> 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NCALLTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NRETTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econs</span> 3; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;focus&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">inversion</span> <span class="id">HD</span>; <span class="tactic">subst</span>; <span class="id">ss</span>. <span class="id">clarify</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">right</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">clear_tac</span>. <span class="id">specialize</span> (<span class="id">SAFESRC</span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)). <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SAFESRC</span>. <span class="id">contradict</span> <span class="id">NRETSRC</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SAFESRC</span>; <span class="id">swap</span> 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NCALLSRC</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NRETSRC</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">inv</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#match_focus_state_progress">match_focus_state_progress</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">ST</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">NCALLTGT</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#ModSem.is_call">ModSem.is_call</a></span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>. <span class="id">eexists</span>. <span class="id">econs</span>. <span class="id">ss</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;bsim&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEPTGT</span>; <span class="id">swap</span> 2 3.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NCALLTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">contradict</span> <span class="id">NRETTGT</span>. <span class="id">rr</span>. <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">esplits</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econs</span> 3; <span class="id">et</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#match_focus_state_bsim">match_focus_state_bsim</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Sem.html#Frame.update_st">Frame.update_st</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_focus">match_focus</a></span> {| <span class="id"><a href="compcert.compcertm.Sem.html#Frame.mk">Frame.ms</a></span> := <span class="id"><a href="compcert.compcertm.CsemC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>; <span class="id">Frame.st</span> := <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#matched_state_source">matched_state_source</a></span> <span class="id">st0</span> <span class="id">k_tl_tgt</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;({| <span class="id"><a href="compcert.compcertm.Sem.html#Frame.mk">Frame.ms</a></span> := <span class="id"><a href="compcert.compcertm.CsemC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id">cp</span>; <span class="id">Frame.st</span> := <span class="id">st0</span> |} :: <span class="id">tl_tgt</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">st0</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#match_focus_state_bsim">match_focus_state_bsim</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#preservation_cp_link">preservation_cp_link</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#preservation_cp_focus">preservation_cp_focus</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_stacks_focus">match_stacks_focus</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;call&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">right</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">inv</span> <span class="id">FINALTGT</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">specialize</span> (<span class="id">SAFESRC</span> <span class="id">_</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)). <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SAFESRC</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> <span class="id">SAFESRC</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SAFESRC</span>. <span class="id">right</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#msfind_fsim">msfind_fsim</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span>. <span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">INIT</span>. <span class="id">ss</span>.  <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">ss</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#prog_def_same">prog_def_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">cp</span> = <span class="id">cp0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MSFIND0</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.ModSem.html#Args.get_fptr">Args.get_fptr</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#same_prog">same_prog</a></span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">ISFOCTGT</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">STEPTGT</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#msfind_bsim">msfind_bsim</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des_ifs</span>. <span class="tactic">eauto</span>. } <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des_ifs</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econs</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKSRC">LINKSRC</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.LINKTGT">LINKTGT</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="id">econs</span>; <span class="id">et</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_find_defs_same_rev">prog_find_defs_same_rev</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#cons_app">cons_app</a></span> <span class="kwd">with</span> (<span class="id">xtl</span> := <span class="id">frs_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 3; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TYP</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#wt_initial_frame">wt_initial_frame</a></span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">esplits</span>; <span class="id">et</span>. <span class="id">instantiate</span> (1:= <span class="id">fd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#prog_find_defs_same_rev">prog_find_defs_same_rev</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.WTPROGLINK">WTPROGLINK</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>))); <span class="id">ss</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.cp_link">cp_link</a></span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.AST.html#in_prog_defmap">in_prog_defmap</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TYP</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CtypingC.html#wt_initial_frame">wt_initial_frame</a></span>; <span class="id">ss</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">Eq</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.WTPROGS">WTPROGS</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> <span class="id">FINDF</span>. <span class="id">des_ifs</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">FINDF</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MapsC.html#PTree_filter_map_spec">PTree_filter_map_spec</a></span>, <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind_ignore">o_bind_ignore</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.invert_symbol">Genv.invert_symbol</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.skenv_link">skenv_link</a></span> (<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span> <span class="id">cp</span>)) <span class="id">b</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#o_bind">o_bind</a></span> <span class="kwd">in</span> <span class="id">FINDF</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> ((<span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="id">cp</span>) ! <span class="id">i</span>) <span class="id">eqn</span>:<span class="id">DMAP</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#prog_defmap">prog_defmap</a></span> <span class="kwd">in</span> <span class="id">DMAP</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Maps.html#PTree_Properties.in_of_list">PTree_Properties.in_of_list</a></span> <span class="kwd">in</span> <span class="id">DMAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">DMAP</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (2:=<span class="id">i</span>). <span class="id">instantiate</span> (1:=<span class="id">fd0</span>). <span class="id">ss</span>. } <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="id">ss</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.WTMODULE">WTMODULE</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="upperbound_a_xsim">upperbound_a_xsim</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_simulation">mixed_simulation</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_src">prog_src</a></span>) (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION.prog_tgt">prog_tgt</a></span>)&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7340')">Proof.</div>
<div class="proofscript" id="proof7340">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#unit_ord_wf">unit_ord_wf</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">inversion</span> <span class="id">INITSRC</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#init_fsim">init_fsim</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#match_xsim">match_xsim</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INIT</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">INIT0</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.BehaviorsC.html">BehaviorsC</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="geof">geof</a></span> := <span class="kwd">fun</span> <span class="id">skenv_link</span> (<span class="id">cp</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.cfrontend.Csem.html#Build_genv">Build_genv</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>.(<span class="id"><a href="compcert.compcertm.CtypesC.html#CSk.of_program">CSk.of_program</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#signature_of_function">signature_of_function</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>.(<span class="id"><a href="compcert.cfrontend.Ctypes.html#prog_comp_env">prog_comp_env</a></span>)).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="upperbound_a_correct">upperbound_a_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">builtins</span> (<span class="id">cp_link</span>: <span class="id"><a href="compcert.cfrontend.Csyntax.html#program">Csyntax.program</a></span>) <span class="id">cps</span> <span class="id">ctx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TYPEDS</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">Forall</a></span> (<span class="kwd">fun</span> <span class="id">cp</span> =&gt; (<span class="id"><a href="compcert.compcertm.CsemC.html#typechecked">typechecked</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#builtins">builtins</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp">cp</a></span>)) <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TYPEDLINK</span>: <span class="id"><a href="compcert.compcertm.CsemC.html#typechecked">typechecked</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#builtins">builtins</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LINK</span>: <span class="id"><a href="compcert.compcertm.LinkingC.html#link_list">link_list</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">REFINE</span>: <span class="id"><a href="compcert.compcertm.BehaviorsC.html#improves">improves</a></span> (<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#ctx">ctx</a></span> ++ [<span class="id"><a href="compcert.compcertm.UpperBound_A.html#cp_link">cp_link</a></span>.(<span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span>)]))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Sem.html#sem">Sem.sem</a></span> (<span class="id"><a href="compcert.compcertm.UpperBound_A.html#ctx">ctx</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.compcertm.CsemC.html#module">CsemC.module</a></span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#cps">cps</a></span>))&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7341')">Proof.</div>
<div class="proofscript" id="proof7341">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.BehaviorsC.html#bsim_improves">bsim_improves</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_to_backward_simulation">mixed_to_backward_simulation</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.compcertm.Sem.html#link_sk">link_sk</a></span> (<span class="id">ctx</span> ++ [<span class="id"><a href="compcert.compcertm.CsemC.html#module">module</a></span> <span class="id">cp_link</span>])) <span class="id">eqn</span>:<span class="id">LINKSK</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html#unit_ord_wf">unit_ord_wf</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">et</span>. <span class="id">i</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">INITSRC</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.UpperBound_AExtra.html#link_sk_match">link_sk_match</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">cp_link</span>). <span class="id">instantiate</span> (1 := <span class="id">cps</span>). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">ctx</span>). <span class="id">i</span>. <span class="id">des</span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">t</span> <span class="id">into</span> <span class="id">link_sk</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">TYPEDLINK</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.UpperBound_A.html#upperbound_a_xsim">upperbound_a_xsim</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#typecheck_program_sound">typecheck_program_sound</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id">TYPEDS</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">T</span>. <span class="id">inv</span> <span class="id">T</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.cfrontend.Ctyping.html#typecheck_program_sound">typecheck_program_sound</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id">TYPEDS</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">T</span>. <span class="id">inv</span> <span class="id">T</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id">TYPEDS</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">T</span>. <span class="id">inv</span> <span class="id">T</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id">TYPEDS</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">T</span>. <span class="id">inv</span> <span class="id">T</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id">TYPEDS</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">T</span>. <span class="id">inv</span> <span class="id">T</span>. <span class="tactic">eauto</span>. }<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
