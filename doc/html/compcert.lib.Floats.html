
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Floats</title>
<meta name="description" content="Documentation of Coq module Floats" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Floats</h1>
<div class="coq">
<br/>
<div class="doc">Formalization of floating-point numbers, using the Flocq library. </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html">Fappli_IEEE</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html">Fappli_IEEE_bits</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html">Fappli_IEEE_extra</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Fcore.html">Fcore</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="kwd">Program</span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.x86_64.Archi.html">Archi</a></span>.<br/>
<br/>
<span class="id">Close</span> <span class="kwd">Scope</span> <span class="id">R_scope</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="float">float</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary64">binary64</a></span>. <span class="docright">(* the type of IEE754 double-precision FP numbers  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="float32">float32</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary32">binary32</a></span>. <span class="docright">(* the type of IEE754 single-precision FP numbers  *)</span><br/>
<br/>
<div class="doc">Boolean-valued comparisons </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cmp_of_comparison">cmp_of_comparison</a></span> (<span class="id">c</span>: <span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span>|<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span>|<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="ordered_of_comparison">ordered_of_comparison</a></span> (<span class="id">x</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_swap">cmp_of_comparison_swap</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#CompOpp">CompOpp</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) <span class="kwd">end</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof886')">Proof.</div>
<div class="proofscript" id="proof886">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_ne_eq">cmp_of_comparison_ne_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof887')">Proof.</div>
<div class="proofscript" id="proof887">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_lt_eq_false">cmp_of_comparison_lt_eq_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof888')">Proof.</div>
<div class="proofscript" id="proof888">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_le_lt_eq">cmp_of_comparison_le_lt_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> || <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof889')">Proof.</div>
<div class="proofscript" id="proof889">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_gt_eq_false">cmp_of_comparison_gt_eq_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof890')">Proof.</div>
<div class="proofscript" id="proof890">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_ge_gt_eq">cmp_of_comparison_ge_gt_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> || <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof891')">Proof.</div>
<div class="proofscript" id="proof891">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmp_of_comparison_lt_gt_false">cmp_of_comparison_lt_gt_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof892')">Proof.</div>
<div class="proofscript" id="proof892">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [[]|]; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="__">__</a></span> := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Datatypes.Lt</a></span>).<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Extern</span> 1 (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id">_</span>) =&gt; <span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Datatypes.Lt</a></span>).<br/>
<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Extern</span> 1 (<span class="id">_</span> &lt; <span class="id">_</span>) =&gt; <span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Datatypes.Lt</a></span>).<br/>
<br/>
<h1> Double-precision FP numbers </h1>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Float">Float</a></span>.<br/>
<br/>
<h2> NaN payload manipulations </h2>
<br/>
<div class="doc">The following definitions are not part of the IEEE754 standard but
    apply to all architectures supported by CompCert. </div>
<br/>
<div class="doc">Transform a Nan payload to a quiet Nan payload. </div>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="Float.transform_quiet_pl">transform_quiet_pl</a></span> (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53) : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53 :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_nat">iter_nat</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> 51 <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof893')">Next Obligation.</div>
<div class="proofscript" id="proof893">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ltb_lt">Z.ltb_lt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">Fcore_digits.digits2_pos</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.size">Pos.size</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">induction</span> <span class="id">x0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id">IHx0</span>; <span class="id">zify</span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zlogarithm.html#Psize_log_inf">Psize_log_inf</a></span>, &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zlogarithm.html#Zlog2_log_inf">Zlog2_log_inf</a></span> <span class="kwd">in</span> *. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id">x</span> 2251799813685248)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">x</span>) 2251799813685248%<span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.log2_lor">Z.log2_lor</a></span> <span class="tactic">by</span> (<span class="id">zify</span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_case">Z.max_case</a></span>. <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.nan_payload_fequal">nan_payload_fequal</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">prec</span> (<span class="id">p1</span> <span class="id">p2</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#prec">prec</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="compcert.lib.Floats.html#p1">p1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id"><a href="compcert.lib.Floats.html#p2">p2</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#p1">p1</a></span> = <span class="id"><a href="compcert.lib.Floats.html#p2">p2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof894')">Proof.</div>
<div class="proofscript" id="proof894">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">p1</span>, <span class="id">p2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">subst</span>. <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#eqbool_irrelevance">Fcore_Zaux.eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.lor_idempotent">lor_idempotent</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof895')">Proof.</div>
<div class="proofscript" id="proof895">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">f_equal</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.transform_quiet_pl_idempotent">transform_quiet_pl_idempotent</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pl</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>) = <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof896')">Proof.</div>
<div class="proofscript" id="proof896">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.nan_payload_fequal">nan_payload_fequal</a></span>; <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.lor_idempotent">lor_idempotent</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Nan payload operations for single &lt;-&gt; double conversions. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.expand_pl">expand_pl</a></span> (<span class="id">pl</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24) : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof897')">Proof.</div>
<div class="proofscript" id="proof897">
&nbsp;&nbsp;<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftl_nat">Pos.shiftl_nat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id">pl</span>) 29) <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftl_nat">Pos.shiftl_nat</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat_rect">nat_rect</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">Fcore_digits.digits2_pos</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">Fcore_digits.digits2_pos</a></span> <span class="id">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ltb_lt">Z.ltb_lt</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">zify</span>; <span class="tactic">omega</span>).<br/>
Defined.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_single_pl">of_single_pl</a></span> (<span class="id">s</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24) : (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#s">s</a></span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#float_of_single_preserves_sNaN">Archi.float_of_single_preserves_sNaN</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.lib.Floats.html#Float.expand_pl">expand_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span><br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.expand_pl">expand_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.reduce_pl">reduce_pl</a></span> (<span class="id">pl</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53) : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof898')">Proof.</div>
<div class="proofscript" id="proof898">
&nbsp;&nbsp;<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftr_nat">Pos.shiftr_nat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> <span class="id">pl</span>) 29) <span class="id">_</span>).<br/>
&nbsp;&nbsp;<span class="id">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pl</span>; <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.shiftr_nat">Pos.shiftr_nat</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat_rect">nat_rect</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ltb_lt">Z.ltb_lt</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">Fcore_digits.digits2_pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.div2">Pos.div2</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">Fcore_digits.digits2_pos</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> - 1)%<span class="id">positive</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">x0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pplus_one_succ_r">Pplus_one_succ_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_sub">Pos.add_sub</a></span>; <span class="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id">H</span>, !<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Pos2Z.inj_sub_max">Pos2Z.inj_sub_max</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_lub_lt">Z.max_lub_lt</a></span>; [<span class="tactic">reflexivity</span> |<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_sub_lt_add_l">Z.lt_sub_lt_add_l</a></span>]); <span class="tactic">auto</span>).<br/>
Defined.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_single_pl">to_single_pl</a></span> (<span class="id">s</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53) : (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#s">s</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.reduce_pl">reduce_pl</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>)).<br/>
<br/>
<div class="doc">NaN payload operations for opposite and absolute value. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.neg_pl">neg_pl</a></span> (<span class="id">s</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53) := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.lib.Floats.html#s">s</a></span>, <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.abs_pl">abs_pl</a></span> (<span class="id">s</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53) := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>).<br/>
<br/>
<div class="doc">The NaN payload operations for two-argument arithmetic operations
   are not part of the IEEE754 standard, but all architectures of
   Compcert share a similar NaN behavior, parameterized by:
<ul>
<li>
 a "default" payload which occurs when an operation generates a NaN from
  non-NaN arguments;
</li>
<li>
 a choice function determining which of the payload arguments to choose,
  when an operation is given two NaN arguments. </li>
</ul>
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.binop_pl">binop_pl</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary64">binary64</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>*<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 53 :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s1</span> <span class="id">pl1</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s2</span> <span class="id">pl2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#choose_binop_pl_64">Archi.choose_binop_pl_64</a></span> <span class="id">s1</span> <span class="id">pl1</span> <span class="id">s2</span> <span class="id">pl2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">s2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">s1</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s1</span> <span class="id">pl1</span>, <span class="id">_</span> =&gt; (<span class="id">s1</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl1</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s2</span> <span class="id">pl2</span> =&gt; (<span class="id">s2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl2</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.x86_64.Archi.html#default_pl_64">Archi.default_pl_64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h2> Operations over double-precision floats </h2>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.zero">zero</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="docright">(* the float <span class="bracket">+0.0</span>  *)</span><br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.eq_dec">eq_dec</a></span>: <span class="kwd">forall</span> (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>), {<span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> = <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>} + {<span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>} := <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Beq_dec">Beq_dec</a></span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<div class="doc">Arithmetic operations </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.neg">neg</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float.neg_pl">neg_pl</a></span>. <span class="docright">(* opposite (change sign)  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.abs">abs</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float.abs_pl">abs_pl</a></span>. <span class="docright">(* absolute value (set sign to <span class="bracket">+</span>)  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.add">add</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* addition  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.sub">sub</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bminus">Bminus</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* subtraction  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.mul">mul</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* multiplication  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.div">div</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* division  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.compare">compare</a></span> (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span> := <span class="docright">(* general comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.cmp">cmp</a></span> (<span class="id">c</span>:<span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="docright">(* Boolean comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.ordered">ordered</a></span> (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#ordered_of_comparison">ordered_of_comparison</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<br/>
<div class="doc">Conversions </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_single">of_single</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv">Bconv</a></span> <span class="id">_</span> <span class="id">_</span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_single_pl">of_single_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_single">to_single</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv">Bconv</a></span> <span class="id">_</span> <span class="id">_</span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_single_pl">to_single_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_int">to_int</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> := <span class="docright">(* conversion to signed 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_intu">to_intu</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> := <span class="docright">(* conversion to unsigned 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_long">to_long</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> := <span class="docright">(* conversion to signed 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_longu">to_longu</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> := <span class="docright">(* conversion to unsigned 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_int">of_int</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="docright">(* conversion from signed 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_intu">of_intu</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>:= <span class="docright">(* conversion from unsigned 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_long">of_long</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="docright">(* conversion from signed 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_longu">of_longu</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>:= <span class="docright">(* conversion from unsigned 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.from_parsed">from_parsed</a></span> (<span class="id">base</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">intPart</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">expPart</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bparse">Bparse</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#base">base</a></span> <span class="id"><a href="compcert.lib.Floats.html#intPart">intPart</a></span> <span class="id"><a href="compcert.lib.Floats.html#expPart">expPart</a></span>.<br/>
<br/>
<div class="doc">Conversions between floats and their concrete in-memory representation
    as a sequence of 64 bits. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.to_bits">to_bits</a></span> (<span class="id">f</span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>): <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_b64">bits_of_b64</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.of_bits">of_bits</a></span> (<span class="id">b</span>: <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b64_of_bits">b64_of_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#b">b</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.from_words">from_words</a></span> (<span class="id">hi</span> <span class="id">lo</span>: <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>) : <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="compcert.lib.Floats.html#hi">hi</a></span> <span class="id"><a href="compcert.lib.Floats.html#lo">lo</a></span>).<br/>
<br/>
<h2> Properties </h2>
<br/>
<div class="doc">Below are the only properties of floating-point arithmetic that we
  rely on in the compiler proof. </div>
<br/>
<div class="doc">Some tactics *</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">compute_this</span> <span class="id">val</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="tactic">fresh</span> <span class="kwd">in</span> <span class="tactic">set</span> <span class="id">val</span> <span class="kwd">as</span> <span class="id">x</span> <span class="kwd">in</span> *; <span class="id">vm_compute</span> <span class="kwd">in</span> <span class="id">x</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">smart_omega</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="id">radix_val</span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="id">Z.pow</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int.modulus</span>; <span class="id">compute_this</span> <span class="id">Int.half_modulus</span>;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int.max_unsigned</span>;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int.min_signed</span>; <span class="id">compute_this</span> <span class="id">Int.max_signed</span>;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int64.modulus</span>; <span class="id">compute_this</span> <span class="id">Int64.half_modulus</span>;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">Int64.max_unsigned</span>;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 1024); <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 53); <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 52); <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 32);<br/>
&nbsp;&nbsp;<span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
<br/>
<div class="doc">Commutativity properties of addition and multiplication. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.add_commut">add_commut</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof899')">Proof.</div>
<div class="proofscript" id="proof899">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bplus_commut">Bplus_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.mul_commut">mul_commut</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof900')">Proof.</div>
<div class="proofscript" id="proof900">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bmult_commut">Bmult_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Multiplication by 2 is diagonal addition. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.mul2_add">mul2_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 2%<span class="id">Z</span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof901')">Proof.</div>
<div class="proofscript" id="proof901">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bmult2_Bplus">Bmult2_Bplus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id">b</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#choose_binop_pl_64">Archi.choose_binop_pl_64</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span> || <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Divisions that can be turned into multiplication by an inverse. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.exact_inverse">exact_inverse</a></span> : <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bexact_inverse">Bexact_inverse</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.div_mul_inverse">div_mul_inverse</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.exact_inverse">exact_inverse</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.div">div</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof902')">Proof.</div>
<div class="proofscript" id="proof902">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bdiv_mult_inverse">Bdiv_mult_inverse</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id">b</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y0</span>; <span class="tactic">reflexivity</span> || <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">z0</span>; <span class="tactic">reflexivity</span> || <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of comparisons. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_swap">cmp_swap</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof903')">Proof.</div>
<div class="proofscript" id="proof903">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare_swap">Bcompare_swap</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_swap">cmp_of_comparison_swap</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_ne_eq">cmp_ne_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof904')">Proof.</div>
<div class="proofscript" id="proof904">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ne_eq">cmp_of_comparison_ne_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_lt_eq_false">cmp_lt_eq_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof905')">Proof.</div>
<div class="proofscript" id="proof905">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_eq_false">cmp_of_comparison_lt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_le_lt_eq">cmp_le_lt_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> || <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof906')">Proof.</div>
<div class="proofscript" id="proof906">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_le_lt_eq">cmp_of_comparison_le_lt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_gt_eq_false">cmp_gt_eq_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof907')">Proof.</div>
<div class="proofscript" id="proof907">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_gt_eq_false">cmp_of_comparison_gt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_ge_gt_eq">cmp_ge_gt_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> || <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof908')">Proof.</div>
<div class="proofscript" id="proof908">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ge_gt_eq">cmp_of_comparison_ge_gt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.cmp_lt_gt_false">cmp_lt_gt_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof909')">Proof.</div>
<div class="proofscript" id="proof909">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_gt_false">cmp_of_comparison_lt_gt_false</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of conversions to/from in-memory representation.
  The conversions are bijective (one-to-one). </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_to_bits">of_to_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>) = <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof910')">Proof.</div>
<div class="proofscript" id="proof910">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_b64">bits_of_b64</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b64_of_bits">b64_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary_float_of_bits_of_binary_float">binary_float_of_bits_of_binary_float</a></span>; [<span class="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_binary_float_range">bits_of_binary_float_range</a></span> 52 11 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (2^(52+11+1)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span> + 1). <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.to_of_bits">to_of_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#b">b</a></span>) = <span class="id"><a href="compcert.lib.Floats.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof911')">Proof.</div>
<div class="proofscript" id="proof911">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_bits">to_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_b64">bits_of_b64</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b64_of_bits">b64_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_binary_float_of_bits">bits_of_binary_float_of_bits</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr_unsigned">Int64.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions between floats and unsigned ints can be defined
  in terms of conversions between floats and signed ints.
  (Most processors provide only the latter, forcing the compiler
  to emulate the former.)   </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.ox8000_0000">ox8000_0000</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.  <span class="docright">(* <span class="bracket">0<span class="id">x8000_0000</span></span>  *)</span><br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_intu_of_int_1">of_intu_of_int_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof912')">Proof.</div>
<div class="proofscript" id="proof912">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>); <span class="id">now</span> <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_intu_of_int_2">of_intu_of_int_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof913')">Proof.</div>
<div class="proofscript" id="proof913">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>); <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Ry</span>: <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable">integer_representable</a></span> 53 1024 (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id">y</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">R8</span>: <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable">integer_representable</a></span> 53 1024 (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_2p">integer_representable_2p</a></span> <span class="kwd">with</span> (<span class="id">p</span> := 31);<span class="tactic">auto</span>; <span class="id">smart_omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_plus">BofZ_plus</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.ltu">Int.ltu</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_repr">Int.signed_repr</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>); <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.to_intu_to_int_1">to_intu_to_int_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof914')">Proof.</div>
<div class="proofscript" id="proof914">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">x</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="kwd">as</span> [<span class="id">p</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_inversion">ZofB_range_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span>, <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zle_bool_true">Zle_bool_true</a></span> <span class="tactic">by</span> <span class="id">smart_omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zle_bool_true">Zle_bool_true</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_exact">BofZ_exact</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">vm_compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span> := <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) <span class="kwd">with</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">EQy</span> &amp; <span class="id">FINy</span> &amp; <span class="id">SIGNy</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">FINx</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_correct">ZofB_correct</a></span> <span class="kwd">in</span> <span class="id">C</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span>) <span class="id">eqn</span>:<span class="id">FINx</span>; <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">p</span> 0).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">p</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_pos">ZofB_range_pos</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id">x</span> <span class="id">p</span> <span class="id">C</span>) <span class="kwd">as</span> [<span class="id">P</span> <span class="id">Q</span>]. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">CMP</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">auto</span>; <span class="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare_correct">Bcompare_correct</a></span> <span class="kwd">in</span> <span class="id">CMP</span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">CMP</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Lt_inv">Rcompare_Lt_inv</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">EQy</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">p</span> &lt; <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#lt_Z2R">lt_Z2R</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span> - 1). <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.to_intu_to_int_2">to_intu_to_int_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof915')">Proof.</div>
<div class="proofscript" id="proof915">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="kwd">as</span> [<span class="id">p</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_inversion">ZofB_range_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_exact">BofZ_exact</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">vm_compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">y</span> := <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)) <span class="kwd">with</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">EQy</span> &amp; <span class="id">FINy</span> &amp; <span class="id">SIGNy</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">FINx</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_correct">ZofB_correct</a></span> <span class="kwd">in</span> <span class="id">C</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span>) <span class="id">eqn</span>:<span class="id">FINx</span>; <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">GE</span>: (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> &gt;= <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>))%<span class="id">R</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">EQy</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">cmp</a></span>, <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.compare">compare</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare_correct">Bcompare_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> 53 1024 <span class="id">x</span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> 53 1024 <span class="id">y</span>)) <span class="id">eqn</span>:<span class="id">CMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Req_ge">Req_ge</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Eq_inv">Rcompare_Eq_inv</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_ge">Rgt_ge</a></span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Gt_inv">Rcompare_Gt_inv</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EQ</span>: <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">p</span> - <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_minus">ZofB_range_minus</a></span>. <span class="tactic">exact</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>). <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rge_le">Rge_le</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from ints to floats can be defined as bitwise manipulations
  over the in-memory representation.  This is what the PowerPC port does.
  The trick is that <span class="bracket"><span class="id">from_words</span> 0<span class="id">x4330_0000</span> <span class="id">x</span></span> is the float
  <span class="bracket">2^52 + <span class="id">of_intu</span> <span class="id">x</span></span>. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.ox4330_0000">ox4330_0000</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 1127219200.        <span class="docright">(* <span class="bracket">0<span class="id">x4330_0000</span></span>  *)</span><br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.split_bits_or">split_bits_or</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#split_bits">split_bits</a></span> 52 11 (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>)) = (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>, 1075).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof916')">Proof.</div>
<div class="proofscript" id="proof916">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#split_bits">split_bits</a></span> 52 11 (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#join_bits">join_bits</a></span> 52 11 <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) 1075)).<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id">Int64.ofwords_add</span>'. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#split_join_bits">split_join_bits</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>; <span class="id">compute_this</span> (2^52); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> (2^11); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.from_words_value">from_words_value</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) = (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> 52 + <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>))%<span class="id">R</span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof917')">Proof.</div>
<div class="proofscript" id="proof917">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b64_of_bits">b64_of_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary_float_of_bits">binary_float_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary_float_of_bits_aux">binary_float_of_bits_aux</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.split_bits_or">split_bits_or</a></span>; <span class="tactic">simpl</span>; <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 52) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Heqz</span>;  <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span> 4503599627370496), <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_1_r">Rmult_1_r</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_comm">Z.add_comm</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.from_words_eq">from_words_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^52 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof918')">Proof.</div>
<div class="proofscript" id="proof918">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words_value">from_words_value</a></span> <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_exact">BofZ_exact</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^52 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>)) <span class="kwd">as</span> (<span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_Bsign_inj">B2R_Bsign_inj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">D</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">C</span>, <span class="id">F</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zlt_bool_false">Zlt_bool_false</a></span>. <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_intu_from_words">of_intu_from_words</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.zero">Int.zero</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof919')">Proof.</div>
<div class="proofscript" id="proof919">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>. <span class="tactic">apply</span> (<span class="tactic">f_equal</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span>)). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_zero">Int.unsigned_zero</a></span>; <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float.ox8000_0000_signed_unsigned">ox8000_0000_signed_unsigned</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) = <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> + <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof920')">Proof.</div>
<div class="proofscript" id="proof920">
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span>; <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="id">compute_this</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>); <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> + -2147483648)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_add">Int.eqm_add</a></span>; [<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.eqm_refl">Int.eqm_refl</a></span>|<span class="id">exists</span> 1;<span class="tactic">reflexivity</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_int_from_words">of_int_from_words</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof921')">Proof.</div>
<div class="proofscript" id="proof921">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000_signed_unsigned">ox8000_0000_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float.ox4530_0000">ox4530_0000</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 1160773632.        <span class="docright">(* <span class="bracket">0<span class="id">x4530_0000</span></span>  *)</span><br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">split_bits_or</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#split_bits">split_bits</a></span> 52 11 (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>)) = (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>, 1107).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof922')">Proof.</div>
<div class="proofscript" id="proof922">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#split_bits">split_bits</a></span> 52 11 (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#join_bits">join_bits</a></span> 52 11 <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) 1107)).<br/>
&nbsp;&nbsp;- <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id">Int64.ofwords_add</span>'. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#split_join_bits">split_join_bits</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.modulus">Int.modulus</a></span>; <span class="id">compute_this</span> (2^52); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compute_this</span> (2^11); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">from_words_value</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) = (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> 84 + <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32))%<span class="id">R</span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof923')">Proof.</div>
<div class="proofscript" id="proof923">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_bits">of_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b64_of_bits">b64_of_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary_float_of_bits">binary_float_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary_float_of_bits_aux">binary_float_of_bits_aux</a></span>; <span class="tactic">rewrite</span> <span class="id">split_bits_or</span>'; <span class="tactic">simpl</span>; <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 52) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Heqz</span>;  <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>; <span class="tactic">simpl</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span> 19342813113834066795298816), &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_mult">Z2R_mult</a></span> <span class="id">_</span> 4294967296).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pow_pos">Z.pow_pos</a></span> 2 52); <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_power_pos">two_power_pos</a></span> 32); <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span> &lt; 0) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="id">now</span> <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">from_words_eq</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^84 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> * 2^32).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof924')">Proof.</div>
<div class="proofscript" id="proof924">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">from_words_value</span>' <span class="id">x</span>) <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_representable">BofZ_representable</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^84 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> * 2^32)) <span class="kwd">as</span> (<span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (2^84 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span> * 2^32)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span>  ((2^52 + <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">x</span>) * 2^32) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>. <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_Bsign_inj">B2R_Bsign_inj</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">D</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_Zpower">Z2R_Zpower</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">C</span>, <span class="id">F</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zlt_bool_false">Zlt_bool_false</a></span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (2^84); <span class="id">compute_this</span> (2^32); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_longu_from_words">of_longu_from_words</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 20))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof925')">Proof.</div>
<div class="proofscript" id="proof925">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq</a></span>, ! <span class="id">from_words_eq</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">p20</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 20))).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">l</span>) <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">xl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">xh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (2^84 + <span class="id">xh</span> * 2^32 - (2^84 + <span class="id">p20</span> * 2^32))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((<span class="id">xh</span> - <span class="id">p20</span>) * 2^32) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_plus">BofZ_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>) <span class="tactic">at</span> 1. <span class="tactic">rewrite</span> <span class="id">Int64.ofwords_add</span>'.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">xh</span>; <span class="id">fold</span> <span class="id">xl</span>. <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32); <span class="id">compute_this</span> <span class="id">p20</span>; <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">p20</span>; <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (2^84 + <span class="id">xh</span> * 2^32) <span class="kwd">with</span> ((2^52 + <span class="id">xh</span>) * 2^32) <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>. <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (2^84 + <span class="id">p20</span> * 2^32) <span class="kwd">with</span> ((2^52 + 1048576) * 2^32).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_long_from_words">of_long_from_words</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>) <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000">ox8000_0000</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4530_0000">ox4530_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 20+<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 31))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.from_words">from_words</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox4330_0000">ox4330_0000</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof926')">Proof.</div>
<div class="proofscript" id="proof926">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Floats.html#Float.from_words_eq">from_words_eq</a></span>, ! <span class="id">from_words_eq</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">p</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 20 + <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 31))).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">l</span>) <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">xl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">xh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ox8000_0000_signed_unsigned">ox8000_0000_signed_unsigned</a></span>. <span class="id">fold</span> <span class="id">xh</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.sub">sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_minus">BofZ_minus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (2^84 + (<span class="id">xh</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>) * 2^32 - (2^84 + <span class="id">p</span> * 2^32))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((<span class="id">xh</span> - 2^20) * 2^32)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="id">compute_this</span> <span class="id">p</span>; <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>; <span class="tactic">ring</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_plus">BofZ_plus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>) <span class="tactic">at</span> 1. <span class="tactic">rewrite</span> <span class="id">Int64.ofwords_add</span>''.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">xh</span>; <span class="id">fold</span> <span class="id">xl</span>. <span class="id">compute_this</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#two_p">two_p</a></span> 32); <span class="tactic">ring</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> (2^20); <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (2^84 + (<span class="id">xh</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>) * 2^32)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> ((2^52 + <span class="id">xh</span> + <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>) * 2^32)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int.half_modulus">Int.half_modulus</a></span>; <span class="tactic">ring</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>. <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (2^84 + <span class="id">p</span> * 2^32) <span class="kwd">with</span> ((2^52 + <span class="id">p</span>) * 2^32).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id">p</span>; <span class="id">smart_omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from 64-bit integers can be expressed in terms of
  conversions from their 32-bit halves. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_longu_decomp">of_longu_decomp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>)) (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^32)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof927')">Proof.</div>
<div class="proofscript" id="proof927">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">l</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">yl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">yh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DECOMP</span>: <span class="id">x</span> = <span class="id">yh</span> * 2^32 + <span class="id">yl</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">x</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>). <span class="tactic">apply</span> <span class="id">Int64.ofwords_add</span>'. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_mult">BofZ_mult</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_plus">BofZ_plus</a></span>. <span class="tactic">rewrite</span> <span class="id">DECOMP</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>. <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_long_decomp">of_long_decomp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>)) (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^32)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="compcert.lib.Floats.html#l">l</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof928')">Proof.</div>
<div class="proofscript" id="proof928">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.add">add</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">l</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">yl</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">yh</span> := <span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">l</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DECOMP</span>: <span class="id">x</span> = <span class="id">yh</span> * 2^32 + <span class="id">yl</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">x</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">l</span>), <span class="id">Int64.ofwords_add</span>''. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_mult">BofZ_mult</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_plus">BofZ_plus</a></span>. <span class="tactic">rewrite</span> <span class="id">DECOMP</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p">integer_representable_n2p</a></span>; <span class="tactic">auto</span>. <span class="id">smart_omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>; <span class="id">smart_omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>. <span class="tactic">compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from unsigned longs can be expressed in terms of conversions from signed longs.
    If the unsigned long is too big, a round-to-odd must be performed on it
    to avoid double rounding. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_longu_of_long_1">of_longu_of_long_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof929')">Proof.</div>
<div class="proofscript" id="proof929">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>)) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>); <span class="id">now</span> <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_longu_of_long_2">of_longu_of_long_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 2)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof930')">Proof.</div>
<div class="proofscript" id="proof930">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">change</span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 2)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (2^1)).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.half_modulus">Int64.half_modulus</a></span>)) <span class="kwd">with</span> (2^63) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) (2^63)); <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span> &lt;= 2^1024 - 2^(1024-53)) <span class="tactic">by</span> (<span class="id">vm_compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">n</span> := <span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.shru">Int64.shru</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.one">Int64.one</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NB</span>: <span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> &lt; 64 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">n</span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> 0 <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> 1 || <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> 63 <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> + 1)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id">n</span>; <span class="id">autorewrite</span> <span class="kwd">with</span> <span class="id">ints</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_one">Int64.unsigned_one</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_one">Int64.bits_one</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0); <span class="tactic">simpl</span> <span class="id">proj_sumbool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span>. <span class="tactic">subst</span> <span class="id">i</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 63). <span class="tactic">subst</span> <span class="id">i</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NB2</span>: <span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span> * 2^1) <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> 0 <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> 1 <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> 1 || <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> 0 <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> <span class="id">x</span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul_pow2_bits">Z.mul_pow2_bits</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_neg_r">Z.testbit_neg_r</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_signed">Int64.bits_signed</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> (<span class="id">i</span>-1) 64).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">NB</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> <span class="id">i</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">i</span> - 1) 63).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_above">Int64.bits_above</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">NB</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_above">Int64.bits_above</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.zwordsize">Int64.zwordsize</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EQ</span>: <span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span> * 2 = <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) 1).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_bits">int_round_odd_bits</a></span> 53 1024). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">NB2</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">replace</span> <span class="id">i</span> <span class="kwd">with</span> 0 <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">NB2</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_true">dec_eq_true</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span>. <span class="id">change</span> (2^1) <span class="kwd">with</span> 2.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) 0) <span class="id">eqn</span>:<span class="id">B0</span>;<br/>
&nbsp;&nbsp;[<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_true">Z.testbit_true</a></span> <span class="kwd">in</span> <span class="id">B0</span> <span class="tactic">by</span> <span class="tactic">omega</span>|<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_false">Z.testbit_false</a></span> <span class="kwd">in</span> <span class="id">B0</span> <span class="tactic">by</span> <span class="tactic">omega</span>];<br/>
&nbsp;&nbsp;<span class="id">change</span> (2^0) <span class="kwd">with</span> 1 <span class="kwd">in</span> <span class="id">B0</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Zdiv_1_r">Zdiv_1_r</a></span> <span class="kwd">in</span> <span class="id">B0</span>; <span class="tactic">rewrite</span> <span class="id">B0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">NB2</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.lib.Coqlib.html#dec_eq_false">dec_eq_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.mul">mul</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_mult_2p">BofZ_mult_2p</a></span>.<br/>
- <span class="id">change</span> (2^1) <span class="kwd">with</span> 2. <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_round_odd">BofZ_round_odd</a></span> <span class="kwd">with</span> (<span class="id">p</span> := 1).<br/>
+ <span class="tactic">omega</span>.<br/>
+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>; <span class="tactic">trivial</span>. <span class="id">smart_omega</span>.<br/>
+ <span class="tactic">omega</span>.<br/>
+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (2^63). <span class="tactic">compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>. <span class="id">xomega</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>; <span class="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>; <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>;<br/>
&nbsp;&nbsp;<span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>; <span class="id">xomega</span>.<br/>
- <span class="tactic">assert</span> (2^63 &lt;= <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">x</span>) 1).<br/>
&nbsp;&nbsp;{ <span class="id">change</span> (2^63) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (2^63) 1). <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">EQ</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">compute_this</span> (2^63). <span class="id">compute_this</span> (2^53). <span class="id">xomega</span>.<br/>
- <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions to/from 32-bit integers can be implemented by going through 64-bit integers. </div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="Float.ZofB_range_widen">ZofB_range_widen</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">f</span>: <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span>) <span class="id">n</span> <span class="id">min1</span> <span class="id">max1</span> <span class="id">min2</span> <span class="id">max2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#min1">min1</a></span> <span class="id"><a href="compcert.lib.Floats.html#max1">max1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#min2">min2</a></span> &lt;= <span class="id"><a href="compcert.lib.Floats.html#min1">min1</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#max1">max1</a></span> &lt;= <span class="id"><a href="compcert.lib.Floats.html#max2">max2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#min2">min2</a></span> <span class="id"><a href="compcert.lib.Floats.html#max2">max2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof931')">Proof.</div>
<div class="proofscript" id="proof931">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_inversion">ZofB_range_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span>; <span class="tactic">rewrite</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">min2</span> &lt;=? <span class="id">n</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>. <span class="tactic">replace</span> (<span class="id">n</span> &lt;=? <span class="id">max2</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb_le">Z.leb_le</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.leb_le">Z.leb_le</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.to_int_to_long">to_int_to_long</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof932')">Proof.</div>
<div class="proofscript" id="proof932">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">to_int</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>) <span class="kwd">as</span> [<span class="id">z</span>|] <span class="id">eqn</span>:<span class="id">Z</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_inversion">ZofB_range_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.signed_repr">Int.signed_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ZofB_range_widen">ZofB_range_widen</a></span>; <span class="tactic">eauto</span>. <span class="tactic">compute</span>; <span class="tactic">congruence</span>. <span class="tactic">compute</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.to_intu_to_longu">to_intu_to_longu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">to_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof933')">Proof.</div>
<div class="proofscript" id="proof933">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">to_longu</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">f</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="kwd">as</span> [<span class="id">z</span>|] <span class="id">eqn</span>:<span class="id">Z</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_inversion">ZofB_range_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">f</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ZofB_range_widen">ZofB_range_widen</a></span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. <span class="tactic">compute</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.to_intu_to_long">to_intu_to_long</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof934')">Proof.</div>
<div class="proofscript" id="proof934">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">to_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">to_long</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">f</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="kwd">as</span> [<span class="id">z</span>|] <span class="id">eqn</span>:<span class="id">Z</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_inversion">ZofB_range_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> 53 1024 <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.ZofB_range_widen">ZofB_range_widen</a></span>; <span class="tactic">eauto</span>. <span class="tactic">compute</span>; <span class="tactic">congruence</span>. <span class="tactic">compute</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_int_of_long">of_int_of_long</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof935')">Proof.</div>
<div class="proofscript" id="proof935">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_int">of_int</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>. <span class="tactic">intros</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">n</span>). <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>. <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>. <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_intu_of_longu">of_intu_of_longu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof936')">Proof.</div>
<div class="proofscript" id="proof936">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">of_longu</a></span>. <span class="tactic">intros</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>). <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float.of_intu_of_long">of_intu_of_long</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof937')">Proof.</div>
<div class="proofscript" id="proof937">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">of_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">of_long</a></span>. <span class="tactic">intros</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>). <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>; <span class="id">compute_this</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>; <span class="id">smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Floats.html#Float">Float</a></span>.<br/>
<br/>
<h1> Single-precision FP numbers </h1>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Float32">Float32</a></span>.<br/>
<br/>
<h2> NaN payload manipulations </h2>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="Float32.transform_quiet_pl">transform_quiet_pl</a></span> (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24) : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24 :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_nat">iter_nat</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> 22 <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof938')">Next Obligation.</div>
<div class="proofscript" id="proof938">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ltb_lt">Z.ltb_lt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">Fcore_digits.digits2_pos</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.size">Pos.size</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">induction</span> <span class="id">x0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id">IHx0</span>; <span class="id">zify</span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zlogarithm.html#Psize_log_inf">Psize_log_inf</a></span>, &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zlogarithm.html#Zlog2_log_inf">Zlog2_log_inf</a></span> <span class="kwd">in</span> *. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lor">Pos.lor</a></span> <span class="id">x</span> 4194304)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">x</span>) 4194304%<span class="id">Z</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.log2_lor">Z.log2_lor</a></span> <span class="tactic">by</span> (<span class="id">zify</span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.max_case">Z.max_case</a></span>. <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float32.transform_quiet_pl_idempotent">transform_quiet_pl_idempotent</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pl</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>) = <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof939')">Proof.</div>
<div class="proofscript" id="proof939">
&nbsp;&nbsp;<span class="tactic">intros</span> []; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.nan_payload_fequal">Float.nan_payload_fequal</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float.lor_idempotent">Float.lor_idempotent</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.neg_pl">neg_pl</a></span> (<span class="id">s</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24) := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.lib.Floats.html#s">s</a></span>, <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.abs_pl">abs_pl</a></span> (<span class="id">s</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">pl</span>:<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24) := (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="compcert.lib.Floats.html#pl">pl</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.binop_pl">binop_pl</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary32">binary32</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>*<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> 24 :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s1</span> <span class="id">pl1</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s2</span> <span class="id">pl2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#choose_binop_pl_32">Archi.choose_binop_pl_32</a></span> <span class="id">s1</span> <span class="id">pl1</span> <span class="id">s2</span> <span class="id">pl2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">s2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">s1</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s1</span> <span class="id">pl1</span>, <span class="id">_</span> =&gt; (<span class="id">s1</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl1</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s2</span> <span class="id">pl2</span> =&gt; (<span class="id">s2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">pl2</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.x86_64.Archi.html#default_pl_32">Archi.default_pl_32</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h2> Operations over single-precision floats </h2>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.zero">zero</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>. <span class="docright">(* the float <span class="bracket">+0.0</span>  *)</span><br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.eq_dec">eq_dec</a></span>: <span class="kwd">forall</span> (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>), {<span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> = <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>} + {<span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>} := <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Beq_dec">Beq_dec</a></span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<div class="doc">Arithmetic operations </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.neg">neg</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.neg_pl">neg_pl</a></span>. <span class="docright">(* opposite (change sign)  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.abs">abs</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.abs_pl">abs_pl</a></span>. <span class="docright">(* absolute value (set sign to <span class="bracket">+</span>)  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.add">add</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* addition  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.sub">sub</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bminus">Bminus</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* subtraction  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.mul">mul</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* multiplication  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.div">div</a></span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#Float32.binop_pl">binop_pl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span>. <span class="docright">(* division  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.compare">compare</a></span> (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">Datatypes.comparison</a></span> := <span class="docright">(* general comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.cmp">cmp</a></span> (<span class="id">c</span>:<span class="id"><a href="compcert.lib.Integers.html#comparison">comparison</a></span>) (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="docright">(* comparison  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison">cmp_of_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.ordered">ordered</a></span> (<span class="id">f1</span> <span class="id">f2</span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#ordered_of_comparison">ordered_of_comparison</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.compare">compare</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<br/>
<div class="doc">Conversions </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.of_double">of_double</a></span> : <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.to_double">to_double</a></span> : <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#float">float</a></span> := <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.to_int">to_int</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> := <span class="docright">(* conversion to signed 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.to_intu">to_intu</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> := <span class="docright">(* conversion to unsigned 32-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.to_long">to_long</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> := <span class="docright">(* conversion to signed 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.to_longu">to_longu</a></span> (<span class="id">f</span>:<span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span> := <span class="docright">(* conversion to unsigned 64-bit int  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.of_int">of_int</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="docright">(* conversion from signed 32-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.of_intu">of_intu</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="docright">(* conversion from unsigned 32-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.of_long">of_long</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="docright">(* conversion from signed 64-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.of_longu">of_longu</a></span> (<span class="id">n</span>:<span class="id"><a href="compcert.lib.Integers.html#int64">int64</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="docright">(* conversion from unsigned 64-bit int to single-precision float  *)</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.from_parsed">from_parsed</a></span> (<span class="id">base</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">intPart</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">expPart</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bparse">Bparse</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#base">base</a></span> <span class="id"><a href="compcert.lib.Floats.html#intPart">intPart</a></span> <span class="id"><a href="compcert.lib.Floats.html#expPart">expPart</a></span>.<br/>
<br/>
<div class="doc">Conversions between floats and their concrete in-memory representation
    as a sequence of 32 bits. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.to_bits">to_bits</a></span> (<span class="id">f</span>: <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span>) : <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span> := <span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_b32">bits_of_b32</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.of_bits">of_bits</a></span> (<span class="id">b</span>: <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>): <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b32_of_bits">b32_of_bits</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#b">b</a></span>).<br/>
<br/>
<h2> Properties </h2>
<br/>
<div class="doc">Commutativity properties of addition and multiplication. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.add_commut">add_commut</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float32.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof940')">Proof.</div>
<div class="proofscript" id="proof940">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bplus_commut">Bplus_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.mul_commut">mul_commut</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof941')">Proof.</div>
<div class="proofscript" id="proof941">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bmult_commut">Bmult_commut</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Multiplication by 2 is diagonal addition. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.mul2_add">mul2_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.add">add</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.of_int">of_int</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 2%<span class="id">Z</span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof942')">Proof.</div>
<div class="proofscript" id="proof942">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bmult2_Bplus">Bmult2_Bplus</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id">b</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#choose_binop_pl_32">Archi.choose_binop_pl_32</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span> || <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Divisions that can be turned into multiplication by an inverse. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Float32.exact_inverse">exact_inverse</a></span> : <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Floats.html#float32">float32</a></span> := <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bexact_inverse">Bexact_inverse</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.div_mul_inverse">div_mul_inverse</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.exact_inverse">exact_inverse</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float32.div">div</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.mul">mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof943')">Proof.</div>
<div class="proofscript" id="proof943">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bdiv_mult_inverse">Bdiv_mult_inverse</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id">b</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.transform_quiet_pl">transform_quiet_pl</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y0</span>; <span class="tactic">reflexivity</span> || <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">z0</span>; <span class="tactic">reflexivity</span> || <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of comparisons. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_swap">cmp_swap</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> (<span class="id"><a href="compcert.lib.Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span>) <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof944')">Proof.</div>
<div class="proofscript" id="proof944">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.compare">compare</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare_swap">Bcompare_swap</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_swap">cmp_of_comparison_swap</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_ne_eq">cmp_ne_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cne">Cne</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof945')">Proof.</div>
<div class="proofscript" id="proof945">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ne_eq">cmp_of_comparison_ne_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_lt_eq_false">cmp_lt_eq_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof946')">Proof.</div>
<div class="proofscript" id="proof946">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_eq_false">cmp_of_comparison_lt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_le_lt_eq">cmp_le_lt_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cle">Cle</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> || <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof947')">Proof.</div>
<div class="proofscript" id="proof947">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_le_lt_eq">cmp_of_comparison_le_lt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_gt_eq_false">cmp_gt_eq_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#x">x</a></span> <span class="id"><a href="compcert.lib.Floats.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof948')">Proof.</div>
<div class="proofscript" id="proof948">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_gt_eq_false">cmp_of_comparison_gt_eq_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_ge_gt_eq">cmp_ge_gt_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cge">Cge</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> || <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof949')">Proof.</div>
<div class="proofscript" id="proof949">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_ge_gt_eq">cmp_of_comparison_ge_gt_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_lt_gt_false">cmp_lt_gt_false</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Clt">Clt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof950')">Proof.</div>
<div class="proofscript" id="proof950">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f1</span> <span class="id">f2</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#cmp_of_comparison_lt_gt_false">cmp_of_comparison_lt_gt_false</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.cmp_double">cmp_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">c</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#c">c</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f1">f1</a></span>) (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f2">f2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof951')">Proof.</div>
<div class="proofscript" id="proof951">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.cmp">cmp</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.cmp">Float.cmp</a></span>; <span class="tactic">intros</span>. <span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bcompare_Bconv_widen">Bcompare_Bconv_widen</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of conversions to/from in-memory representation.
  The conversions are bijective (one-to-one). </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_to_bits">of_to_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>) = <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof952')">Proof.</div>
<div class="proofscript" id="proof952">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_b32">bits_of_b32</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b32_of_bits">b32_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#binary_float_of_bits_of_binary_float">binary_float_of_bits_of_binary_float</a></span>; [<span class="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_binary_float_range">bits_of_binary_float_range</a></span> 23 8 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (2^(23+8+1)) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span> + 1). <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.to_of_bits">to_of_bits</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#b">b</a></span>) = <span class="id"><a href="compcert.lib.Floats.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof953')">Proof.</div>
<div class="proofscript" id="proof953">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_bits">of_bits</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_bits">to_bits</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_b32">bits_of_b32</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#b32_of_bits">b32_of_bits</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE_bits.html#bits_of_binary_float_of_bits">bits_of_binary_float_of_bits</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from 32-bit integers to single-precision floats can
  be decomposed into a conversion to a double-precision float,
  followed by a <span class="bracket"><span class="id">Float32.of_double</span></span> conversion.  No double rounding occurs. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_int_double">of_int_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.of_int">of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_int">Float.of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof954')">Proof.</div>
<div class="proofscript" id="proof954">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.signed_range">Int.signed_range</a></span> <span class="id">n</span>); <span class="id">Float.smart_omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_intu_double">of_intu_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.of_intu">of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof955')">Proof.</div>
<div class="proofscript" id="proof955">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Integers.html#Int.unsigned_range">Int.unsigned_range</a></span> <span class="id">n</span>); <span class="id">Float.smart_omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversion of single-precision floats to integers can be decomposed
  into a <span class="bracket"><span class="id">Float32.to_double</span></span> extension, followed by a double-precision-to-int
  conversion. </div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.to_int_double">to_int_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof956')">Proof.</div>
<div class="proofscript" id="proof956">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_int">to_int</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int.max_signed">Int.max_signed</a></span>) <span class="kwd">as</span> [<span class="id">n</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_int">Float.to_int</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_Bconv">ZofB_range_Bconv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.to_intu_double">to_intu_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof957')">Proof.</div>
<div class="proofscript" id="proof957">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_intu">to_intu</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="kwd">as</span> [<span class="id">n</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_intu">Float.to_intu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_Bconv">ZofB_range_Bconv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.to_long_double">to_long_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof958')">Proof.</div>
<div class="proofscript" id="proof958">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_long">to_long</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>) <span class="kwd">as</span> [<span class="id">n</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_long">Float.to_long</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_Bconv">ZofB_range_Bconv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.to_longu_double">to_longu_double</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">n</span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">to_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt; <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span> <span class="id"><a href="compcert.lib.Floats.html#f">f</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof959')">Proof.</div>
<div class="proofscript" id="proof959">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.to_longu">to_longu</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range">ZofB_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span> 0 <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="kwd">as</span> [<span class="id">n</span>'|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.to_longu">Float.to_longu</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float32.to_double">to_double</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.of_single">Float.of_single</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#ZofB_range_Bconv">ZofB_range_Bconv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Conversions from 64-bit integers to single-precision floats can be expressed
  as conversion to a double-precision float followed by a <span class="bracket"><span class="id">Float32.of_double</span></span> conversion.
  To avoid double rounding when the integer is large (above <span class="bracket">2^53</span>), a round
  to odd must be performed on the integer before conversion to double-precision float. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float32.int_round_odd_plus">int_round_odd_plus</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">n</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Floats.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> <span class="id"><a href="compcert.lib.Floats.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> (2^<span class="id"><a href="compcert.lib.Floats.html#p">p</a></span>-1) + (2^<span class="id"><a href="compcert.lib.Floats.html#p">p</a></span>-1))) (-(2^<span class="id"><a href="compcert.lib.Floats.html#p">p</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof960')">Proof.</div>
<div class="proofscript" id="proof960">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">POS</span>: 0 &lt; 2^<span class="id">p</span>) <span class="tactic">by</span> (<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zpower_gt_0">Zpower_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>); <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> <span class="id">n</span> (2^<span class="id">p</span>-1) = <span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_ones">Z.land_ones</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_equiv">Z.ones_equiv</a></span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: 0 &lt;= <span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span> &lt; 2^<span class="id">p</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">m</span> := <span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span> + (2^<span class="id">p</span>-1)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">C</span>: <span class="id">m</span> / 2^<span class="id">p</span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span>) 0 <span class="kwd">then</span> 0 <span class="kwd">else</span> 1).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">m</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_small">Zdiv_small</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_unique">Zdiv_unique</a></span> <span class="kwd">with</span> (<span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span> - 1). <span class="tactic">ring</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">D</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id">m</span> <span class="id">p</span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span>) 0 <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zeq">zeq</a></span> (<span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span>) 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_false">Z.testbit_false</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">C</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_true">Z.testbit_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">C</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E</span>: <span class="kwd">forall</span> <span class="id">i</span>, <span class="id">p</span> &lt; <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> <span class="id">m</span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit_false">Z.testbit_false</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">m</span> / 2^<span class="id">i</span>) <span class="kwd">with</span> 0. <span class="tactic">auto</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Zdiv_small">Zdiv_small</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">m</span>. <span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_le_trans">Z.lt_le_trans</a></span> <span class="kwd">with</span> (2 * 2^<span class="id">p</span>). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> 2 <span class="kwd">with</span> (2^1) <span class="tactic">at</span> 1. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zpower_plus">Zpower_plus</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zpower_le">Zpower_le</a></span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">F</span>: <span class="kwd">forall</span> <span class="id">i</span>, 0 &lt;= <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.testbit">Z.testbit</a></span> (-2^<span class="id">p</span>) <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> = <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id"><a href="compcert.lib.Floats.html#i">i</a></span> <span class="id">p</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.bits_opp">Z.bits_opp</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_equiv">Z.ones_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_spec_low">Z.ones_spec_low</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones_spec_high">Z.ones_spec_high</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_bits">int_round_odd_bits</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span>, <span class="id">F</span>, <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>, <span class="id">D</span>, <span class="id">F</span>, <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb">Z.eqb</a></span> (<span class="id">n</span> <span class="id">mod</span> 2^<span class="id">p</span>) 0) <span class="id">eqn</span>:<span class="id">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb_eq">Z.eqb_eq</a></span> <span class="kwd">in</span> <span class="id">Z</span>. <span class="tactic">rewrite</span> <span class="id">Z</span>, <span class="id"><a href="compcert.lib.Coqlib.html#zeq_true">zeq_true</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.eqb_neq">Z.eqb_neq</a></span> <span class="kwd">in</span> <span class="id">Z</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zeq_false">zeq_false</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>, <span class="id">E</span>, <span class="id">F</span>, <span class="id"><a href="compcert.lib.Coqlib.html#zlt_false">zlt_false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Float32.of_long_round_odd">of_long_round_odd</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">conv_nan</span>,<br/>
&nbsp;&nbsp;2^36 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> &lt; 2^64 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv">Bconv</a></span> <span class="id">_</span> <span class="id">_</span> 24 128 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#conv_nan">conv_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ">BofZ</a></span> 53 1024 <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> <span class="id"><a href="compcert.lib.Floats.html#__">__</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> ((<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> 2047) + 2047)) (-2048))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof961')">Proof.</div>
<div class="proofscript" id="proof961">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Floats.html#Float32.int_round_odd_plus">int_round_odd_plus</a></span> 11) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (-2^64 &lt;= <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> <span class="id">n</span> 11).<br/>
&nbsp;&nbsp;{ <span class="id">change</span> (-2^64) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (-2^64) 11). <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="id">xomega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> <span class="id">n</span> 11 &lt;= 2^64).<br/>
&nbsp;&nbsp;{ <span class="id">change</span> (2^64) <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (2^64) 11). <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="id">xomega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#BofZ_round_odd">BofZ_round_odd</a></span> <span class="kwd">with</span> (<span class="id">p</span> := 11).<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (2^64). <span class="tactic">omega</span>. <span class="tactic">compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n2p_wide">integer_representable_n2p_wide</a></span>. <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> <span class="kwd">in</span> <span class="id">H0</span>, <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; (<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zmult_le_reg_r">Zmult_le_reg_r</a></span> <span class="kwd">with</span> (2^11); [<span class="tactic">compute</span>; <span class="tactic">auto</span> | <span class="tactic">assumption</span>]).<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_longu_double_1">of_longu_double_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> &lt;= 2^53 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof962')">Proof.</div>
<div class="proofscript" id="proof962">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">n</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_longu_double_2">of_longu_double_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;2^36 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">of_longu</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (-2048)))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof963')">Proof.</div>
<div class="proofscript" id="proof963">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_range">Int64.unsigned_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_longu">of_longu</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_long_round_odd">of_long_round_odd</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.lib.Floats.html#Float.to_single_pl">Float.to_single_pl</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_longu">Float.of_longu</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">n</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) 2047 + 2047)) (-2048)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) 11 = <span class="id">n</span>') <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.int_round_odd_plus">int_round_odd_plus</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id">n</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="id">change</span> 0 <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> 0 11). <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">n</span>' &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_lt_trans">Z.le_lt_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span> - 1) 11).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span> <span class="id">n</span>') <span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="id">Int64.bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id">n</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add_unsigned">Int64.add_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047)) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047))) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">change</span> 2047 <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones">Z.ones</a></span> 11).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_ones">Z.land_ones</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) (2^11)). <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (2^11 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="tactic">by</span> (<span class="tactic">compute</span>; <span class="tactic">auto</span>). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eqm">Int64.same_bits_eqm</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> (-1); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">xomega</span>. <span class="id">change</span> (2^64) <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.modulus">Int64.modulus</a></span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_long_double_1">of_long_double_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>) &lt;= 2^53 -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof964')">Proof.</div>
<div class="proofscript" id="proof964">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#Bconv_BofZ">Bconv_BofZ</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#integer_representable_n">integer_representable_n</a></span>; <span class="tactic">auto</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Float32.of_long_double_2">of_long_double_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;2^36 &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.abs">Z.abs</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> = <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span> (<span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.or">Int64.or</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.add">Int64.add</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="compcert.lib.Floats.html#n">n</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> (-2048)))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof965')">Proof.</div>
<div class="proofscript" id="proof965">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_range">Int64.signed_range</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_long">of_long</a></span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_long_round_odd">of_long_round_odd</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.of_double">of_double</a></span>, <span class="id"><a href="compcert.lib.Floats.html#Float.to_single">Float.to_single</a></span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.lib.Floats.html#Float.to_single_pl">Float.to_single_pl</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Floats.html#Float.of_long">Float.of_long</a></span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">n</span>' := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor">Z.lor</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land">Z.land</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span>) 2047 + 2047)) (-2048)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed">Int64.signed</a></span> <span class="id">n</span>) 11 = <span class="id">n</span>') <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Floats.html#Float32.int_round_odd_plus">int_round_odd_plus</a></span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> &lt;= <span class="id">n</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="id">change</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span> 11). <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">n</span>' &lt;= <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd">int_round_odd</a></span> <span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span> 11).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.lib.Fappli_IEEE_extra.html#int_round_odd_le">int_round_odd_le</a></span> 0 0); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.lib.Integers.html#Int64.signed_repr">Int64.signed_repr</a></span> <span class="id">n</span>') <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="id">Int64.bit_solve</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id">n</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_spec">Z.land_spec</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lor_spec">Z.lor_spec</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.bits_signed">Int64.bits_signed</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.add_unsigned">Int64.add_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.testbit">Int64.testbit</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span> <span class="id">n</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047)) +<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047))) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.and">Int64.and</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.repr">Int64.repr</a></span> 2047)) <span class="kwd">with</span> 2047.<br/>
&nbsp;&nbsp;<span class="id">change</span> 2047 <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.ones">Z.ones</a></span> 11). <span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.land_ones">Z.land_ones</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqmod_mod_eq">Int64.eqmod_mod_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.lt_gt">Z.lt_gt</a></span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zpower_gt_0">Zpower_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqmod_divides">Int64.eqmod_divides</a></span> <span class="kwd">with</span> (2^64). <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.eqm_signed_unsigned">Int64.eqm_signed_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (2^(64-11)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zdiv.html#Z_mod_lt">Z_mod_lt</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">n</span>) (2^11)). <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (2^11 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>) <span class="tactic">by</span> (<span class="tactic">compute</span>; <span class="tactic">auto</span>). <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.same_bits_eqm">Int64.same_bits_eqm</a></span>; <span class="tactic">auto</span>. <span class="id">exists</span> (-1); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">assert</span> (-2^64 &lt; <span class="id"><a href="compcert.lib.Integers.html#Int64.min_signed">Int64.min_signed</a></span>) <span class="tactic">by</span> (<span class="tactic">compute</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Integers.html#Int64.max_signed">Int64.max_signed</a></span> &lt; 2^64) <span class="tactic">by</span> (<span class="tactic">compute</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Floats.html#Float32">Float32</a></span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="id">Opaque</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#zero">Float.zero</a></span> <span class="id"><a href="compcert.lib.Floats.html#eq_dec">Float.eq_dec</a></span> <span class="id"><a href="compcert.lib.Floats.html#neg">Float.neg</a></span> <span class="id"><a href="compcert.lib.Floats.html#abs">Float.abs</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_single">Float.of_single</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_single">Float.to_single</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#of_int">Float.of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_intu">Float.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_long">Float.of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_longu">Float.of_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_int">Float.to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_intu">Float.to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_long">Float.to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_longu">Float.to_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#add">Float.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#sub">Float.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#mul">Float.mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#div">Float.div</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp">Float.cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#ordered">Float.ordered</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_bits">Float.to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_bits">Float.of_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#from_words">Float.from_words</a></span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="id">Opaque</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#zero">Float32.zero</a></span> <span class="id"><a href="compcert.lib.Floats.html#eq_dec">Float32.eq_dec</a></span> <span class="id"><a href="compcert.lib.Floats.html#neg">Float32.neg</a></span> <span class="id"><a href="compcert.lib.Floats.html#abs">Float32.abs</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#of_int">Float32.of_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_intu">Float32.of_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_long">Float32.of_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_longu">Float32.of_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_int">Float32.to_int</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_intu">Float32.to_intu</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_long">Float32.to_long</a></span> <span class="id"><a href="compcert.lib.Floats.html#to_longu">Float32.to_longu</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#add">Float32.add</a></span> <span class="id"><a href="compcert.lib.Floats.html#sub">Float32.sub</a></span> <span class="id"><a href="compcert.lib.Floats.html#mul">Float32.mul</a></span> <span class="id"><a href="compcert.lib.Floats.html#div">Float32.div</a></span> <span class="id"><a href="compcert.lib.Floats.html#cmp">Float32.cmp</a></span> <span class="id"><a href="compcert.lib.Floats.html#ordered">Float32.ordered</a></span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Floats.html#to_bits">Float32.to_bits</a></span> <span class="id"><a href="compcert.lib.Floats.html#of_bits">Float32.of_bits</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
