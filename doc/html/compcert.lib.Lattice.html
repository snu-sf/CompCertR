
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Lattice</title>
<meta name="description" content="Documentation of Coq module Lattice" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Lattice</h1>
<div class="coq">
<br/>
<div class="doc">Constructions of semi-lattices. </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Unset</span> <span class="id">Elimination</span> <span class="id">Schemes</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Unset</span> <span class="id">Case</span> <span class="id">Analysis</span> <span class="id">Schemes</span>.<br/>
<br/>
<h1> Signatures of semi-lattices </h1>
<br/>
<div class="doc">A semi-lattice is a type <span class="bracket"><span class="id">t</span></span> equipped with an equivalence relation <span class="bracket"><span class="id">eq</span></span>,
  a boolean equivalence test <span class="bracket"><span class="id">beq</span></span>, a partial order <span class="bracket"><span class="id">ge</span></span>, a smallest element
  <span class="bracket"><span class="id">bot</span></span>, and an upper bound operation <span class="bracket"><span class="id">lub</span></span>.
  Note that we do not demand that <span class="bracket"><span class="id">lub</span></span> computes the least upper bound. </div>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="SEMILATTICE">SEMILATTICE</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE.t">t</a></span>: <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE.eq">eq</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE.beq">beq</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE.ge">ge</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE.bot">bot</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.bot">bot</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE.lub">lub</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.ge_lub_left">ge_lub_left</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE.ge_lub_right">ge_lub_right</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>.<br/>
<br/>
<div class="doc">A semi-lattice ``with top'' is similar, but also has a greatest
  element <span class="bracket"><span class="id">top</span></span>. </div>
<br/>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Include</span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="SEMILATTICE_WITH_TOP.top">top</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="SEMILATTICE_WITH_TOP.ge_top">ge_top</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP.top">top</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
<h1> Semi-lattice over maps </h1>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<div class="doc">Given a semi-lattice (without top) <span class="bracket"><span class="id">L</span></span>, the following functor implements
  a semi-lattice structure over finite maps from positive numbers to <span class="bracket"><span class="id">L.t</span></span>.
  The default value for these maps is <span class="bracket"><span class="id">L.bot</span></span>.  Bottom elements are not smashed. </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LPMap1">LPMap1</a></span>(<span class="id">L</span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>) &lt;: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.t">t</a></span> := <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.get">get</a></span> (<span class="id">p</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>!<span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="tactic">set</span> (<span class="id">p</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">v</span>: <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.remove">PTree.remove</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.gsspec">gsspec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">v</span> <span class="id">x</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#q">q</a></span> (<span class="tactic">set</span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>)) (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#q">q</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#q">q</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof285')">Proof.</div>
<div class="proofscript" id="proof285">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="tactic">set</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id">v</span> <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span>) <span class="id">eqn</span>:<span class="id">EBOT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.grspec">PTree.grspec</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elt_eq">PTree.elt_eq</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">q</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_sym">L.eq_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">q</span> <span class="id">p</span>); <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof286')">Proof.</div>
<div class="proofscript" id="proof286">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof287')">Proof.</div>
<div class="proofscript" id="proof287">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_sym">L.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof288')">Proof.</div>
<div class="proofscript" id="proof288">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_trans">L.eq_trans</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.beq">beq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="id"><a href="compcert.lib.Maps.html#PTree.beq">PTree.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof289')">Proof.</div>
<div class="proofscript" id="proof289">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.beq">beq</a></span>; <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.beq_correct">PTree.beq_correct</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">x</span>!<span class="id">p</span>); <span class="tactic">destruct</span> (<span class="id">y</span>!<span class="id">p</span>); <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.ge">ge</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#L.ge">L.ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof290')">Proof.</div>
<div class="proofscript" id="proof290">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof291')">Proof.</div>
<div class="proofscript" id="proof291">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id">p</span> <span class="id">y</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.bot">bot</a></span> : <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span> := <span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.get_bot">get_bot</a></span>: <span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.bot">bot</a></span> = <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof292')">Proof.</div>
<div class="proofscript" id="proof292">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.bot">bot</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.bot">bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof293')">Proof.</div>
<div class="proofscript" id="proof293">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get_bot">get_bot</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">A <span class="bracket"><span class="id">combine</span></span> operation over the type <span class="bracket"><span class="id">PTree.t</span> <span class="id">L.t</span></span> that attempts
  to share its result with its arguments. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="LPMap1.COMBINE">COMBINE</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="LPMap1.COMBINE.f">f</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="LPMap1.COMBINE.f_none_none">f_none_none</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.opt_eq">opt_eq</a></span> (<span class="id">ox</span> <span class="id">oy</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> <span class="id">x</span> <span class="id">y</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.opt_eq_refl">opt_eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">ox</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof294')">Proof.</div>
<div class="proofscript" id="proof294">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span>. <span class="tactic">destruct</span> <span class="id">ox</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.opt_eq_sym">opt_eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">ox</span> <span class="id">oy</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof295')">Proof.</div>
<div class="proofscript" id="proof295">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span>. <span class="tactic">destruct</span> <span class="id">ox</span>; <span class="tactic">destruct</span> <span class="id">oy</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_sym">L.eq_sym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.opt_eq_trans">opt_eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">ox</span> <span class="id">oy</span> <span class="id">oz</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oz">oz</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oz">oz</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof296')">Proof.</div>
<div class="proofscript" id="proof296">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span>. <span class="tactic">destruct</span> <span class="id">ox</span>; <span class="tactic">destruct</span> <span class="id">oy</span>; <span class="tactic">destruct</span> <span class="id">oz</span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_trans">L.eq_trans</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.opt_beq">opt_beq</a></span> (<span class="id">ox</span> <span class="id">oy</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id">x</span> <span class="id">y</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.opt_beq_correct">opt_beq_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ox</span> <span class="id">oy</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#ox">ox</a></span> <span class="id"><a href="compcert.lib.Lattice.html#oy">oy</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof297')">Proof.</div>
<div class="proofscript" id="proof297">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span>. <span class="tactic">destruct</span> <span class="id">ox</span>; <span class="tactic">destruct</span> <span class="id">oy</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.tree_eq">tree_eq</a></span> (<span class="id">m1</span> <span class="id">m2</span>: <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#i">i</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#i">i</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.tree_eq_refl">tree_eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">m</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof298')">Proof.</div>
<div class="proofscript" id="proof298">
 <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq_refl">opt_eq_refl</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.tree_eq_sym">tree_eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof299')">Proof.</div>
<div class="proofscript" id="proof299">
 <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq_sym">opt_eq_sym</a></span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.tree_eq_trans">tree_eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m3">m3</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof300')">Proof.</div>
<div class="proofscript" id="proof300">
 <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq_trans">opt_eq_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id">i</span> <span class="id">m2</span>); <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.tree_eq_node">tree_eq_node</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">o1</span> <span class="id">r1</span> <span class="id">l2</span> <span class="id">o2</span> <span class="id">r2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l1">l1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l2">l2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r1">r1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r2">r2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o1">o1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o2">o2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l1">l1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o1">o1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r1">r1</a></span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l2">l2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o2">o2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r2">r2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof301')">Proof.</div>
<div class="proofscript" id="proof301">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">tree_eq_node</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">o1</span> <span class="id">r1</span> <span class="id">l2</span> <span class="id">o2</span> <span class="id">r2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l1">l1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l2">l2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r1">r1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r2">r2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o1">o1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o2">o2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l1">l1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o1">o1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r1">r1</a></span>) (<span class="id">PTree.Node</span>' <span class="id"><a href="compcert.lib.Lattice.html#l2">l2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o2">o2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r2">r2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof302')">Proof.</div>
<div class="proofscript" id="proof302">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">PTree.gnode</span>'. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq_node">tree_eq_node</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">tree_eq_node</span>'':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">o1</span> <span class="id">r1</span> <span class="id">l2</span> <span class="id">o2</span> <span class="id">r2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l1">l1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#l2">l2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r1">r1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r2">r2</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o1">o1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o2">o2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> (<span class="id">PTree.Node</span>' <span class="id"><a href="compcert.lib.Lattice.html#l1">l1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o1">o1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r1">r1</a></span>) (<span class="id">PTree.Node</span>' <span class="id"><a href="compcert.lib.Lattice.html#l2">l2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o2">o2</a></span> <span class="id"><a href="compcert.lib.Lattice.html#r2">r2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof303')">Proof.</div>
<div class="proofscript" id="proof303">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">PTree.gnode</span>'. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq_node">tree_eq_node</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">opt_beq_correct</span> <span class="id">opt_eq_refl</span> <span class="id">opt_eq_sym</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tree_eq_refl</span> <span class="id">tree_eq_sym</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tree_eq_node</span> <span class="id">tree_eq_node</span>' <span class="id">tree_eq_node</span>'' : <span class="id">combine</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="LPMap1.changed">changed</a></span>: <span class="kwd">Type</span> := <span class="id"><a name="LPMap1.Unchanged">Unchanged</a></span> | <span class="id"><a name="LPMap1.Changed">Changed</a></span> (<span class="id">m</span>: <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>).<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="LPMap1.combine_l">combine_l</a></span> (<span class="id">m</span> : <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) {<span class="kwd">struct</span> <span class="id">m</span>} : <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.changed">changed</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Leaf">PTree.Leaf</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">l</span> <span class="id">o</span> <span class="id">r</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">o</span>' := <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id">o</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#combine_l">combine_l</a></span> <span class="id">l</span>, <span class="id"><a href="compcert.lib.Lattice.html#combine_l">combine_l</a></span> <span class="id">r</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id">o</span>' <span class="id">o</span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id">o</span>' <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">r</span>' =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id">o</span>' <span class="id">r</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">l</span>', <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span>' <span class="id">o</span>' <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">l</span>', <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">r</span>' =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span>' <span class="id">o</span>' <span class="id">r</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.combine_l_eq">combine_l_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l">combine_l</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> | <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">m</span>' =&gt; <span class="id">m</span>' <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Maps.html#PTree.xcombine_l">PTree.xcombine_l</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof304')">Proof.</div>
<div class="proofscript" id="proof304">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">m</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l">combine_l</a></span> <span class="id">m1</span>) <span class="kwd">as</span> [ | <span class="id">l</span>']; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l">combine_l</a></span> <span class="id">m2</span>) <span class="kwd">as</span> [ | <span class="id">r</span>'];<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id">o</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="id">o</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="LPMap1.combine_r">combine_r</a></span> (<span class="id">m</span> : <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) {<span class="kwd">struct</span> <span class="id">m</span>} : <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.changed">changed</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Leaf">PTree.Leaf</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">l</span> <span class="id">o</span> <span class="id">r</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">o</span>' := <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">o</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#combine_r">combine_r</a></span> <span class="id">l</span>, <span class="id"><a href="compcert.lib.Lattice.html#combine_r">combine_r</a></span> <span class="id">r</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id">o</span>' <span class="id">o</span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id">o</span>' <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">r</span>' =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id">o</span>' <span class="id">r</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">l</span>', <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span>' <span class="id">o</span>' <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">l</span>', <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">r</span>' =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> (<span class="id">PTree.Node</span>' <span class="id">l</span>' <span class="id">o</span>' <span class="id">r</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.combine_r_eq">combine_r_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r">combine_r</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span> | <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">m</span>' =&gt; <span class="id">m</span>' <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Maps.html#PTree.xcombine_r">PTree.xcombine_r</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof305')">Proof.</div>
<div class="proofscript" id="proof305">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">m</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r">combine_r</a></span> <span class="id">m1</span>) <span class="kwd">as</span> [ | <span class="id">l</span>']; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r">combine_r</a></span> <span class="id">m2</span>) <span class="kwd">as</span> [ | <span class="id">r</span>'];<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
&nbsp;&nbsp;<span class="id">case_eq</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id">o</span>) <span class="id">o</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="LPMap1.changed2">changed2</a></span> : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="LPMap1.Same">Same</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="LPMap1.Same1">Same1</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="LPMap1.Same2">Same2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="LPMap1.CC">CC</a></span>(<span class="id">m</span>: <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>).<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="LPMap1.xcombine">xcombine</a></span> (<span class="id">m1</span> <span class="id">m2</span> : <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) {<span class="kwd">struct</span> <span class="id">m1</span>} : <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.changed2">changed2</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Leaf">PTree.Leaf</a></span>, <span class="id"><a href="compcert.lib.Maps.html#PTree.Leaf">PTree.Leaf</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Leaf">PTree.Leaf</a></span>, <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r">combine_r</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.lib.Maps.html#PTree.Leaf">PTree.Leaf</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l">combine_l</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Unchanged">Unchanged</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Changed">Changed</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">l1</span> <span class="id">o1</span> <span class="id">r1</span>, <span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">l2</span> <span class="id">o2</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">o</span> := <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id">o1</span> <span class="id">o2</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#xcombine">xcombine</a></span> <span class="id">l1</span> <span class="id">l2</span>, <span class="id"><a href="compcert.lib.Lattice.html#xcombine">xcombine</a></span> <span class="id">r1</span> <span class="id">r2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">o1</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">o2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l1</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span> | <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span> | <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">o1</span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l1</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span> | <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> | <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">o2</span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l2</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l1</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span>|<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span>), <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l1</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l2</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l2</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">l</span>, (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span>|<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span>) =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">l</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">l</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span>(<span class="id">PTree.Node</span>' <span class="id">l</span> <span class="id"><a href="compcert.lib.Lattice.html#o">o</a></span> <span class="id">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.xcombine_eq">xcombine_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.xcombine">xcombine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>) /\ <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof306')">Proof.</div>
<div class="proofscript" id="proof306">
<span class="id">Opaque</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l">combine_l</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r">combine_r</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.xcombine_l">PTree.xcombine_l</a></span> <span class="id"><a href="compcert.lib.Maps.html#PTree.xcombine_r">PTree.xcombine_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">m1</span>; <span class="tactic">destruct</span> <span class="id">m2</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq_refl">tree_eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r_eq">combine_r_eq</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">m2_1</span> <span class="id">o</span> <span class="id">m2_2</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_r">combine_r</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">m2_1</span> <span class="id">o</span> <span class="id">m2_2</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l_eq">combine_l_eq</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">m1_1</span> <span class="id">o</span> <span class="id">m1_2</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine_l">combine_l</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.Node">PTree.Node</a></span> <span class="id">m1_1</span> <span class="id">o</span> <span class="id">m1_2</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">IHm1_1</span> <span class="id">m2_1</span>) (<span class="id">IHm1_2</span> <span class="id">m2_2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.xcombine">xcombine</a></span> <span class="id">m1_1</span> <span class="id">m2_1</span>);<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.xcombine">xcombine</a></span> <span class="id">m1_2</span> <span class="id">m2_2</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>;<br/>
&nbsp;&nbsp;<span class="tactic">intuition</span>; <span class="id">case_eq</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id">o</span> <span class="id">o0</span>) <span class="id">o</span>); <span class="id">case_eq</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_beq">opt_beq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id">o</span> <span class="id">o0</span>) <span class="id">o0</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">combine</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.combine">combine</a></span> (<span class="id">m1</span> <span class="id">m2</span>: <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) : <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.xcombine">xcombine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same">Same</a></span>|<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same1">Same1</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.Same2">Same2</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.CC">CC</a></span> <span class="id">m</span> =&gt; <span class="id">m</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.gcombine">gcombine</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">i</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#i">i</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine">combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>)) (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#i">i</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m1">m1</a></span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.get">PTree.get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#i">i</a></span> <span class="id"><a href="compcert.lib.Lattice.html#m2">m2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof307')">Proof.</div>
<div class="proofscript" id="proof307">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.tree_eq">tree_eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine">combine</a></span> <span class="id">m1</span> <span class="id">m2</span>) (<span class="id"><a href="compcert.lib.Maps.html#PTree.combine">PTree.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE.f">f</a></span> <span class="id">m1</span> <span class="id">m2</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine">combine</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.xcombine_eq">xcombine_eq</a></span> <span class="id">m1</span> <span class="id">m2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.xcombine">xcombine</a></span> <span class="id">m1</span> <span class="id">m2</span>); <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq_trans">opt_eq_trans</a></span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq_refl">opt_eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.COMBINE">COMBINE</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap1.lub">lub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.t">t</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine">combine</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">a</span> <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#a">a</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">u</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#L.lub">L.lub</a></span> <span class="id">u</span> <span class="id">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#a">a</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.gcombine_bot">gcombine_bot</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#f">f</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine">combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t1">t1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t2">t2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t1">t1</a></span>!<span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t2">t2</a></span>!<span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> =&gt; <span class="id">x</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span> <span class="kwd">end</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof308')">Proof.</div>
<div class="proofscript" id="proof308">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.gcombine">gcombine</a></span> <span class="id">f</span> <span class="id">H</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">p</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.opt_eq">opt_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.combine">combine</a></span> <span class="id">f</span> <span class="id">t1</span> <span class="id">t2</span>)!<span class="id">p</span>); <span class="tactic">destruct</span> (<span class="id">f</span> <span class="id">t1</span>!<span class="id">p</span> <span class="id">t2</span>!<span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="id">contradiction</span>. <span class="id">contradiction</span>. <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.ge_lub_left">ge_lub_left</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof309')">Proof.</div>
<div class="proofscript" id="proof309">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.lub">lub</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.gcombine_bot">gcombine_bot</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span>. <span class="tactic">destruct</span> <span class="id">x</span>!<span class="id">p</span>. <span class="tactic">destruct</span> <span class="id">y</span>!<span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_lub_left">L.ge_lub_left</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap1.ge_lub_right">ge_lub_right</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap1.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof310')">Proof.</div>
<div class="proofscript" id="proof310">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.lub">lub</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.gcombine_bot">gcombine_bot</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1.get">get</a></span>. <span class="tactic">destruct</span> <span class="id">y</span>!<span class="id">p</span>. <span class="tactic">destruct</span> <span class="id">x</span>!<span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_lub_right">L.ge_lub_right</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap1">LPMap1</a></span>.<br/>
<br/>
<div class="doc">Given a semi-lattice with top <span class="bracket"><span class="id">L</span></span>, the following functor implements
  a semi-lattice-with-top structure over finite maps from positive numbers to <span class="bracket"><span class="id">L.t</span></span>.
  The default value for these maps is <span class="bracket"><span class="id">L.top</span></span>.  Bottom elements are smashed. </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LPMap">LPMap</a></span>(<span class="id">L</span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>) &lt;: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">t</span>' : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="LPMap.Bot">Bot</a></span>: <span class="id">t</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a name="LPMap.Top_except">Top_except</a></span>: <span class="id"><a href="compcert.lib.Maps.html#PTree.t">PTree.t</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> -&gt; <span class="id">t</span>'.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.t">t</a></span>: <span class="kwd">Type</span> := <span class="id">t</span>'.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.get">get</a></span> (<span class="id">p</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> <span class="id">m</span> =&gt; <span class="kwd">match</span> <span class="id">m</span>!<span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="tactic">set</span> (<span class="id">p</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">v</span>: <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) (<span class="id">x</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.remove">PTree.remove</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id">m</span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id">m</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.gsspec">gsspec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">v</span> <span class="id">x</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> &lt;&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span> -&gt; ~<span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#q">q</a></span> (<span class="tactic">set</span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>)) (<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#q">q</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#v">v</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#q">q</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof311')">Proof.</div>
<div class="proofscript" id="proof311">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="tactic">set</span>. <span class="tactic">destruct</span> <span class="id">x</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id">v</span> <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span>) <span class="id">eqn</span>:<span class="id">EBOT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id">v</span> <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span>) <span class="id">eqn</span>:<span class="id">ETOP</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.grspec">PTree.grspec</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.elt_eq">PTree.elt_eq</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">q</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_sym">L.eq_sym</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gsspec">PTree.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">q</span> <span class="id">p</span>); <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof312')">Proof.</div>
<div class="proofscript" id="proof312">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof313')">Proof.</div>
<div class="proofscript" id="proof313">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_sym">L.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof314')">Proof.</div>
<div class="proofscript" id="proof314">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_trans">L.eq_trans</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.beq">beq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> <span class="id">m</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="compcert.lib.Maps.html#PTree.beq">PTree.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id">m</span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof315')">Proof.</div>
<div class="proofscript" id="proof315">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">intro</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq_refl">eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intro</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.beq_correct">PTree.beq_correct</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">generalize</span> (<span class="id">H</span> <span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">t0</span>!<span class="id">p</span>); <span class="tactic">destruct</span> (<span class="id">t1</span>!<span class="id">p</span>); <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.ge">ge</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#L.ge">L.ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>) (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof316')">Proof.</div>
<div class="proofscript" id="proof316">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.eq">eq</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof317')">Proof.</div>
<div class="proofscript" id="proof317">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id">p</span> <span class="id">y</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.bot">bot</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.get_bot">get_bot</a></span>: <span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.bot">bot</a></span> = <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof318')">Proof.</div>
<div class="proofscript" id="proof318">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.bot">bot</a></span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.bot">bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof319')">Proof.</div>
<div class="proofscript" id="proof319">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get_bot">get_bot</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.top">top</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> (<span class="id"><a href="compcert.lib.Maps.html#PTree.empty">PTree.empty</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.get_top">get_top</a></span>: <span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.top">top</a></span> = <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof320')">Proof.</div>
<div class="proofscript" id="proof320">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.top">top</a></span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.ge_top">ge_top</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.top">top</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof321')">Proof.</div>
<div class="proofscript" id="proof321">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get_top">get_top</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LPMap.LM">LM</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#LPMap1">LPMap1</a></span>(<span class="id"><a href="compcert.lib.Lattice.html#L">L</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.opt_lub">opt_lub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.lib.Lattice.html#L.lub">L.lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LPMap.lub">lub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#LPMap.t">t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Bot">Bot</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> <span class="id">m</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Lattice.html#LPMap.combine">LM.combine</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">a</span> <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#a">a</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">u</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LPMap.opt_lub">opt_lub</a></span> <span class="id">u</span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m</span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.gcombine_top">gcombine_top</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#f">f</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span> <span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.Top_except">Top_except</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.combine">LM.combine</a></span> <span class="id"><a href="compcert.lib.Lattice.html#f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t1">t1</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t2">t2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#f">f</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t1">t1</a></span>!<span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="id"><a href="compcert.lib.Lattice.html#t2">t2</a></span>!<span class="id"><a href="compcert.lib.Lattice.html#p">p</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x</span> =&gt; <span class="id">x</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span> <span class="kwd">end</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof322')">Proof.</div>
<div class="proofscript" id="proof322">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.gcombine">LM.gcombine</a></span> <span class="id">f</span> <span class="id">H</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">p</span>). <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.opt_eq">LM.opt_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="compcert.lib.Lattice.html#LPMap.combine">LM.combine</a></span> <span class="id">f</span> <span class="id">t1</span> <span class="id">t2</span>)!<span class="id">p</span>); <span class="tactic">destruct</span> (<span class="id">f</span> <span class="id">t1</span>!<span class="id">p</span> <span class="id">t2</span>!<span class="id">p</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="id">contradiction</span>. <span class="id">contradiction</span>. <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.ge_lub_left">ge_lub_left</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof323')">Proof.</div>
<div class="proofscript" id="proof323">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.lub">lub</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get_bot">get_bot</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get_bot">get_bot</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.gcombine_top">gcombine_top</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span>. <span class="tactic">destruct</span> <span class="id">t0</span>!<span class="id">p</span>. <span class="tactic">destruct</span> <span class="id">t1</span>!<span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.opt_lub">opt_lub</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#L.lub">L.lub</a></span> <span class="id">t2</span> <span class="id">t3</span>) <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span>) <span class="id">eqn</span>:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_lub_left">L.ge_lub_left</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LPMap.ge_lub_right">ge_lub_right</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LPMap.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof324')">Proof.</div>
<div class="proofscript" id="proof324">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LPMap.lub">lub</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get_bot">get_bot</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get_bot">get_bot</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.gcombine_top">gcombine_top</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.get">get</a></span>. <span class="tactic">destruct</span> <span class="id">t0</span>!<span class="id">p</span>; <span class="tactic">destruct</span> <span class="id">t1</span>!<span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap.opt_lub">opt_lub</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#L.lub">L.lub</a></span> <span class="id">t2</span> <span class="id">t3</span>) <span class="id"><a href="compcert.lib.Lattice.html#L.top">L.top</a></span>) <span class="id">eqn</span>:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_lub_right">L.ge_lub_right</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_top">L.ge_top</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LPMap">LPMap</a></span>.<br/>
<br/>
<h1> Semi-lattice over a set. </h1>
<br/>
<div class="doc">Given a set <span class="bracket"><span class="id">S</span>: <span class="id">FSetInterface.S</span></span>, the following functor
    implements a semi-lattice over these sets, ordered by inclusion. </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LFSet">LFSet</a></span> (<span class="id">S</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetInterface.html#WS">FSetInterface.WS</a></span>) &lt;: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.t">t</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.t">S.t</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span>) := <span class="id"><a href="compcert.lib.Lattice.html#S.Equal">S.Equal</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.eq_refl">S.eq_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.eq_sym">S.eq_sym</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.eq_trans">S.eq_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.beq">beq</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.equal">S.equal</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.equal_2">S.equal_2</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.ge">ge</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span>) := <span class="id"><a href="compcert.lib.Lattice.html#S.Subset">S.Subset</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LFSet.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof325')">Proof.</div>
<div class="proofscript" id="proof325">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet.eq">eq</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#S.Equal">S.Equal</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#S.Subset">S.Subset</a></span>; <span class="tactic">intros</span>. <span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LFSet.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof326')">Proof.</div>
<div class="proofscript" id="proof326">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#S.Subset">S.Subset</a></span>; <span class="tactic">intros</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span>  <span class="id"><a name="LFSet.bot">bot</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.empty">S.empty</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LFSet.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet.bot">bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof327')">Proof.</div>
<div class="proofscript" id="proof327">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.bot">bot</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#S.Subset">S.Subset</a></span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> (<span class="id"><a href="compcert.lib.Lattice.html#S.empty_1">S.empty_1</a></span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LFSet.lub">lub</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFSet.t">t</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#S.union">S.union</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LFSet.ge_lub_left">ge_lub_left</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LFSet.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof328')">Proof.</div>
<div class="proofscript" id="proof328">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet.lub">lub</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#S.Subset">S.Subset</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#S.union_2">S.union_2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LFSet.ge_lub_right">ge_lub_right</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LFSet.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof329')">Proof.</div>
<div class="proofscript" id="proof329">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet.lub">lub</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFSet.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#S.Subset">S.Subset</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#S.union_3">S.union_3</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LFSet">LFSet</a></span>.<br/>
<br/>
<h1> Flat semi-lattice </h1>
<br/>
<div class="doc">Given a type with decidable equality <span class="bracket"><span class="id">X</span></span>, the following functor
  returns a semi-lattice structure over <span class="bracket"><span class="id">X.t</span></span> complemented with
  a top and a bottom element.  The ordering is the flat ordering
  <span class="bracket"><span class="id">Bot</span> &lt; <span class="id">Inj</span> <span class="id">x</span> &lt; <span class="id">Top</span></span>. </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LFlat">LFlat</a></span>(<span class="id">X</span>: <span class="id"><a href="compcert.lib.Maps.html#EQUALITY_TYPE">EQUALITY_TYPE</a></span>) &lt;: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">t</span>' : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="LFlat.Bot">Bot</a></span>: <span class="id">t</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a name="LFlat.Inj">Inj</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#X.t">X.t</a></span> -&gt; <span class="id">t</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a name="LFlat.Top">Top</a></span>: <span class="id">t</span>'.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.t">t</a></span> : <span class="kwd">Type</span> := <span class="id">t</span>'.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>) := (<span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> := (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> := (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_sym">eq_sym</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> := (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_trans">eq_trans</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.beq">beq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Bot">Bot</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Bot">Bot</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">u</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">v</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#X.eq">X.eq</a></span> <span class="id">u</span> <span class="id">v</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof330')">Proof.</div>
<div class="proofscript" id="proof330">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Lattice.html#X.eq">X.eq</a></span> <span class="id">t0</span> <span class="id">t1</span>); <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.ge">ge</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Bot">Bot</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">a</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">b</span> =&gt; <span class="id">a</span> = <span class="id">b</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof331')">Proof.</div>
<div class="proofscript" id="proof331">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.eq">eq</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span>; <span class="tactic">intros</span>; <span class="tactic">subst</span> <span class="id">y</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof332')">Proof.</div>
<div class="proofscript" id="proof332">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">z</span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> <span class="id">t1</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.bot">bot</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Bot">Bot</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.bot">bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof333')">Proof.</div>
<div class="proofscript" id="proof333">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.top">top</a></span>: <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span> := <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.ge_top">ge_top</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.top">top</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof334')">Proof.</div>
<div class="proofscript" id="proof334">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LFlat.lub">lub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#LFlat.t">t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Bot">Bot</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Bot">Bot</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">a</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Lattice.html#X.eq">X.eq</a></span> <span class="id">a</span> <span class="id">b</span> <span class="kwd">then</span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Inj">Inj</a></span> <span class="id">a</span> <span class="kwd">else</span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat.Top">Top</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.ge_lub_left">ge_lub_left</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LFlat.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof335')">Proof.</div>
<div class="proofscript" id="proof335">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Lattice.html#X.eq">X.eq</a></span> <span class="id">t0</span> <span class="id">t1</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LFlat.ge_lub_right">ge_lub_right</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LFlat.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LFlat.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof336')">Proof.</div>
<div class="proofscript" id="proof336">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="compcert.lib.Lattice.html#X.eq">X.eq</a></span> <span class="id">t0</span> <span class="id">t1</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LFlat">LFlat</a></span>.<br/>
<br/>
<h1> Boolean semi-lattice </h1>
<br/>
<div class="doc">This semi-lattice has only two elements, <span class="bracket"><span class="id">bot</span></span> and <span class="bracket"><span class="id">top</span></span>, trivially
  ordered. </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LBoolean">LBoolean</a></span> &lt;: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.t">t</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span>) := (<span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> := (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> := (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_sym">eq_sym</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> := (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_trans">eq_trans</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.beq">beq</a></span> : <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">eqb</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<span class="kwd">Proof</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb_prop">eqb_prop</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.ge">ge</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span>) : <span class="kwd">Prop</span> := <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> = <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> \/ <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof337')">Proof.</div>
<div class="proofscript" id="proof337">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span>; <span class="tactic">tauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof338')">Proof.</div>
<div class="proofscript" id="proof338">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.bot">bot</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.bot">bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof339')">Proof.</div>
<div class="proofscript" id="proof339">
 <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">compute</span>; <span class="tactic">tauto</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.top">top</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.ge_top">ge_top</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.top">top</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof340')">Proof.</div>
<div class="proofscript" id="proof340">
 <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.top">top</a></span>; <span class="tactic">tauto</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LBoolean.lub">lub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.t">t</a></span>) := <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> || <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.ge_lub_left">ge_lub_left</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LBoolean.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof341')">Proof.</div>
<div class="proofscript" id="proof341">
 <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">compute</span>; <span class="tactic">tauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LBoolean.ge_lub_right">ge_lub_right</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LBoolean.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LBoolean.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof342')">Proof.</div>
<div class="proofscript" id="proof342">
 <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">compute</span>; <span class="tactic">tauto</span>. Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LBoolean">LBoolean</a></span>.<br/>
<br/>
<h1> Option semi-lattice </h1>
<br/>
<div class="doc">This lattice adds a top element (represented by <span class="bracket"><span class="id">None</span></span>) to a given
  semi-lattice (whose elements are injected via <span class="bracket"><span class="id">Some</span></span>). </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="LOption">LOption</a></span>(<span class="id">L</span>: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE">SEMILATTICE</a></span>) &lt;: <span class="id"><a href="compcert.lib.Lattice.html#SEMILATTICE_WITH_TOP">SEMILATTICE_WITH_TOP</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.t">t</a></span>: <span class="kwd">Type</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.t">L.t</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.eq">eq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y1</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.eq">L.eq</a></span> <span class="id">x1</span> <span class="id">y1</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof343')">Proof.</div>
<div class="proofscript" id="proof343">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_refl">L.eq_refl</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof344')">Proof.</div>
<div class="proofscript" id="proof344">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_sym">L.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof345')">Proof.</div>
<div class="proofscript" id="proof345">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">destruct</span> <span class="id">z</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.eq_trans">L.eq_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.beq">beq</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y1</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.beq">L.beq</a></span> <span class="id">x1</span> <span class="id">y1</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.beq_correct">beq_correct</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.beq">beq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof346')">Proof.</div>
<div class="proofscript" id="proof346">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.beq">beq</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.beq_correct">L.beq_correct</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>. <span class="tactic">discriminate</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.ge">ge</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y1</span> =&gt; <span class="id"><a href="compcert.lib.Lattice.html#L.ge">L.ge</a></span> <span class="id">x1</span> <span class="id">y1</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.ge_refl">ge_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof347')">Proof.</div>
<div class="proofscript" id="proof347">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.eq">eq</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_refl">L.ge_refl</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.ge_trans">ge_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span> -&gt; <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof348')">Proof.</div>
<div class="proofscript" id="proof348">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">destruct</span> <span class="id">z</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_trans">L.ge_trans</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.bot">bot</a></span> : <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.lib.Lattice.html#L.bot">L.bot</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.ge_bot">ge_bot</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.bot">bot</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof349')">Proof.</div>
<div class="proofscript" id="proof349">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.bot">bot</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_bot">L.ge_bot</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.lub">lub</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span>) : <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">x1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">y1</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#L.lub">L.lub</a></span> <span class="id">x1</span> <span class="id">y1</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.ge_lub_left">ge_lub_left</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LOption.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof350')">Proof.</div>
<div class="proofscript" id="proof350">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.lub">lub</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_lub_left">L.ge_lub_left</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.ge_lub_right">ge_lub_right</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> (<span class="id"><a href="compcert.lib.Lattice.html#LOption.lub">lub</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span> <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>) <span class="id"><a href="compcert.lib.Lattice.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof351')">Proof.</div>
<div class="proofscript" id="proof351">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.lub">lub</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Lattice.html#L.ge_lub_right">L.ge_lub_right</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="LOption.top">top</a></span> : <span class="id"><a href="compcert.lib.Lattice.html#LOption.t">t</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LOption.ge_top">ge_top</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.top">top</a></span> <span class="id"><a href="compcert.lib.Lattice.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof352')">Proof.</div>
<div class="proofscript" id="proof352">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption.ge">ge</a></span>, <span class="id"><a href="compcert.lib.Lattice.html#LOption.top">top</a></span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.lib.Lattice.html#LOption">LOption</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
