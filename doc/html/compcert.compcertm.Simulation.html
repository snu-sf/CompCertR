
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Simulation</title>
<meta name="description" content="Documentation of Coq module Simulation" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Simulation</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span>.<br/>
<span class="id">From</span> <span class="id">Paco</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">paco</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html">CoqlibC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Axioms.html">Axioms</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relations.html">Relations</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Wellfounded.Wellfounded.html">Wellfounded</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Equality.html">Program.Equality</a></span>.<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="well_founded_clos_trans">well_founded_clos_trans</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">index</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>)&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6667')">Proof.</div>
<div class="proofscript" id="proof6667">
&nbsp;&nbsp;<span class="id">hnf</span> <span class="kwd">in</span> <span class="id">WF</span>. <span class="id">hnf</span>. <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Wellfounded.Transitive_Closure.html#Acc_clos_trans">Acc_clos_trans</a></span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="clos_t_rt">clos_t_rt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span> : <span class="kwd">Type</span>) (<span class="id">R</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Definitions.html#relation">relation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#A">A</a></span>) (<span class="id">x</span> <span class="id">y</span> <span class="id">z</span> : <span class="id"><a href="compcert.compcertm.Simulation.html#A">A</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#A">A</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#x">x</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#y">y</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_refl_trans">clos_refl_trans</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#A">A</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#y">y</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#z">z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#A">A</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#x">x</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6668')">Proof.</div>
<div class="proofscript" id="proof6668">
&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">induction</span> <span class="id">H0</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_trans">t_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">IHclos_refl_trans2</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="NOSTUTTER">NOSTUTTER</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="NOSTUTTER.BACKWARD_SIM">BACKWARD_SIM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variables</span> <span class="id"><a name="NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a name="NOSTUTTER.BACKWARD_SIM.L2">L2</a></span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="NOSTUTTER.BACKWARD_SIM.index">index</a></span>: <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="NOSTUTTER.BACKWARD_SIM.order">order</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.index">index</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="NOSTUTTER._bsim">_bsim</a></span> <span class="id">bsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="NOSTUTTER.bsim_intro">bsim_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_src1</span>, &lt;&lt;<span class="id">STEPSRC</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span> <span class="id">st_tgt1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPTGT</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i1</span> <span class="id">st_src1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">PLUS</span>: <span class="id">Plus</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>&gt;&gt; \/ &lt;&lt;<span class="id">STAR</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PROGRESS</span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINAL</span>: <span class="id">exists</span> <span class="id">retv</span>, <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt; \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STEP</span>: <span class="id">exists</span> <span class="id">tr</span> <span class="id">st_tgt1</span>, <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="NOSTUTTER.bsim">bsim</a></span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span> := <span class="id">paco3</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER._bsim">_bsim</a></span> <span class="id">bot3</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NOSTUTTER.bsim_mon">bsim_mon</a></span>: <span class="id">monotone3</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER._bsim">_bsim</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6669')">Proof.</div>
<div class="proofscript" id="proof6669">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.BACKWARD_SIM">BACKWARD_SIM</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.bsim">bsim</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">bsim_mon</span>: <span class="id">paco</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="NOSTUTTER.bsim_properties">bsim_properties</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>): <span class="kwd">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="NOSTUTTER.bsim_order_wf">bsim_order_wf</a></span>: &lt;&lt;<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="NOSTUTTER.bsim_initial_states_exist">bsim_initial_states_exist</a></span>: <span class="kwd">forall</span> <span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_init_tgt</span>, &lt;&lt;<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="NOSTUTTER.bsim_match_initial_states">bsim_match_initial_states</a></span>: <span class="kwd">forall</span> <span class="id">st_init_src_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src_">st_init_src_</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_init_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i0</span> <span class="id">st_init_src</span>, &lt;&lt;<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;;<br/>
}.<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.bsim_properties">bsim_properties</a></span>: <span class="tactic">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="NOSTUTTER.backward_simulation">backward_simulation</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="NOSTUTTER.Backward_simulation">Backward_simulation</a></span> (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">props</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>).<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.Backward_simulation">Backward_simulation</a></span> {<span class="id">L1</span> <span class="id">L2</span> <span class="id">index</span>} <span class="id">order</span> <span class="id">props</span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="NOSTUTTER.to_compcert_backward_simulation">to_compcert_backward_simulation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER.backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">Smallstep.backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6670')">Proof.</div>
<div class="proofscript" id="proof6670">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">props</span>.<br/>
&nbsp;&nbsp;<span class="id">econs</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">exploit</span> <span class="id">bsim_initial_states_exist0</span>; <span class="tactic">eauto</span>. <span class="id">exploit</span> <span class="id">bsim_match_initial_states0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">punfold</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">FINAL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;progress&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">BSIM</span>. <span class="tactic">rename</span> <span class="id">H0</span> <span class="id">into</span> <span class="id">SAFE</span>. <span class="id">punfold</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">exploit</span> <span class="id">PROGRESS</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">STEP</span>. <span class="tactic">rename</span> <span class="id">H0</span> <span class="id">into</span> <span class="id">BSIM</span>. <span class="tactic">rename</span> <span class="id">H1</span> <span class="id">into</span> <span class="id">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">punfold</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">pclearbot</span>. <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#NOSTUTTER">NOSTUTTER</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="BACKWARD_SIM">BACKWARD_SIM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variables</span> <span class="id"><a name="BACKWARD_SIM.L1">L1</a></span> <span class="id"><a name="BACKWARD_SIM.L2">L2</a></span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="BACKWARD_SIM.index">index</a></span>: <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="BACKWARD_SIM.order">order</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.index">index</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="bsim_step">bsim_step</a></span> <span class="id">bsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L2">L2</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="bsim_step_step">bsim_step_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span> <span class="id">st_tgt1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPTGT</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i1</span> <span class="id">st_src1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">PLUS</span>: <span class="id">Plus</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>&gt;&gt; \/ &lt;&lt;<span class="id">STAR</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PROGRESS</span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINAL</span>: <span class="id">exists</span> <span class="id">retv</span>, <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt; \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STEP</span>: <span class="id">exists</span> <span class="id">tr</span> <span class="id">st_tgt1</span>, <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;| <span class="id"><a name="bsim_step_stutter">bsim_step_stutter</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i1</span> <span class="id">st_src1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STAR</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="_bsim">_bsim</a></span> <span class="id">bsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="bsim_intro">bsim_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_src1</span>, &lt;&lt;<span class="id">STEPSRC</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim_step">bsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="bsim">bsim</a></span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span> := <span class="id">paco3</span> <span class="id"><a href="compcert.compcertm.Simulation.html#_bsim">_bsim</a></span> <span class="id">bot3</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="bsim_mon">bsim_mon</a></span>: <span class="id">monotone3</span> <span class="id"><a href="compcert.compcertm.Simulation.html#_bsim">_bsim</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6671')">Proof.</div>
<div class="proofscript" id="proof6671">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eleft</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eright</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#BACKWARD_SIM">BACKWARD_SIM</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">bsim_mon</span>: <span class="id">paco</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="bsim_properties">bsim_properties</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>): <span class="kwd">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="bsim_order_wf">bsim_order_wf</a></span>: &lt;&lt;<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="bsim_initial_states_exist">bsim_initial_states_exist</a></span>: <span class="kwd">forall</span> <span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_init_tgt</span>, &lt;&lt;<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="bsim_match_initial_states">bsim_match_initial_states</a></span>: <span class="kwd">forall</span> <span class="id">st_init_src_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src_">st_init_src_</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_init_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i0</span> <span class="id">st_init_src</span>, &lt;&lt;<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;;<br/>
}.<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#bsim_properties">bsim_properties</a></span>: <span class="tactic">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="backward_simulation">backward_simulation</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Backward_simulation">Backward_simulation</a></span> (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">props</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim_properties">bsim_properties</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>).<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#Backward_simulation">Backward_simulation</a></span> {<span class="id">L1</span> <span class="id">L2</span> <span class="id">index</span>} <span class="id">order</span> <span class="id">props</span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bsim_to_nostutter_bsim">bsim_to_nostutter_bsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">index</span> <span class="id">i0</span> <span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ord</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#ord">ord</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#ord">ord</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">NOSTUTTER.bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id"><a href="compcert.compcertm.Simulation.html#ord">ord</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6672')">Proof.</div>
<div class="proofscript" id="proof6672">
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">i0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_src0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_tgt0</span>.<br/>
&nbsp;&nbsp;<span class="id">pcofix</span> <span class="id">CIH</span>. <span class="id">i</span>. <span class="id">pfold</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">punfold</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="tactic">eapply</span> <span class="id">FINAL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_src0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_tgt0</span>. <span class="tactic">pattern</span> <span class="id">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="id">WF</span>); <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">punfold</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">pclearbot</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">left</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>; <span class="id">ss</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pclearbot</span>. <span class="id">des</span>. <span class="id">specialize</span> (<span class="id">IH</span> <span class="id">_</span> <span class="id">STAR0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IH</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">SAFESRC</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Operators_Properties.html#clos_trans_tn1_iff">clos_trans_tn1_iff</a></span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Operators_Properties.html#clos_trans_tn1_iff">clos_trans_tn1_iff</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">BSIM</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_src0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_tgt0</span>. <span class="tactic">pattern</span> <span class="id">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="id">WF</span>); <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">IH</span>. <span class="tactic">clear</span> <span class="id">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">punfold</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">specialize</span> (<span class="id">STEP</span> <span class="id">SAFESRC</span>). <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">PROGRESS</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des</span>. <span class="id">pclearbot</span>. <span class="id">exploit</span> <span class="id">IH</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="backward_to_nostutter_backward_simulation">backward_to_nostutter_backward_simulation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#backward_simulation">NOSTUTTER.backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6673')">Proof.</div>
<div class="proofscript" id="proof6673">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">BS</span>. <span class="id">inv</span> <span class="id">props</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= (<span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id">order</span>)). <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#well_founded_clos_trans">well_founded_clos_trans</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">i</span>. <span class="id">exploit</span> <span class="id">bsim_match_initial_states0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#bsim_to_nostutter_bsim">bsim_to_nostutter_bsim</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="backward_to_compcert_backward_simulation">backward_to_compcert_backward_simulation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">Smallstep.backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>&gt;&gt;<br/>
.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6674')">Proof.</div>
<div class="proofscript" id="proof6674">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#to_compcert_backward_simulation">NOSTUTTER.to_compcert_backward_simulation</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#backward_to_nostutter_backward_simulation">backward_to_nostutter_backward_simulation</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="single_events_at">single_events_at</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">s</span>', <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s</span>' -&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#length">length</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> &lt;= 1)%<span class="id">nat</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="strict_determinate_at">strict_determinate_at</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Strict_determinate_at">Strict_determinate_at</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ssd_determ_at">ssd_determ_at</a></span>: <span class="kwd">forall</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span> <span class="id">s2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP0</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP1</span> :<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">EQ</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">EQ</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ssd_determ_at_final">ssd_determ_at_final</a></span>: <span class="kwd">forall</span> <span class="id">tr</span> <span class="id">s</span>' <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id">s</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ssd_traces_at">ssd_traces_at</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="SDStep">SDStep</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s1</span> <span class="id">t</span> <span class="id">s2</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#strict_determinate_at">strict_determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> /\ <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="SDStar">SDStar</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="SDStarN">SDStarN</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="SDPlus">SDPlus</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStar">SDStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStarN">SDStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="Dfinal_state">Dfinal_state</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">st</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) (<span class="id">retv</span>: <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="Dfinal_state_intro">Dfinal_state_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st">st</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DTM</span>: <span class="kwd">forall</span> <span class="id">retv0</span> <span class="id">retv1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL0</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st">st</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv0">retv0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL1</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st">st</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv1">retv1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#retv0">retv0</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#retv1">retv1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DTM</span>: <span class="kwd">forall</span> <span class="id">retv0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st">st</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv0">retv0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Nostep</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st">st</a></span>).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="Dinitial_state">Dinitial_state</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">st</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="Dinitial_state_intro">Dinitial_state_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INIT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st">st</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DTM</span>: <span class="kwd">forall</span> <span class="id">st0</span> <span class="id">st1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INIT0</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INIT1</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>).<br/>
<br/>
<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="GENMT">GENMT</a></span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="GENMT.match_traces">match_traces</a></span>: <span class="kwd">Type</span> := {<br/>
&nbsp;&nbsp;<span class="id"><a name="GENMT.mt_match">mt_match</a></span> :&gt; <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> -&gt; <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span> -&gt; <span class="kwd">Prop</span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="GENMT.mt_nil_left">mt_nil_left</a></span>: <span class="kwd">forall</span> <span class="id">x</span> (<span class="id">NIL</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#mt_match">mt_match</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#x">x</a></span>), <span class="id"><a href="compcert.compcertm.Simulation.html#x">x</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="GENMT.mt_nil_right">mt_nil_right</a></span>: <span class="kwd">forall</span> <span class="id">x</span> (<span class="id">NIL</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#mt_match">mt_match</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#x">x</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>), <span class="id"><a href="compcert.compcertm.Simulation.html#x">x</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>;<br/>
}.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="GENMT.receptive_at">receptive_at</a></span> (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>) (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="GENMT.Receptive_at">Receptive_at</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.sr_receptive_at">sr_receptive_at</a></span>: <span class="kwd">forall</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> -&gt; <span class="id">exists</span> <span class="id">s2</span>, <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.sr_traces_at">sr_traces_at</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="GENMT.determinate_at">determinate_at</a></span> (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>) (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="GENMT.Determinate_at">Determinate_at</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.sd_determ_at">sd_determ_at</a></span>: <span class="kwd">forall</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span> <span class="id">s2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt; <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> /\ (<span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.sd_determ_at_final">sd_determ_at_final</a></span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tr</span> <span class="id">s</span>' <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id">s</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.sd_traces_at">sd_traces_at</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="GENMT.match_traces_default">match_traces_default</a></span> (<span class="id">se</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>): <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.Build_match_traces">Build_match_traces</a></span> (<span class="id"><a href="compcert.common.Events.html#match_traces">Events.match_traces</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span>) <span class="id">_</span> <span class="id">_</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6675')">Next Obligation.</div>
<div class="proofscript" id="proof6675">
 <span class="id">inv</span> <span class="id">NIL</span>. <span class="id">ss</span>. Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof6676')">Next Obligation.</div>
<div class="proofscript" id="proof6676">
 <span class="id">inv</span> <span class="id">NIL</span>. <span class="id">ss</span>. Qed.</div>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="GENMT.match_traces_strict">match_traces_strict</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.Build_match_traces">Build_match_traces</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id">_</span> <span class="id">_</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.no_event_receptive">no_event_receptive</a></span> <span class="id">L</span> <span class="id">s</span> <span class="id">mt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DETERM</span>: <span class="kwd">forall</span> <span class="id">t1</span> <span class="id">s1</span>, <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>):<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6677')">Proof.</div>
<div class="proofscript" id="proof6677">
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id">DETERM</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_left">mt_nil_left</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">clarify</span>. <span class="id">exists</span> <span class="id">s1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">repeat</span> <span class="tactic">intro</span>. <span class="id">exploit</span> <span class="id">DETERM</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="GENMT.DStep">DStep</a></span> (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>) (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s1</span> <span class="id">t</span> <span class="id">s2</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinate_at">determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> /\ <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="GENMT.DStar">DStar</a></span> (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>) (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="GENMT.DStarN">DStarN</a></span> (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>) (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="GENMT.DPlus">DPlus</a></span> (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>) (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStarN">DStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="GENMT.strict_fsim_src">strict_fsim_src</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">SRC</span>: <span class="kwd">forall</span> <span class="id">L</span> <span class="id">st0</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> &lt;-&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_strict">match_traces_strict</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6678')">Proof.</div>
<div class="proofscript" id="proof6678">
&nbsp;&nbsp;- <span class="tactic">split</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>. <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="GENMT.strict_fsim_tgt">strict_fsim_tgt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">TGT</span>: <span class="kwd">forall</span> <span class="id">L</span> <span class="id">st0</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#strict_determinate_at">strict_determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> &lt;-&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinate_at">determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_strict">match_traces_strict</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6679')">Proof.</div>
<div class="proofscript" id="proof6679">
&nbsp;&nbsp;- <span class="tactic">split</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">ssd_determ_at0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">H0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">sd_determ_at0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">STEP0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">STEP1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>. <span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="GENMT.strict_fsim_tgt_step">strict_fsim_tgt_step</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">TGT</span>: <span class="kwd">forall</span> <span class="id">L</span> <span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span> &lt;-&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_strict">match_traces_strict</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6680')">Proof.</div>
<div class="proofscript" id="proof6680">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span>. <span class="tactic">split</span>; <span class="id">i</span>; <span class="id">des</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.strict_fsim_tgt">strict_fsim_tgt</a></span>; <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="GENMT.strict_fsim_tgt_star">strict_fsim_tgt_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">TGT</span>: <span class="kwd">forall</span> <span class="id">L</span> <span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#SDStar">SDStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span> &lt;-&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_strict">match_traces_strict</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6681')">Proof.</div>
<div class="proofscript" id="proof6681">
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="tactic">induction</span> <span class="id">H</span>; <span class="id">ii</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>; <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.strict_fsim_tgt_step">strict_fsim_tgt_step</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="GENMT.strict_fsim_tgt_plus">strict_fsim_tgt_plus</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">TGT</span>: <span class="kwd">forall</span> <span class="id">L</span> <span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span> &lt;-&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_strict">match_traces_strict</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6682')">Proof.</div>
<div class="proofscript" id="proof6682">
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">i</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.strict_fsim_tgt_star">strict_fsim_tgt_star</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.strict_fsim_tgt_step">strict_fsim_tgt_step</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.DStep_E0_SDStep">DStep_E0_SDStep</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">st1</span> <span class="id">mt_at</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt_at">mt_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6683')">Proof.</div>
<div class="proofscript" id="proof6683">
&nbsp;&nbsp;<span class="id">r</span> <span class="kwd">in</span> <span class="id">STEP</span>. <span class="id">des</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STEP</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">sd_determ_at0</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">STEP0</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">STEP1</span>. }<br/>
&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_left">mt_nil_left</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">clarify</span>. <span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">sd_determ_at0</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">STEP0</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">STEP2</span>. }<br/>
&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_left">mt_nil_left</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">clarify</span>. <span class="id">exploit</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.DStarN_E0_SDStarN">DStarN_E0_SDStarN</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">st1</span> <span class="id">mt_at</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStarN">DStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt_at">mt_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDStarN">SDStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6684')">Proof.</div>
<div class="proofscript" id="proof6684">
&nbsp;&nbsp;<span class="tactic">dependent</span> <span class="tactic">induction</span> <span class="id">STEP</span>; <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t1</span>, <span class="id">t2</span>; <span class="id">ss</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep_E0_SDStep">DStep_E0_SDStep</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">IHSTEP</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;<span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="GENMT.MIXED_SIM">MIXED_SIM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variables</span> <span class="id"><a name="GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a name="GENMT.MIXED_SIM.L2">L2</a></span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="GENMT.MIXED_SIM.index">index</a></span>: <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="GENMT.MIXED_SIM.order">order</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.index">index</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.fsim_step">fsim_step</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.fsim_step_step">fsim_step_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span> <span class="id">st_src1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPSRC</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i1</span> <span class="id">st_tgt1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((&lt;&lt;<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ (&lt;&lt;<span class="id">RECEPTIVE</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>&gt;&gt;)&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STUTTER</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dfinal_state">Dfinal_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.fsim_step_stutter">fsim_step_stutter</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i1</span> <span class="id">st_tgt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="GENMT._xsim_forward">_xsim_forward</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT._xsim_forward_intro">_xsim_forward_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.fsim_step">fsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="GENMT.MIXED_SIM.bsim_step">bsim_step</a></span> := <span class="id"><a href="compcert.compcertm.Simulation.html#bsim_step">bsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.order">order</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="GENMT._xsim_backward">_xsim_backward</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT._xsim_backward_intro">_xsim_backward_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_src1</span>, &lt;&lt;<span class="id">STEPSRC</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM.bsim_step">bsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="GENMT.xsim">xsim</a></span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span> := <span class="id">paco3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_forward">_xsim_forward</a></span> \4/ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward">_xsim_backward</a></span>) <span class="id">bot3</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GENMT._xsim_forward_mon">_xsim_forward_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_forward">_xsim_forward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6685')">Proof.</div>
<div class="proofscript" id="proof6685">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GENMT._xsim_backward_mon">_xsim_backward_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward">_xsim_backward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6686')">Proof.</div>
<div class="proofscript" id="proof6686">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eleft</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eright</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.xsim_mon">xsim_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_forward">_xsim_forward</a></span> \4/ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward">_xsim_backward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6687')">Proof.</div>
<div class="proofscript" id="proof6687">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_forward_mon">_xsim_forward_mon</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward_mon">_xsim_backward_mon</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_SIM">MIXED_SIM</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim">xsim</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">xsim_mon</span>: <span class="id">paco</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">_xsim_forward_mon</span>: <span class="id">paco</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">_xsim_backward_mon</span>: <span class="id">paco</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.xsim_init_sim">xsim_init_sim</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="GENMT.xsim_init_forward">xsim_init_forward</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSIM</span>: <span class="kwd">forall</span> <span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i0</span> <span class="id">st_init_tgt</span>, &lt;&lt;<span class="id">INITTGT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dinitial_state">Dinitial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;)<br/>
| <span class="id"><a name="GENMT.xsim_init_backward">xsim_init_backward</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITEXISTS</span>: <span class="kwd">forall</span> <span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_init_tgt</span>, &lt;&lt;<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSIM</span>: <span class="kwd">forall</span> <span class="id">st_init_src_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src_">st_init_src_</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_init_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i0</span> <span class="id">st_init_src</span>, &lt;&lt;<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;).<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="GENMT.xsim_properties">xsim_properties</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>): <span class="kwd">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.xsim_order_wf">xsim_order_wf</a></span>: &lt;&lt;<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="GENMT.xsim_initial_states_sim">xsim_initial_states_sim</a></span>: &lt;&lt;<span class="id">INIT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_init_sim">xsim_init_sim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>&gt;&gt;;<br/>
}.<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_properties">xsim_properties</a></span>: <span class="tactic">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.mixed_simulation">mixed_simulation</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="GENMT.Mixed_simulation">Mixed_simulation</a></span> (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">props</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_properties">xsim_properties</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>).<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.Mixed_simulation">Mixed_simulation</a></span> {<span class="id">L1</span> <span class="id">L2</span> <span class="id">index</span>} <span class="id">order</span> <span class="id">props</span>.<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD">MIXED_TO_BACKWARD</a></span>.<br/>
<br/>
<span class="kwd">Variables</span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD.L2">L2</a></span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD.index">index</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD.order">order</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.index">index</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD.MIXED_SIM">MIXED_SIM</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_properties">xsim_properties</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.index">index</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> := <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span>.<br/>
<br/>
<div class="doc">Orders </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.x2b_index">x2b_index</a></span> : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.X2BI_before">X2BI_before</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.X2BI_after">X2BI_after</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">i</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.index">index</a></span>).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.x2b_order">x2b_order</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_index">x2b_index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_index">x2b_index</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_order_before">x2b_order_before</a></span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">n</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span>' &lt; <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>)%<span class="id">nat</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_order">x2b_order</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id">n</span>') (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_order_after">x2b_order_after</a></span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">n</span>' <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">n</span>' &lt; <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>)%<span class="id">nat</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_order">x2b_order</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id">n</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>) (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">x2b_order_after</span>': <span class="kwd">forall</span> <span class="id">n</span> <span class="id">m</span> <span class="id">i</span>' <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_trans">clos_trans</a></span> <span class="id">_</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id">i</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_order">x2b_order</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#m">m</a></span> <span class="id">i</span>') (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_order_switch">x2b_order_switch</a></span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">n</span>' <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_order">x2b_order</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id">n</span>') (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.wf_x2b_order">wf_x2b_order</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6688')">Proof.</div>
<div class="proofscript" id="proof6688">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ACC1</span>: <span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#Acc">Acc</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">n0</span>; <span class="tactic">pattern</span> <span class="id">n0</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf_ind">lt_wf_ind</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ACC2</span>: <span class="kwd">forall</span> <span class="id">i</span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#Acc">Acc</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">i</span>; <span class="tactic">pattern</span> <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Wellfounded.Transitive_Closure.html#wf_clos_trans">wf_clos_trans</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_order_wf">xsim_order_wf</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">pattern</span> <span class="id">n</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf_ind">lt_wf_ind</a></span>; <span class="id">i</span>. <span class="tactic">clear</span> <span class="id">n</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Constructing the backward simulation </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.x2b_match_states">x2b_match_states</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_index">x2b_index</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_match_at">x2b_match_at</a></span>: <span class="kwd">forall</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_match_states">x2b_match_states</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_match_before">x2b_match_before</a></span>: <span class="kwd">forall</span> <span class="id">s1</span> <span class="id">t</span> <span class="id">s1</span>' <span class="id">s2b</span> <span class="id">s2</span> <span class="id">n</span> <span class="id">s2a</span> <span class="id">mt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s1</span>' -&gt;  <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2b">s2b</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStarN">DStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2a">s2a</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span> <span class="id">s1</span>', <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>', <span class="id">exists</span> <span class="id">s2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((&lt;&lt;<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2b">s2b</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s2</span>' /\ (&lt;&lt;<span class="id">RECEPTIVE</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span>&gt;&gt;)&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STUTTER</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#s2b">s2b</a></span> = <span class="id">s2</span>' /\ <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id">i</span>' <span class="id">s1</span>' <span class="id">s2</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_match_states">x2b_match_states</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_match_after">x2b_match_after</a></span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">s2</span> <span class="id">s2a</span> <span class="id">s1</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDStarN">SDStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2a">s2a</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2a">s2a</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_match_states">x2b_match_states</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id">x2b_match_after</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">s2</span> <span class="id">s2a</span> <span class="id">s1</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDStarN">SDStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2a">s2a</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2a">s2a</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_match_states">x2b_match_states</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6689')">Proof.</div>
<div class="proofscript" id="proof6689">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT._xsim_backward_mon_x2b">_xsim_backward_mon_x2b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i0</span> <span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward">_xsim_backward</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward">_xsim_backward</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_match_states">x2b_match_states</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> 0 <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6690')">Proof.</div>
<div class="proofscript" id="proof6690">
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>; <span class="id">pclearbot</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">right</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">econs</span> 3; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">pclearbot</span>. <span class="id">des</span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">econs</span> 3; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Exploiting mixed simulation </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="GENMT.x2b_transitions">x2b_transitions</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.index">index</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_trans_forward_final">x2b_trans_forward_final</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span> <span class="id">st_src0</span> <span class="id">st_src1</span> <span class="id">st_tgt0</span> <span class="id">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TAU</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#r">r</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dfinal_state">Dfinal_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#r">r</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_transitions">x2b_transitions</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_trans_forward_step">x2b_trans_forward_step</a></span>: <span class="kwd">forall</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">s1</span>' <span class="id">t</span> <span class="id">s1</span>'' <span class="id">s2</span>' <span class="id">i</span>' <span class="id">i</span>'' <span class="id">mt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id">s1</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s1</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">STEP</span>: <span class="kwd">forall</span> <span class="id">st_src1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPSRC</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id">s1</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i1</span> <span class="id">st_tgt1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((&lt;&lt;<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ (&lt;&lt;<span class="id">RECEPTIVE</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id">s1</span>'&gt;&gt;)&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STUTTER</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id">i</span>'&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">FSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id">i</span>'' <span class="id">s1</span>'' <span class="id">s2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_transitions">x2b_transitions</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_trans_forward_stutter">x2b_trans_forward_stutter</a></span>: <span class="kwd">forall</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">s1</span>' <span class="id">s2</span>' <span class="id">i</span>' <span class="id">i</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id">i</span>'' <span class="id">s1</span>' <span class="id">s2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">ORD0</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#clos_refl_trans">clos_refl_trans</a></span> <span class="id">_</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id">i</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ORD1</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id">i</span>'' <span class="id">i</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_transitions">x2b_transitions</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="GENMT.x2b_trans_backward">x2b_trans_backward</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i0</span> <span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward">_xsim_backward</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_match_states">x2b_match_states</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> 0 <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#x2b_transitions">x2b_transitions</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.x2b_transitions_src_tau_rev">x2b_transitions_src_tau_rev</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">s1</span> <span class="id">s1</span>' <span class="id">i</span> <span class="id">i</span>' <span class="id">s2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPSRC</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s1</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ORDER</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id">i</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRANS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_transitions">x2b_transitions</a></span> <span class="id">i</span>' <span class="id">s1</span>' <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">TRANS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_transitions">x2b_transitions</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6691')">Proof.</div>
<div class="proofscript" id="proof6691">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TRANS</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_final">x2b_trans_forward_final</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_step">x2b_trans_forward_step</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_stutter">x2b_trans_forward_stutter</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#rt_trans">rt_trans</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_backward">x2b_trans_backward</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">exploit</span> <span class="id">FINAL</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">SAFESRC</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">FINALSRC</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>. { <span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">SAFESRC</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>. } <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_plus_trans">star_plus_trans</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">right</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STAR0</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_trans">t_trans</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id">PROGRESS</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 2; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">BSIM</span>; <span class="tactic">eauto</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STAR0</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#t_trans">t_trans</a></span>; <span class="tactic">eauto</span>. }<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.x2b_progress">x2b_progress</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">s1</span> <span class="id">s2</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt; <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_transitions">x2b_transitions</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i">i</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6692')">Proof.</div>
<div class="proofscript" id="proof6692">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i0</span>; <span class="tactic">pattern</span> <span class="id">i0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="kwd">with</span> (<span class="id">R</span> := <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span>). <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_order_wf">xsim_order_wf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">REC</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">MATCH</span> <span class="id">SAFE</span>. <span class="tactic">inversion</span> <span class="id">MIXED_SIM</span>. <span class="id">dup</span> <span class="id">MATCH</span>. <span class="id">punfold</span> <span class="id">MATCH0</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;forward&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">MATCH0</span>; <span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.sflib.html#NW">NW</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id">SAFE</span> <span class="id">s1</span>) <span class="kwd">as</span> [[<span class="id">r</span> <span class="id">FINAL1</span>] | [<span class="id">t</span> [<span class="id">s1</span>' <span class="id">STEP1</span>]]]. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;final&nbsp;state&nbsp;reached&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_final">x2b_trans_forward_final</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">FINAL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des</span>. <span class="id">pclearbot</span>. <span class="id">inv</span> <span class="id">PLUS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_stutter">x2b_trans_forward_stutter</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">STAR0</span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;L1&nbsp;can&nbsp;make&nbsp;one&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">i</span>' [<span class="id">s2</span>' [<span class="id">A</span> <span class="id">MATCH</span>']]]. <span class="id">pclearbot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id">mt</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id">s2</span> <span class="id">t</span> <span class="id">s2</span>' \/ (<span class="id">s2</span> = <span class="id">s2</span>' /\ <span class="id">t</span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id">i</span>' <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">A</span>. <span class="tactic">destruct</span> <span class="id">B</span> <span class="kwd">as</span> [<span class="id">PLUS2</span> | [<span class="id">EQ1</span> [<span class="id">EQ2</span> <span class="id">ORDER</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_step">x2b_trans_forward_step</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">pclearbot</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id">REC</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_transitions_src_tau_rev">x2b_transitions_src_tau_rev</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">des</span>. <span class="id">pclearbot</span>. <span class="id">clears</span> <span class="id">t</span>. <span class="tactic">clear</span> <span class="id">t</span>. <span class="id">inv</span> <span class="id">PLUS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t1</span>, <span class="id">t2</span>; <span class="id">ss</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_trans_forward_stutter">x2b_trans_forward_stutter</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Relations.Relation_Operators.html#rt_refl">rt_refl</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;backward&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 4. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward_mon_x2b">_xsim_backward_mon_x2b</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT._xsim_backward_mon">_xsim_backward_mon</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">pclearbot</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.xsim_simulation_not_E0">xsim_simulation_not_E0</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s1</span> <span class="id">t</span> <span class="id">s1</span>', <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s1</span>' -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s2</span> <span class="id">mt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span> <span class="id">s1</span>', <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>', <span class="id">exists</span> <span class="id">s2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s2</span>' \/ (<span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> = <span class="id">s2</span>' /\ <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id">i</span>' <span class="id">s1</span>' <span class="id">s2</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>', <span class="id">exists</span> <span class="id">s2</span>', <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s2</span>' /\ <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.match_states">match_states</a></span> <span class="id">i</span>' <span class="id">s1</span>' <span class="id">s2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6693')">Proof.</div>
<div class="proofscript" id="proof6693">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">i</span>' [<span class="id">s2</span>' [<span class="id">A</span> <span class="id">B</span>]]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>'; <span class="id">exists</span> <span class="id">s2</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">A</span>. <span class="tactic">auto</span>. <span class="id">des</span>. <span class="id">clarify</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Exploiting determinacy </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.determinacy_inv">determinacy_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s2</span> <span class="id">t</span>' <span class="id">s2</span>' <span class="id">t</span>'' <span class="id">s2</span>'' (<span class="id">mt</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces">match_traces</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinate_at">determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id">t</span>' <span class="id">s2</span>' -&gt; <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> <span class="id">t</span>'' <span class="id">s2</span>'' -&gt;<br/>
&nbsp;&nbsp;(<span class="id">t</span>' = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id">t</span>'' = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id">s2</span>' = <span class="id">s2</span>'')<br/>
&nbsp;&nbsp;\/ (<span class="id">t</span>' &lt;&gt; <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id">t</span>'' &lt;&gt; <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#mt">mt</a></span> <span class="id">t</span>' <span class="id">t</span>'').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6694')">Proof.</div>
<div class="proofscript" id="proof6694">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">mt</span> <span class="id">t</span>' <span class="id">t</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at">sd_determ_at</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#silent_or_not_silent">silent_or_not_silent</a></span> <span class="id">t</span>').<br/>
&nbsp;&nbsp;- <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_left">mt_nil_left</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>. <span class="id">left</span>; <span class="tactic">intuition</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at">sd_determ_at</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#silent_or_not_silent">silent_or_not_silent</a></span> <span class="id">t</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_right">mt_nil_right</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">right</span>; <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.determinacy_star">determinacy_star</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">s1</span> <span class="id">mt_at</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt_at">mt_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">s2</span> <span class="id">s3</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt_at">mt_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt_at">mt_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s3">s3</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#mt_at">mt_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s3">s3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6695')">Proof.</div>
<div class="proofscript" id="proof6695">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">s0</span> <span class="id">s01</span> <span class="id">mt_at</span> <span class="id">ST0</span>. <span class="tactic">pattern</span> <span class="id">s0</span>, <span class="id">s01</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_E0_ind">star_E0_ind</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">H</span>, <span class="id">H1</span>, <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinacy_inv">determinacy_inv</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="id">eexact</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">EQ1</span> [<span class="id">EQ2</span> <span class="id">EQ3</span>]] | [<span class="id">NEQ1</span> [<span class="id">NEQ2</span> <span class="id">MT</span>]]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Backward simulation of L2 steps </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.x2b_match_states_bsim">x2b_match_states_bsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i0_x2b</span> <span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_match_states">x2b_match_states</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0_x2b">i0_x2b</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0_x2b">i0_x2b</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6696')">Proof.</div>
<div class="proofscript" id="proof6696">
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_src0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_tgt0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">i0_x2b</span>.<br/>
&nbsp;&nbsp;<span class="id">pcofix</span> <span class="id">CIH</span>. <span class="id">i</span>. <span class="tactic">rename</span> <span class="id">r</span> <span class="id">into</span> <span class="id">rr</span>. <span class="id">pfold</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">PROGRESS</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id">st_src0</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINAL</span>: <span class="id">exists</span> <span class="id">retv</span> : <span class="id"><a href="compcert.lib.Integers.html#int">int</a></span>, <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id">st_tgt0</span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span> &gt;&gt; \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STEP</span>: <span class="id">exists</span> (<span class="id">tr</span> : <span class="id"><a href="compcert.common.Events.html#trace">trace</a></span>) (<span class="id">st_tgt1</span> : <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span>), <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id">st_tgt0</span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> &gt;&gt;).<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;PROGRESS&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_src0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_tgt0</span>. <span class="tactic">pattern</span> <span class="id">i0_x2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_ind">well_founded_ind</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.wf_x2b_order">wf_x2b_order</a></span>). <span class="tactic">clear</span> <span class="id">i0_x2b</span>. <span class="tactic">intros</span> ? <span class="id">IH</span> ? ? ? <span class="id">SAFE</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_progress">x2b_progress</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">TRANS</span>; <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">left</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">FINALTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">PLUS</span>. <span class="id">inv</span> <span class="id">PLUS</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">right</span>; <span class="id">econstructor</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">PLUS</span>. <span class="id">inv</span> <span class="id">PLUS</span>. <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">STEP</span>. <span class="id">inv</span> <span class="id">STEP</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">specialize</span> (<span class="id">STEP</span> <span class="id">SAFE</span>). <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id">PROGRESS</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>. <span class="id">exploit</span> <span class="id">IH</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_safe">star_safe</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">STARN</span>. <span class="id">inv</span> <span class="id">STARN</span>. <span class="tactic">congruence</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">right</span>; <span class="id">econstructor</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">STARN</span>. <span class="id">inv</span> <span class="id">STARN</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">right</span>; <span class="id">econstructor</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;FINAL&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_progress">x2b_progress</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">TRANS</span>. <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span>(<span class="id">retv</span> = <span class="id">r</span>). { <span class="id">inv</span> <span class="id">FINALTGT0</span>. <span class="tactic">eapply</span> <span class="id">DTM</span>; <span class="tactic">eauto</span>. } <span class="id">clarify</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">PLUS</span>. <span class="id">inv</span> <span class="id">PLUS</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at_final">sd_determ_at_final</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">PLUS</span>. <span class="id">inv</span> <span class="id">PLUS</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#ssd_determ_at_final">ssd_determ_at_final</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">exploit</span> <span class="id">FINAL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">STARN</span>. <span class="id">inv</span> <span class="id">STARN</span>. <span class="tactic">congruence</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStep">DStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at_final">sd_determ_at_final</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">STARN</span>. <span class="id">inv</span> <span class="id">STARN</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#SDStep">SDStep</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#ssd_determ_at_final">ssd_determ_at_final</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;STEP&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;1.&nbsp;At&nbsp;matching&nbsp;states&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_progress">x2b_progress</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">TRANS</span>; <span class="id">inv</span> <span class="id">TRANS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;final&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;1.1&nbsp;&nbsp;L1&nbsp;can&nbsp;reach&nbsp;final&nbsp;state&nbsp;and&nbsp;L2&nbsp;is&nbsp;at&nbsp;final&nbsp;state:&nbsp;impossible!&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">FINALTGT</span>. <span class="id">exploit</span> <span class="id">DTM0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;forward&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;1.2&nbsp;&nbsp;L1&nbsp;can&nbsp;make&nbsp;0&nbsp;or&nbsp;several&nbsp;steps;&nbsp;L2&nbsp;can&nbsp;make&nbsp;1&nbsp;or&nbsp;several&nbsp;matching&nbsp;steps.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="id">ss</span>. <span class="id">i</span>. <span class="tactic">rename</span> <span class="id">H3</span> <span class="id">into</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">i</span>''' [<span class="id">s2</span>''' [<span class="id">STEP</span>''' <span class="id">MATCH</span>''']]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinacy_inv">determinacy_inv</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="id">eexact</span> <span class="id">STEPTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">EQ1</span> [<span class="id">EQ2</span> <span class="id">EQ3</span>]] | [<span class="id">NOT1</span> [<span class="id">NOT2</span> <span class="id">MT</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;1.2.1&nbsp;&nbsp;L2&nbsp;makes&nbsp;a&nbsp;silent&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#silent_or_not_silent">silent_or_not_silent</a></span> <span class="id">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="comment">(*&nbsp;1.2.1.1&nbsp;&nbsp;L1&nbsp;makes&nbsp;a&nbsp;silent&nbsp;transition&nbsp;too:&nbsp;perform&nbsp;transition&nbsp;now&nbsp;and&nbsp;go&nbsp;to&nbsp;"after"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H5</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">STEPS2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id">n</span> <span class="id">i</span>''); <span class="id">exists</span> <span class="id">s1</span>''; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_right">plus_right</a></span>; <span class="tactic">eauto</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">x2b_match_after</span>'; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStarN_E0_SDStarN">DStarN_E0_SDStarN</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="comment">(*&nbsp;1.2.1.2&nbsp;L1&nbsp;makes&nbsp;a&nbsp;non-silent&nbsp;transition:&nbsp;keep&nbsp;it&nbsp;for&nbsp;later&nbsp;and&nbsp;go&nbsp;to&nbsp;"before"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H5</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">STEPS2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id">n</span>); <span class="id">exists</span> <span class="id">s1</span>'; <span class="tactic">split</span>. <span class="id">right</span>; <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="id">constructor</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_one">star_one</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">i</span>'''' [<span class="id">s2</span>'''' [<span class="id">A</span> <span class="id">MATCH</span>'''']]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>''''. <span class="id">exists</span> <span class="id">s2</span>''''. <span class="tactic">destruct</span> <span class="id">A</span> <span class="kwd">as</span> [?|[? ?]]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>; <span class="id">clarify</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;1.2.2&nbsp;L2&nbsp;makes&nbsp;a&nbsp;non-silent&nbsp;transition,&nbsp;and&nbsp;so&nbsp;does&nbsp;L1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">clarify</span>. <span class="tactic">destruct</span> <span class="id">t1</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sr_traces_at">sr_traces_at</a></span> <span class="id">RECEPTIVE</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ</span> | <span class="id">EQ</span>]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">t2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Use&nbsp;receptiveness&nbsp;to&nbsp;equate&nbsp;the&nbsp;traces&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sr_receptive_at">sr_receptive_at</a></span> <span class="id">RECEPTIVE</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">s1</span>''' <span class="id">STEP1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_simulation_not_E0">xsim_simulation_not_E0</a></span>. <span class="id">eexact</span> <span class="id">STEP1</span>. <span class="tactic">auto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">i</span>'''' [<span class="id">s2</span>'''' [<span class="id">A</span> <span class="id">MATCH</span>'''']]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>''''. <span class="id">exists</span> <span class="id">s2</span>''''. <span class="tactic">destruct</span> <span class="id">A</span> <span class="kwd">as</span> [?|[? ?]]; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>. <span class="id">left</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>. <span class="id">clarify</span>. <span class="id">right</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">i</span>'''' [<span class="id">s2</span>'''' [<span class="id">P</span> <span class="id">Q</span>]]]. <span class="id">inv</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Exploit&nbsp;determinacy&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H6</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at">sd_determ_at</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">STEPTGT</span>. <span class="id">eexact</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sr_traces_at">sr_traces_at</a></span> <span class="id">RECEPTIVE</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ</span> | <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">t0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">NOT2</span>. <span class="tactic">destruct</span> <span class="id">H9</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_right">mt_nil_right</a></span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">t2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span> [<span class="id">_</span> <span class="id">TRACES</span>]. <span class="tactic">assert</span> (<span class="id">s0</span> = <span class="id">st_tgt1</span>). <span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id">TRACES</span>. <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Perform&nbsp;transition&nbsp;now&nbsp;and&nbsp;go&nbsp;to&nbsp;"after"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H7</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">STEPS2</span>]. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id">n</span> <span class="id">i</span>''''); <span class="id">exists</span> <span class="id">s1</span>'''; <span class="tactic">split</span>. <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_right">plus_right</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>. <span class="tactic">eapply</span> <span class="id">x2b_match_after</span>'; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStarN_E0_SDStarN">DStarN_E0_SDStarN</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econs</span> 1; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">t1</span>, <span class="id">t2</span>; <span class="id">ss</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#ssd_determ_at">ssd_determ_at</a></span>. <span class="tactic">apply</span> <span class="id">H4</span>. <span class="tactic">apply</span> <span class="id">H4</span>. <span class="tactic">apply</span> <span class="id">STEPTGT</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H4</span>. <span class="id">clear_tac</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H5</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">STEPS2</span>]. <span class="tactic">destruct</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">STEPS2</span>. <span class="id">ss</span>. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> 0 <span class="id">i</span>''). <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#clos_t_rt">clos_t_rt</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">n</span>) <span class="id">i</span>''). <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#clos_t_rt">clos_t_rt</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>. <span class="id">econs</span> 3; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;backward&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;2.&nbsp;Before&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="id">ss</span>. <span class="id">i</span>. <span class="tactic">assert</span>(<span class="id"><a href="compcert.compcertm.CoqlibC.html#DUMMY_PROP">DUMMY_PROP</a></span>) <span class="tactic">by</span> <span class="id">ss</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinacy_inv">determinacy_inv</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">H5</span>. <span class="id">eexact</span> <span class="id">STEPTGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">EQ1</span> [<span class="id">EQ2</span> <span class="id">EQ3</span>]] | [<span class="id">NOT1</span> [<span class="id">NOT2</span> <span class="id">MT</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;2.1&nbsp;L2&nbsp;makes&nbsp;a&nbsp;silent&nbsp;transition:&nbsp;remain&nbsp;in&nbsp;"before"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_before">X2BI_before</a></span> <span class="id">n0</span>); <span class="id">exists</span> <span class="id">st_src0</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">constructor</span>. <span class="tactic">omega</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;2.2&nbsp;L2&nbsp;make&nbsp;a&nbsp;non-silent&nbsp;transition&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">RECEPTIVE</span> : <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> <span class="id">mt</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id">st_src0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>; <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sr_traces_at">sr_traces_at</a></span> <span class="id">RECEPTIVE</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ</span> | <span class="id">EQ</span>]. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Use&nbsp;receptiveness&nbsp;to&nbsp;equate&nbsp;the&nbsp;traces&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sr_receptive_at">sr_receptive_at</a></span> <span class="id">RECEPTIVE</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">s1</span>''' <span class="id">STEP1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim_simulation_not_E0">xsim_simulation_not_E0</a></span>. <span class="id">eexact</span> <span class="id">STEP1</span>. <span class="tactic">auto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>; <span class="tactic">eauto</span>. <span class="id">clarify</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">i</span>''' [<span class="id">s2</span>''' [<span class="id">P</span> <span class="id">Q</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Exploit&nbsp;determinacy&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinacy_star">determinacy_star</a></span>. <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">eexact</span> <span class="id">STEPTGT</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_star">plus_star</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">R</span>. <span class="id">inv</span> <span class="id">R</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Smallstep.html#not_silent_length">not_silent_length</a></span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sr_traces_at">sr_traces_at</a></span> <span class="id">RECEPTIVE</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ</span> | <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">H7</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at">sd_determ_at</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">STEPTGT</span>. <span class="id">eexact</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">NOT2</span>. <span class="tactic">destruct</span> <span class="id">H10</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_nil_right">mt_nil_right</a></span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Events.html#E0_right">E0_right</a></span> <span class="kwd">in</span> *.  <span class="tactic">destruct</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">s2</span> = <span class="id">st_tgt1</span>). <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.sd_determ_at">sd_determ_at</a></span>; <span class="tactic">eauto</span>. <span class="tactic">subst</span> <span class="id">s2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Perform&nbsp;transition&nbsp;now&nbsp;and&nbsp;go&nbsp;to&nbsp;"after"&nbsp;state&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Smallstep.html#star_starN">star_starN</a></span> <span class="id">H8</span>) <span class="kwd">as</span> [<span class="id">n</span> <span class="id">STEPS2</span>]. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id">n</span> <span class="id">i</span>'''); <span class="id">exists</span> <span class="id">s1</span>'''; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>; <span class="tactic">auto</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>. <span class="tactic">eapply</span> <span class="id">x2b_match_after</span>'; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.DStarN_E0_SDStarN">DStarN_E0_SDStarN</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;3.&nbsp;After&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span> 1; <span class="id">ss</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#Eapp_E0_inv">Eapp_E0_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Simulation.html#ssd_determ_at">ssd_determ_at</a></span>. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="id">eexact</span> <span class="id">STEPTGT</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.X2BI_after">X2BI_after</a></span> <span class="id">n</span> <span class="id">i</span>); <span class="id">exists</span> <span class="id">st_src0</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="id">constructor</span>. <span class="id">constructor</span>; <span class="tactic">omega</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">x2b_match_after</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.bsim_to_xsim">bsim_to_xsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i0</span> <span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#bsim">bsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6697')">Proof.</div>
<div class="proofscript" id="proof6697">
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">i0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_src0</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">st_tgt0</span>. <span class="id">pcofix</span> <span class="id">CIH</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;<span class="id">pfold</span>. <span class="id">right</span>. <span class="id">punfold</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">pclearbot</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="id">pclearbot</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.MIXED_TO_BACKWARD">MIXED_TO_BACKWARD</a></span>.<br/>
<br/>
<div class="doc">The backward simulation </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.mixed_to_backward_simulation">mixed_to_backward_simulation</a></span>: <span class="kwd">forall</span> <span class="id">L1</span> <span class="id">L2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mixed_simulation">mixed_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6698')">Proof.</div>
<div class="proofscript" id="proof6698">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">XSIM</span>. <span class="tactic">inversion</span> <span class="id">XSIM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#Backward_simulation">Backward_simulation</a></span> <span class="kwd">with</span> (<span class="id">order0</span> := <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_order">x2b_order</a></span> <span class="id">order</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.wf_x2b_order">wf_x2b_order</a></span>. <span class="tactic">apply</span> <span class="id">props</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">props</span>. <span class="id">inv</span> <span class="id">xsim_initial_states_sim0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">exploit</span> <span class="id">INITSIM</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">INITTGT</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">props</span>. <span class="id">i</span>. <span class="id">inv</span> <span class="id">xsim_initial_states_sim0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">INITSIM</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">INITTGT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">st_init_tgt</span> = <span class="id">st_init_tgt0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">DTM</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_match_states_bsim">x2b_match_states_bsim</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">INITSIM</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.x2b_match_states_bsim">x2b_match_states_bsim</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.mixed_to_compcert_backward_simulation">mixed_to_compcert_backward_simulation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mixed_simulation">mixed_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.common.Smallstep.html#backward_simulation">Smallstep.backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6699')">Proof.</div>
<div class="proofscript" id="proof6699">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#backward_to_compcert_backward_simulation">backward_to_compcert_backward_simulation</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mixed_to_backward_simulation">mixed_to_backward_simulation</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.backward_to_mixed_simulation">backward_to_mixed_simulation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mixed_simulation">mixed_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6700')">Proof.</div>
<div class="proofscript" id="proof6700">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">BSIM</span>. <span class="id">inv</span> <span class="id">props</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">i</span>. <span class="id">exploit</span> <span class="id">bsim_match_initial_states0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.bsim_to_xsim">bsim_to_xsim</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="GENMT.receptive_at_default">receptive_at_default</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>): <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.receptive_at">receptive_at</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_default">match_traces_default</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="GENMT.determinate_at_default">determinate_at_default</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>): <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.determinate_at">determinate_at</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.match_traces_default">match_traces_default</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT.match_traces_eta">match_traces_eta</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mt0</span> <span class="id">mt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#mt0">mt0</a></span>.(<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_match">mt_match</a></span>) = <span class="id"><a href="compcert.compcertm.Simulation.html#mt1">mt1</a></span>.(<span class="id"><a href="compcert.compcertm.Simulation.html#GENMT.mt_match">mt_match</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#mt0">mt0</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#mt1">mt1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6701')">Proof.</div>
<div class="proofscript" id="proof6701">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">mt0</span>, <span class="id">mt1</span>; <span class="id">ss</span>. <span class="id">clarify</span>. <span class="tactic">f_equal</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Axioms.html#proof_irr">Axioms.proof_irr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT">GENMT</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="receptive_at">receptive_at</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Receptive_at">Receptive_at</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="sr_receptive_at">sr_receptive_at</a></span>: <span class="kwd">forall</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt; <span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> -&gt; <span class="id">exists</span> <span class="id">s2</span>, <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="sr_traces_at">sr_traces_at</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="well_behaved_traces_at">well_behaved_traces_at</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">s</span>', <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> | <span class="id">ev</span> :: <span class="id">t</span>' =&gt; <span class="id"><a href="compcert.common.Events.html#output_trace">output_trace</a></span> <span class="id">t</span>' <span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="strongly_receptive_at">strongly_receptive_at</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Strongly_receptive_at">Strongly_receptive_at</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ssr_receptive_at">ssr_receptive_at</a></span>: <span class="kwd">forall</span> <span class="id">ev1</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">ev2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#ev1">ev1</a></span> :: <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>) (<span class="id"><a href="compcert.compcertm.Simulation.html#ev1">ev1</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="compcert.compcertm.Simulation.html#ev2">ev2</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">s2</span>, <span class="id">exists</span> <span class="id">t2</span>, <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#ev2">ev2</a></span> :: <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ssr_traces_at">ssr_traces_at</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#well_behaved_traces_at">well_behaved_traces_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="determinate_at">determinate_at</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">s</span>:<span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Determinate_at">Determinate_at</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="sd_determ_at">sd_determ_at</a></span>: <span class="kwd">forall</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span> <span class="id">s2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> -&gt; <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#match_traces">match_traces</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> /\ (<span class="id"><a href="compcert.compcertm.Simulation.html#t1">t1</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#t2">t2</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="sd_determ_at_final">sd_determ_at_final</a></span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tr</span> <span class="id">s</span>' <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id">s</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="sd_traces_at">sd_traces_at</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s">s</a></span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="DStep">DStep</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">s1</span> <span class="id">t</span> <span class="id">s2</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#determinate_at">determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> /\ <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s1">s1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#t">t</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#s2">s2</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="DStar">DStar</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="DStarN">DStarN</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#starN">starN</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="DPlus">DPlus</a></span> (<span class="id">L</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#globalenv">globalenv</a></span>).<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#DStep">DStep</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#DStarN">DStarN</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">DPlus</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MIXED_SIM">MIXED_SIM</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variables</span> <span class="id"><a name="MIXED_SIM.L1">L1</a></span> <span class="id"><a name="MIXED_SIM.L2">L2</a></span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="MIXED_SIM.index">index</a></span>: <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="MIXED_SIM.order">order</a></span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="sfsim_step">sfsim_step</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="sfsim_step_step">sfsim_step_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span> <span class="id">st_src1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPSRC</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i1</span> <span class="id">st_tgt1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt; \/ &lt;&lt;<span class="id">STAR</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#SDStar">SDStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SINGLE</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#single_events_at">single_events_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dfinal_state">Dfinal_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;| <span class="id"><a name="sfsim_step_stutter">sfsim_step_stutter</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i1</span> <span class="id">st_tgt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="_xsim_strict_forward">_xsim_strict_forward</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="_xsim_strict_forward_intro">_xsim_strict_forward_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#sfsim_step">sfsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="fsim_step">fsim_step</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span>)): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="fsim_step_step">fsim_step_step</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span> <span class="id">st_src1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPSRC</span>: <span class="id">Step</span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i1</span> <span class="id">st_tgt1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((&lt;&lt;<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ (&lt;&lt;<span class="id">RECEPTIVE</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>&gt;&gt;)&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STUTTER</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> = <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ &lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dfinal_state">Dfinal_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;| <span class="id"><a name="fsim_step_stutter">fsim_step_stutter</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i1</span> <span class="id">st_tgt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span> /\ <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i1">i1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt1">st_tgt1</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="_xsim_forward">_xsim_forward</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="_xsim_forward_intro">_xsim_forward_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#fsim_step">fsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Let</span> <span class="id"><a name="MIXED_SIM.bsim_step">bsim_step</a></span> := <span class="id"><a href="compcert.compcertm.Simulation.html#bsim_step">bsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.order">order</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="_xsim_backward">_xsim_backward</a></span> <span class="id">xsim</span> (<span class="id">i0</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.index">index</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.common.Smallstep.html#state">state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="_xsim_backward_intro">_xsim_backward_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINAL</span>: <span class="kwd">forall</span> <span class="id">retv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINALTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_src1</span>, &lt;&lt;<span class="id">STEPSRC</span>: <span class="id">Star</span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FINALSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#final_state">final_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src1">st_src1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#retv">retv</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="kwd">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAFESRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#safe">safe</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM.bsim_step">bsim_step</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="xsim">xsim</a></span>: <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="id">_</span> -&gt; <span class="kwd">Prop</span> := <span class="id">paco3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_strict_forward">_xsim_strict_forward</a></span> \4/ <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_forward">_xsim_forward</a></span> \4/ <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_backward">_xsim_backward</a></span>) <span class="id">bot3</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="_xsim_strict_forward_mon">_xsim_strict_forward_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_strict_forward">_xsim_strict_forward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6702')">Proof.</div>
<div class="proofscript" id="proof6702">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="_xsim_forward_mon">_xsim_forward_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_forward">_xsim_forward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6703')">Proof.</div>
<div class="proofscript" id="proof6703">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="_xsim_backward_mon">_xsim_backward_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_backward">_xsim_backward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6704')">Proof.</div>
<div class="proofscript" id="proof6704">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">IN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eleft</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">eright</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="xsim_mon">xsim_mon</a></span>: <span class="id">monotone3</span> (<span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_strict_forward">_xsim_strict_forward</a></span> \4/ <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_forward">_xsim_forward</a></span> \4/ <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_backward">_xsim_backward</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6705')">Proof.</div>
<div class="proofscript" id="proof6705">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">left</span>. <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_strict_forward_mon">_xsim_strict_forward_mon</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">left</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_forward_mon">_xsim_forward_mon</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#_xsim_backward_mon">_xsim_backward_mon</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.Simulation.html#MIXED_SIM">MIXED_SIM</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">xsim_mon</span>: <span class="id">paco</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">_xsim_strict_forward_mon</span>: <span class="id">paco</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">_xsim_forward_mon</span>: <span class="id">paco</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">_xsim_backward_mon</span>: <span class="id">paco</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="xsim_init_sim">xsim_init_sim</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="xsim_init_forward">xsim_init_forward</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSIM</span>: <span class="kwd">forall</span> <span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i0</span> <span class="id">st_init_tgt</span>, &lt;&lt;<span class="id">INITTGT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#Dinitial_state">Dinitial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;)<br/>
| <span class="id"><a name="xsim_init_backward">xsim_init_backward</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITEXISTS</span>: <span class="kwd">forall</span> <span class="id">st_init_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st_init_tgt</span>, &lt;&lt;<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSIM</span>: <span class="kwd">forall</span> <span class="id">st_init_src_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src_">st_init_src_</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">st_init_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITTGT</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i0</span> <span class="id">st_init_src</span>, &lt;&lt;<span class="id">INITSRC</span>: <span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>&gt;&gt; /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_tgt">st_init_tgt</a></span>&gt;&gt;)<br/>
.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="xsim_properties">xsim_properties</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>): <span class="kwd">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="xsim_order_wf">xsim_order_wf</a></span>: &lt;&lt;<span class="id">WF</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded">well_founded</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="xsim_initial_states_sim">xsim_initial_states_sim</a></span>: &lt;&lt;<span class="id">INIT</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim_init_sim">xsim_init_sim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>&gt;&gt;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="xsim_public_preserved">xsim_public_preserved</a></span>: <span class="kwd">forall</span> (<span class="id">SAFESRC</span>: <span class="id">exists</span> <span class="id">st_init_src</span>, <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#initial_state">initial_state</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#st_init_src">st_init_src</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> (<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span>;<br/>
}.<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim_properties">xsim_properties</a></span>: <span class="tactic">clear</span> <span class="id">implicits</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="mixed_simulation">mixed_simulation</a></span> (<span class="id">L1</span> <span class="id">L2</span>: <span class="id"><a href="compcert.common.Smallstep.html#semantics">semantics</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Mixed_simulation">Mixed_simulation</a></span> (<span class="id">index</span>: <span class="kwd">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">props</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim_properties">xsim_properties</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span>).<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="compcert.compcertm.Simulation.html#Mixed_simulation">Mixed_simulation</a></span> {<span class="id">L1</span> <span class="id">L2</span> <span class="id">index</span>} <span class="id">order</span> <span class="id">props</span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT_determinate_at_iff">GENMT_determinate_at_iff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">se</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DTM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#determinate_at">determinate_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PUBEQ</span>: <span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DTM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#determinate_at">GENMT.determinate_at</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#match_traces_default">GENMT.match_traces_default</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6706')">Proof.</div>
<div class="proofscript" id="proof6706">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DTM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">ss</span>. <span class="id">exploit</span> (<span class="id">sd_determ_at0</span> <span class="id">t1</span> <span class="id">s1</span> <span class="id">t2</span> <span class="id">s2</span>); <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#match_traces_preserved">match_traces_preserved</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT_DStar_iff">GENMT_DStar_iff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span> <span class="id">se</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DSTAR</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PUBEQ</span>: <span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DSTAR</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DStar">GENMT.DStar</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#match_traces_default">GENMT.match_traces_default</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6707')">Proof.</div>
<div class="proofscript" id="proof6707">
&nbsp;&nbsp;<span class="id">ginduction</span> <span class="id">DSTAR</span>; <span class="id">ii</span>; <span class="id">ss</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">rr</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT_determinate_at_iff">GENMT_determinate_at_iff</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHDSTAR</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT_DPlus_iff">GENMT_DPlus_iff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">tr</span> <span class="id">st1</span> <span class="id">se</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DPLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PUBEQ</span>: <span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">DPLUS</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">GENMT.DPlus</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#match_traces_default">GENMT.match_traces_default</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#se">se</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6708')">Proof.</div>
<div class="proofscript" id="proof6708">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DPLUS</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="id">rr</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT_determinate_at_iff">GENMT_determinate_at_iff</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT_DStar_iff">GENMT_DStar_iff</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="GENMT_receptive_at_iff">GENMT_receptive_at_iff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#receptive_at">receptive_at</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">RCP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#receptive_at">GENMT.receptive_at</a></span> (<span class="id"><a href="compcert.compcertm.Simulation.html#match_traces_default">GENMT.match_traces_default</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>)) <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6709')">Proof.</div>
<div class="proofscript" id="proof6709">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RCP</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="DStar_E0_SDStar">DStar_E0_SDStar</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">st1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DStar">DStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDStar">SDStar</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6710')">Proof.</div>
<div class="proofscript" id="proof6710">
&nbsp;&nbsp;<span class="tactic">dependent</span> <span class="tactic">induction</span> <span class="id">STEP</span>; <span class="id">ii</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t1</span>, <span class="id">t2</span>; <span class="id">ss</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">IHSTEP</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">instantiate</span> (1:= []). <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">rr</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">exploit</span> (<span class="id">sd_determ_at0</span> <span class="id">t1</span> <span class="id">s0</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s2</span>); <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">sd_determ_at0</span> <span class="id">t2</span> <span class="id">s4</span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id">s2</span>); <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. }<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="DPlus_E0_SDPlus">DPlus_E0_SDPlus</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L</span> <span class="id">st0</span> <span class="id">st1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">DPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L">L</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st0">st0</a></span> <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st1">st1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6711')">Proof.</div>
<div class="proofscript" id="proof6711">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>. <span class="id">rr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">des</span>. <span class="tactic">destruct</span> <span class="id">t1</span>, <span class="id">t2</span>; <span class="id">ss</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">determ_tac</span> <span class="id">sd_determ_at0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">STEP1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">determ_tac</span> <span class="id">sd_determ_at0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>; <span class="id">ss</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H4</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#DStar_E0_SDStar">DStar_E0_SDStar</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="xsim_to_generalized_xsim">xsim_to_generalized_xsim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span> <span class="id">index</span> (<span class="id">order</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#index">index</a></span> -&gt; <span class="kwd">Prop</span>) <span class="id">i0</span> <span class="id">st_src0</span> <span class="id">st_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PUBEQ</span>: <span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Senv.public_symbol">Senv.public_symbol</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>) <span class="id"><a href="compcert.compcertm.Simulation.html#id">id</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#xsim">GENMT.xsim</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#order">order</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#i0">i0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_src0">st_src0</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#st_tgt0">st_tgt0</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6712')">Proof.</div>
<div class="proofscript" id="proof6712">
&nbsp;&nbsp;<span class="id">revert_until</span> <span class="id">order</span>. <span class="id">pcofix</span> <span class="id">CIH</span>. <span class="id">i</span>. <span class="id">pfold</span>. <span class="id">punfold</span> <span class="id">XSIM</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;- <span class="id">left</span>. <span class="id">inv</span> <span class="id">XSIM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">pclearbot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">T</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#SDPlus">SDPlus</a></span> <span class="id">L2</span> <span class="id">st_tgt0</span> <span class="id">tr</span> <span class="id">st_tgt1</span> \/ (<span class="id">st_tgt0</span> = <span class="id">st_tgt1</span> /\ <span class="id">tr</span> = <span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> /\ <span class="id">order</span> <span class="id">i1</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">des</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STAR</span>; <span class="tactic">eauto</span>. <span class="id">left</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">left</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#strict_fsim_tgt_plus">GENMT.strict_fsim_tgt_plus</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#strict_fsim_src">GENMT.strict_fsim_src</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pclearbot</span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">left</span>. <span class="id">inv</span> <span class="id">XSIM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">pclearbot</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.Simulation.html#match_traces_default">GENMT.match_traces_default</a></span> <span class="id">L1</span>.(<span class="id"><a href="compcert.common.Smallstep.html#symbolenv">symbolenv</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT_DPlus_iff">GENMT_DPlus_iff</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#GENMT_receptive_at_iff">GENMT_receptive_at_iff</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pclearbot</span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#DPlus_E0_SDPlus">DPlus_E0_SDPlus</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">right</span>. <span class="id">inv</span> <span class="id">XSIM</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">STEP0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des_safe</span>. <span class="id">pclearbot</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">pclearbot</span>. <span class="id">econs</span> 2; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mixed_to_generalized_mixed_simulation">mixed_to_generalized_mixed_simulation</a></span>: <span class="kwd">forall</span> <span class="id">L1</span> <span class="id">L2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#mixed_simulation">mixed_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span> -&gt; <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_simulation">GENMT.mixed_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6713')">Proof.</div>
<div class="proofscript" id="proof6713">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">L1</span> <span class="id">L2</span> <span class="id">XSIM</span>. <span class="tactic">inversion</span> <span class="id">XSIM</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">props</span>. <span class="id">econs</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">xsim_initial_states_sim0</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span> 1; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">INITSIM</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim_to_generalized_xsim">xsim_to_generalized_xsim</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">xsim_public_preserved0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span> 2; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">INITSIM</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#xsim_to_generalized_xsim">xsim_to_generalized_xsim</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">xsim_public_preserved0</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mixed_to_backward_simulation">mixed_to_backward_simulation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">L1</span> <span class="id">L2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">XSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_simulation">mixed_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">BSIM</span>: <span class="id"><a href="compcert.compcertm.Simulation.html#backward_simulation">backward_simulation</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L1">L1</a></span> <span class="id"><a href="compcert.compcertm.Simulation.html#L2">L2</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6714')">Proof.</div>
<div class="proofscript" id="proof6714">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_to_backward_simulation">GENMT.mixed_to_backward_simulation</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Simulation.html#mixed_to_generalized_mixed_simulation">mixed_to_generalized_mixed_simulation</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
