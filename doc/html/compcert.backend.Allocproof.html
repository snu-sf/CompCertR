
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Allocproof</title>
<meta name="description" content="Documentation of Coq module Allocproof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Allocproof</h1>
<div class="coq">
<br/>
<div class="doc">Correctness proof for the <span class="bracket"><span class="id">Allocation</span></span> pass (validated translation from
  RTL to LTL). </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.funind.FunInd.html">FunInd</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Ordered.html">Ordered</a></span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span> <span class="id"><a href="compcert.lib.Lattice.html">Lattice</a></span> <span class="id"><a href="compcert.backend.Kildall.html">Kildall</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.x86_64.Archi.html">Archi</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.x86.Op.html">Op</a></span> <span class="id"><a href="compcert.backend.Registers.html">Registers</a></span> <span class="id"><a href="compcert.backend.RTL.html">RTL</a></span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span> <span class="id"><a href="compcert.backend.RTLtyping.html">RTLtyping</a></span> <span class="id"><a href="compcert.backend.LTL.html">LTL</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.backend.Allocation.html">Allocation</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_prog">match_prog</a></span> (<span class="id">p</span>: <span class="id"><a href="compcert.backend.RTL.html#program">RTL.program</a></span>) (<span class="id">tp</span>: <span class="id"><a href="compcert.backend.LTL.html#program">LTL.program</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Linking.html#match_program">match_program</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tp">tp</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_program_match">transf_program_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">tp</span>, <span class="id"><a href="compcert.backend.Allocation.html#transf_program">transf_program</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tp">tp</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tp">tp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3707')">Proof.</div>
<div class="proofscript" id="proof3707">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Linking.html#match_transform_partial_program">match_transform_partial_program</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Soundness of structural checks </h1>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="expand_move">expand_move</a></span> (<span class="id">m</span>: <span class="tactic">move</span>) : <span class="id"><a href="compcert.backend.LTL.html#instruction">instruction</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">src</span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst</span>) =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omove">Omove</a></span> (<span class="id">src</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst</span>) =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lgetstack">Lgetstack</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">dst</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">src</span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>) =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lsetstack">Lsetstack</a></span> <span class="id">src</span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lreturn">Lreturn</a></span>    <span class="docright">(* should never happen  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MVmakelong">MVmakelong</a></span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omakelong">Omakelong</a></span> (<span class="id">src1</span>::<span class="id">src2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MVlowlong">MVlowlong</a></span> <span class="id">src</span> <span class="id">dst</span> =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Olowlong">Olowlong</a></span> (<span class="id">src</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MVhighlong">MVhighlong</a></span> <span class="id">src</span> <span class="id">dst</span> =&gt; <span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.x86.Op.html#Ohighlong">Ohighlong</a></span> (<span class="id">src</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="expand_moves">expand_moves</a></span> (<span class="id">mv</span>: <span class="id"><a href="compcert.backend.Allocation.html#moves">moves</a></span>) (<span class="id">k</span>: <span class="id"><a href="compcert.backend.LTL.html#bblock">bblock</a></span>) : <span class="id"><a href="compcert.backend.LTL.html#bblock">bblock</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_move">expand_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> ++ <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="wf_move">wf_move</a></span> (<span class="id">m</span>: <span class="tactic">move</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#MV">MV</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="wf_moves">wf_moves</a></span> (<span class="id">mv</span>: <span class="id"><a href="compcert.backend.Allocation.html#moves">moves</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">List.Forall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_move">wf_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="expand_block_shape">expand_block_shape</a></span>: <span class="id"><a href="compcert.backend.Allocation.html#block_shape">block_shape</a></span> -&gt; <span class="id"><a href="compcert.backend.RTL.html#instruction">RTL.instruction</a></span> -&gt; <span class="id"><a href="compcert.backend.LTL.html#bblock">LTL.bblock</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_nop">ebs_nop</a></span>: <span class="kwd">forall</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSnop">BSnop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Inop">Inop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_move">ebs_move</a></span>: <span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSmove">BSmove</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omove">Omove</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_makelong">ebs_makelong</a></span>: <span class="kwd">forall</span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSmakelong">BSmakelong</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1">src1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2">src2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Omakelong">Omakelong</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src1">src1</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#src2">src2</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_lowlong">ebs_lowlong</a></span>: <span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSlowlong">BSlowlong</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_highlong">ebs_highlong</a></span>: <span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BShighlong">BShighlong</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.x86.Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_op">ebs_op</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">res</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSop">BSop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">res</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lop">Lop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id">args</span>' <span class="id">res</span>' :: <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_op_dead">ebs_op_dead</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSopdead">BSopdead</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load">ebs_load</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload">BSload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id">args</span>' <span class="id">dst</span>' :: <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load2">ebs_load2</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">addr2</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args1</span>' <span class="id">dst1</span>' <span class="id">mv2</span> <span class="id">args2</span>' <span class="id">dst2</span>' <span class="id">mv3</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv3">mv3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> 4 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload2">BSload2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args1</span>' <span class="id">dst1</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id">args2</span>' <span class="id">dst2</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv3">mv3</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id">args1</span>' <span class="id">dst1</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> <span class="id">args2</span>' <span class="id">dst2</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv3">mv3</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load2_1">ebs_load2_1</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload2_1">BSload2_1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id">args</span>' <span class="id">dst</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load2_2">ebs_load2_2</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">addr2</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> 4 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSload2_2">BSload2_2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lload">Lload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> <span class="id">args</span>' <span class="id">dst</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load_dead">ebs_load_dead</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSloaddead">BSloaddead</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_store">ebs_store</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">src</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">src</span>' <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSstore">BSstore</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">src</span>' <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Istore">Istore</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#chunk">chunk</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id">args</span>' <span class="id">src</span>' :: <span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_store2">ebs_store2</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">addr2</span> <span class="id">args</span> <span class="id">src</span> <span class="id">mv1</span> <span class="id">args1</span>' <span class="id">src1</span>' <span class="id">mv2</span> <span class="id">args2</span>' <span class="id">src2</span>' <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> 4 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSstore2">BSstore2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args1</span>' <span class="id">src1</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id">args2</span>' <span class="id">src2</span>' <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Istore">Istore</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id">args1</span>' <span class="id">src1</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr2">addr2</a></span> <span class="id">args2</span>' <span class="id">src2</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_call">ebs_call</a></span>: <span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ros</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv1</span> <span class="id">ros</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BScall">BScall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">ros</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Icall">Icall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lcall">Lcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id">ros</span>' :: <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_tailcall">ebs_tailcall</a></span>: <span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ros</span> <span class="id">args</span> <span class="id">mv</span> <span class="id">ros</span>' <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BStailcall">BStailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">ros</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Itailcall">Itailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Ltailcall">Ltailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id">ros</span>' :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_builtin">ebs_builtin</a></span>: <span class="kwd">forall</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">res</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSbuiltin">BSbuiltin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">res</span>' <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Ibuiltin">Ibuiltin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Lbuiltin">Lbuiltin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef">ef</a></span> <span class="id">args</span>' <span class="id">res</span>' :: <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv2">mv2</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_cond">ebs_cond</a></span>: <span class="kwd">forall</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">mv</span> <span class="id">args</span>' <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BScond">BScond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#cond">cond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">args</span>' <span class="id"><a href="compcert.backend.Allocproof.html#s1">s1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s2">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Icond">Icond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#cond">cond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s1">s1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s2">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lcond">Lcond</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#cond">cond</a></span> <span class="id">args</span>' <span class="id"><a href="compcert.backend.Allocproof.html#s1">s1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s2">s2</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_jumptable">ebs_jumptable</a></span>: <span class="kwd">forall</span> <span class="id">arg</span> <span class="id">mv</span> <span class="id">arg</span>' <span class="id">tbl</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSjumptable">BSjumptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#tbl">tbl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Ijumptable">Ijumptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tbl">tbl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Ljumptable">Ljumptable</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#tbl">tbl</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_return">ebs_return</a></span>: <span class="kwd">forall</span> <span class="id">optarg</span> <span class="id">mv</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#BSreturn">BSreturn</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#optarg">optarg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Ireturn">Ireturn</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#optarg">optarg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lreturn">Lreturn</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">MonadInv</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; [<span class="id">MonadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="id">MonadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> ?<span class="id">x</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">discriminate</span>|<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">MonadInv</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; [<span class="tactic">discriminate</span>|<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">MonadInv</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; [<span class="id">MonadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> (<span class="id">_</span>, <span class="id">_</span>) =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="expand_moves_cons">expand_moves_cons</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">accu</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) (<span class="id"><a href="compcert.backend.Allocproof.html#expand_move">expand_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3708')">Proof.</div>
<div class="proofscript" id="proof3708">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span>; <span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extract_moves_sound">extract_moves_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">mv</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves">extract_moves</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = (<span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span>, <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3709')">Proof.</div>
<div class="proofscript" id="proof3709">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">BASE</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">accu</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) /\ <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">IND</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">accu</span> <span class="id">mv</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves">extract_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = (<span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span>, <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">BASE</span>; <span class="tactic">auto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#is_move_operation">is_move_operation</a></span> <span class="id">op</span> <span class="id">args</span>) <span class="kwd">as</span> [<span class="id">arg</span>|] <span class="id">eqn</span>:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#is_move_operation_correct">is_move_operation_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;reg-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">BASE</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;stack-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;reg-stack&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">IND</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extract_moves_ext_sound">extract_moves_ext_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">mv</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves_ext">extract_moves_ext</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = (<span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span>, <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3710')">Proof.</div>
<div class="proofscript" id="proof3710">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">BASE</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">accu</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) /\ <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">IND</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">accu</span> <span class="id">mv</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#extract_moves_ext">extract_moves_ext</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = (<span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span>, <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#accu">accu</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">BASE</span>; <span class="tactic">auto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#classify_operation">classify_operation</a></span> <span class="id">op</span> <span class="id">args</span>).<br/>
&nbsp;&nbsp;* <span class="comment">(*&nbsp;reg-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="comment">(*&nbsp;default&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">BASE</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;stack-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;reg-stack&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">IND</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="check_succ_sound">check_succ_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">b</span>, <span class="id"><a href="compcert.backend.Allocation.html#check_succ">check_succ</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">exists</span> <span class="id">k</span>, <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3711')">Proof.</div>
<div class="proofscript" id="proof3711">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">s</span> <span class="id">s0</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">UseParsingLemmas</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="compcert.backend.Allocation.html#extract_moves">extract_moves</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> = (<span class="id">_</span>, <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#extract_moves_sound">extract_moves_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="compcert.backend.Allocation.html#extract_moves_ext">extract_moves_ext</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> = (<span class="id">_</span>, <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#extract_moves_ext_sound">extract_moves_ext_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="compcert.backend.Allocation.html#check_succ">check_succ</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">discriminate</span> <span class="id">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#check_succ_sound">check_succ_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pair_instr_block_sound">pair_instr_block_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">b</span> <span class="id">bsh</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#pair_instr_block">pair_instr_block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3712')">Proof.</div>
<div class="proofscript" id="proof3712">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">OP</span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">args</span> <span class="id">res</span> <span class="id">s</span> <span class="id">b</span> <span class="id">bsh</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#pair_Iop_block">pair_Iop_block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Iop">Iop</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#op">op</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#pair_Iop_block">pair_Iop_block</a></span>; <span class="tactic">intros</span>. <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_op">ebs_op</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_op_dead">ebs_op_dead</a></span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
- <span class="comment">(*&nbsp;nop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;op&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#classify_operation">classify_operation</a></span> <span class="id">o</span> <span class="id">l</span>).<br/>
+ <span class="comment">(*&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn</span>:<span class="id">SL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn</span>:<span class="id">SL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn</span>:<span class="id">SL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;other&nbsp;ops&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;load&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [ | [] <span class="id">b0</span>]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">m</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span> <span class="kwd">as</span> [ | [] <span class="id">b</span>]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">subst</span> <span class="id">m</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load2">ebs_load2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">subst</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Op.html#eq_addressing">eq_addressing</a></span> <span class="id">a</span> <span class="id">addr</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load2_1">ebs_load2_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#option_eq">option_eq</a></span> <span class="id"><a href="compcert.x86.Op.html#eq_addressing">eq_addressing</a></span> (<span class="id"><a href="compcert.x86.Op.html#offset_addressing">offset_addressing</a></span> <span class="id">a</span> 4) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">addr</span>)).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load2_2">ebs_load2_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load">ebs_load</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_load_dead">ebs_load_dead</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span>; <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">i</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#chunk_eq">chunk_eq</a></span> <span class="id">m</span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> &amp;&amp; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span> <span class="kwd">as</span> [ | [] <span class="id">b</span>]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">subst</span> <span class="id">m</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_store2">ebs_store2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#ebs_store">ebs_store</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[] ]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;tailcall&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[] ]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b1</span> <span class="kwd">as</span> [|[] ]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;cond&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[]]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;jumptable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[]]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[]]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="matching_instr_block">matching_instr_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">pc</span> <span class="id">bsh</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f1">f1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f2">f2</a></span>)!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#fn_code">RTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f1">f1</a></span>)!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, (<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f2">f2</a></span>)!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3713')">Proof.</div>
<div class="proofscript" id="proof3713">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PTree.gcombine">PTree.gcombine</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f2</span>)!<span class="id">pc</span> <span class="kwd">as</span> [<span class="id">b</span>|].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#pair_instr_block_sound">pair_instr_block_sound</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of equations </h1>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESF">ESF</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet">EqSet</a></span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESP">ESP</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet">EqSet</a></span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESD">ESD</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetDecide.html#Decide">FSetDecide.Decide</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet">EqSet</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sel_val">sel_val</a></span> (<span class="id">k</span>: <span class="id"><a href="compcert.backend.Allocation.html#equation_kind">equation_kind</a></span>) (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) : <span class="id"><a href="compcert.common.Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> =&gt; <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> =&gt; <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> =&gt; <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">A set of equations <span class="bracket"><span class="id">e</span></span> is satisfied in a RTL pseudoreg state <span class="bracket"><span class="id">rs</span></span>
  and an LTL location state <span class="bracket"><span class="id">ls</span></span> if, for every equation <span class="bracket"><span class="id">r</span> = <span class="id">l</span> [<span class="id">k</span>]</span> in <span class="bracket"><span class="id">e</span></span>,
  <span class="bracket"><span class="id">sel_val</span> <span class="id">k</span> (<span class="id">rs</span>#<span class="id">r</span>)</span> (the <span class="bracket"><span class="id">k</span></span> fragment of <span class="bracket"><span class="id">r</span></span>'s value in the RTL code)
  is less defined than <span class="bracket"><span class="id">ls</span> <span class="id">l</span></span> (the value of <span class="bracket"><span class="id">l</span></span> in the LTL code). </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="satisf">satisf</a></span> (<span class="id">rs</span>: <span class="id"><a href="compcert.backend.RTL.html#regset">regset</a></span>) (<span class="id">ls</span>: <span class="id"><a href="compcert.backend.LTL.html#locset">locset</a></span>) (<span class="id">e</span>: <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">q</span>, <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="empty_eqs_satisf">empty_eqs_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span>, <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocation.html#empty_eqs">empty_eqs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3714')">Proof.</div>
<div class="proofscript" id="proof3714">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#empty_eqs">empty_eqs</a></span>; <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="satisf_incr">satisf_incr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> (<span class="id">e1</span> <span class="id">e2</span>: <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.Subset">EqSet.Subset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3715')">Proof.</div>
<div class="proofscript" id="proof3715">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="satisf_undef_reg">satisf_undef_reg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> &lt;- <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3716')">Proof.</div>
<div class="proofscript" id="proof3716">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">r</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equation_lessdef">add_equation_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">q</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) -&gt; <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3717')">Proof.</div>
<div class="proofscript" id="proof3717">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.add_1">EqSet.add_1</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equation_satisf">add_equation_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">q</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3718')">Proof.</div>
<div class="proofscript" id="proof3718">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span>. <span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_satisf">add_equations_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations">add_equations</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3719')">Proof.</div>
<div class="proofscript" id="proof3719">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">rl</span>; <span class="tactic">destruct</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_lessdef">add_equations_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations">add_equations</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>##<span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span>) (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3720')">Proof.</div>
<div class="proofscript" id="proof3720">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">rl</span>; <span class="tactic">destruct</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">e</span> := <span class="id">e</span>) (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">a</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_args_satisf">add_equations_args_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tyl">tyl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ll">ll</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3721')">Proof.</div>
<div class="proofscript" id="proof3721">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">e</span>'. <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
- <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_longofwords_eq_1">val_longofwords_eq_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> -&gt; <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) = <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3722')">Proof.</div>
<div class="proofscript" id="proof3722">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
- <span class="tactic">reflexivity</span>.<br/>
- <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_longofwords_eq_2">val_longofwords_eq_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> -&gt; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) = <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3723')">Proof.</div>
<div class="proofscript" id="proof3723">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span>; <span class="tactic">assumption</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_args_lessdef">add_equations_args_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tyl">tyl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ll">ll</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type_list">Val.has_type_list</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>##<span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#tyl">tyl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>##<span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ll">ll</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3724')">Proof.</div>
<div class="proofscript" id="proof3724">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">e</span>'. <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_args">add_equations_args</a></span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">r1</span> <span class="id">l1</span>). <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> (<span class="id">rs</span>#<span class="id">r1</span>)) <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">r1</span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">r1</span> <span class="id">l2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equation_ros_satisf">add_equation_ros_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">ros</span> <span class="id">mos</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equation_ros">add_equation_ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mos">mos</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3725')">Proof.</div>
<div class="proofscript" id="proof3725">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation_ros">add_equation_ros</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ros</span>; <span class="tactic">destruct</span> <span class="id">mos</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="remove_equation_satisf">remove_equation_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">q</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3726')">Proof.</div>
<div class="proofscript" id="proof3726">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span>; <span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="remove_equation_res_satisf">remove_equation_res_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">r</span> <span class="id">l</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_res">remove_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3727')">Proof.</div>
<div class="proofscript" id="proof3727">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_equation_satisf">remove_equation_satisf</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_equation_satisf">remove_equation_satisf</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_equation_satisf">remove_equation_satisf</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_reg_l_monotone">select_reg_l_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq">OrderedEquation.eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> \/ <span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.lt">OrderedEquation.lt</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3728')">Proof.</div>
<div class="proofscript" id="proof3728">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span> <span class="kwd">in</span> *. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">A</span> | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_reg_h_monotone">select_reg_h_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq">OrderedEquation.eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> \/ <span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.lt">OrderedEquation.lt</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3729')">Proof.</div>
<div class="proofscript" id="proof3729">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span> <span class="kwd">in</span> *. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">A</span> | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_reg_charact">select_reg_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">q</span>, <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> &lt;-&gt; <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3730')">Proof.</div>
<div class="proofscript" id="proof3730">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span>, <span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span>; <span class="tactic">intros</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Registers.html#reg">reg</a></span>; <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_refl">Pos.leb_refl</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reg_unconstrained_sound">reg_unconstrained_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> &lt;&gt; <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3731')">Proof.</div>
<div class="proofscript" id="proof3731">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span>; <span class="tactic">intros</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.mem_between">EqSet.mem_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id">r</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id">r</span>) <span class="id">e</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.mem_between_2">EqSet.mem_between_2</a></span> <span class="kwd">with</span> <span class="id">q</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3732')">Proof.</div>
<div class="proofscript" id="proof3732">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gso">PMap.gso</a></span>. <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_loc_l_monotone">select_loc_l_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id">OrderedEquation</span>'.<span class="id">eq</span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> \/ <span class="id">OrderedEquation</span>'.<span class="id">lt</span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3733')">Proof.</div>
<div class="proofscript" id="proof3733">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span>; <span class="tactic">intros</span>. <span class="tactic">set</span> (<span class="id">lb</span> := <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">q2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span> = <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span> \/ <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>) <span class="id">lb</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) <span class="id">lb</span>) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) <span class="id">lb</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>. <span class="id">eexact</span> <span class="id">l1</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_loc_h_monotone">select_loc_h_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id">OrderedEquation</span>'.<span class="id">eq</span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> \/ <span class="id">OrderedEquation</span>'.<span class="id">lt</span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3734')">Proof.</div>
<div class="proofscript" id="proof3734">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span>; <span class="tactic">intros</span>. <span class="tactic">set</span> (<span class="id">lb</span> := <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">q2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span> = <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span> \/ <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q2</span>) <span class="id">lb</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> <span class="id">lb</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>)) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q1</span>) <span class="id">lb</span>).<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>. <span class="id">eexact</span> <span class="id">l1</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.eq_sym">OrderedLoc.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_loc_charact">select_loc_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> &lt;-&gt; <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3735')">Proof.</div>
<div class="proofscript" id="proof3735">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span>, <span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span>; <span class="tactic">intros</span>; <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.outside_interval_diff">OrderedLoc.outside_interval_diff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>)); <span class="tactic">assumption</span> || <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>)); <span class="tactic">assumption</span> || <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_outside_interval">OrderedLoc.diff_outside_interval</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span> | <span class="id">A</span>].<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#OrderedLoc.eq_sym">OrderedLoc.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_unconstrained_sound">loc_unconstrained_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3736')">Proof.</div>
<div class="proofscript" id="proof3736">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>:<span class="id">SL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>:<span class="id">SH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.mem_between">EqSet2.mem_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.mem_between_2">EqSet2.mem_between_2</a></span> <span class="kwd">with</span> <span class="id">q</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">k</span> <span class="id">r</span> <span class="id">mr</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr">mr</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3737')">Proof.</div>
<div class="proofscript" id="proof3737">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id">l</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>) <span class="id">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> &lt;&gt; <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> /\ <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3738')">Proof.</div>
<div class="proofscript" id="proof3738">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="parallel_assignment_satisf">parallel_assignment_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">r</span> <span class="id">mr</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr">mr</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id">v</span>' <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3739')">Proof.</div>
<div class="proofscript" id="proof3739">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id">l</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id">k</span>; <span class="id">ereg</span> := <span class="id">r</span>; <span class="id">eloc</span> := <span class="id">l</span> |} <span class="id">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="parallel_assignment_satisf_2">parallel_assignment_satisf_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">res</span> <span class="id">res</span>' <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_res">remove_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id">res</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id">e</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">l</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id">e</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.common.AST.html#regs_of_rpair">regs_of_rpair</a></span> <span class="id">res</span>')) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id">res</span>' <span class="id">v</span>' <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3740')">Proof.</div>
<div class="proofscript" id="proof3740">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
- <span class="comment">(*&nbsp;One&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">InvBooleans</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span>. <span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Two&nbsp;32-bit&nbsp;halves&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span> |} <span class="id">e</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">InvBooleans</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e</span>'). <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span>; <span class="tactic">simpl</span>; <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="in_elements_between_1">in_elements_between_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">s</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between">EqSet.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>) &lt;-&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3741')">Proof.</div>
<div class="proofscript" id="proof3741">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between_iff">EqSet.elements_between_iff</a></span>, <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r1</span>). <span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r1</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_reg">in_subst_reg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">q</span> (<span class="id">e</span>: <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#r2">r2</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;\/ <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> &lt;&gt; <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3742')">Proof.</div>
<div class="proofscript" id="proof3742">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">IN0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">q</span>: <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elt">EqSet.elt</a></span>) <span class="id">e</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_elements_between_1">in_elements_between_1</a></span> <span class="id">r1</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between">EqSet.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id">r1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id">r1</span>) <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">IN_ELT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">P</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">x</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>; <span class="id">ereg</span> := <span class="id">r2</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Q</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">IN_ELT</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id">IN_ELT</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_satisf">subst_reg_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3743')">Proof.</div>
<div class="proofscript" id="proof3743">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg">in_subst_reg</a></span> <span class="id">dst</span> <span class="id">src</span> <span class="id">q</span> <span class="id">e</span> <span class="id">H0</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">dst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_reg_kind">in_subst_reg_kind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">k1</span> <span class="id">r2</span> <span class="id">k2</span> <span class="id">q</span> (<span class="id">e</span>: <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>, <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) = (<span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span>, <span class="id"><a href="compcert.backend.Allocproof.html#k1">k1</a></span>) /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k2">k2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2">r2</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k1">k1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k2">k2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;\/ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r1">r1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k1">k1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r2">r2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k2">k2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3744')">Proof.</div>
<div class="proofscript" id="proof3744">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r1</span> <span class="id">k1</span> <span class="id">r2</span> <span class="id">k2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">IN0</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_reg">subst_reg</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">q</span>: <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elt">EqSet.elt</a></span>) <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id">k1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k2</span> <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) (<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_elements_between_1">in_elements_between_1</a></span> <span class="id">r1</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id"><a href="compcert.backend.Allocation.html#EqSet.elements_between">EqSet.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_l">select_reg_l</a></span> <span class="id">r1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_reg_h">select_reg_h</a></span> <span class="id">r1</span>) <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">IN_ELT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> = <span class="id">k1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id">k2</span> <span class="id">r2</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">P</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id">f</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id">f</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id">k2</span>; <span class="id">ereg</span> := <span class="id">r2</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> \/ <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> &lt;&gt; <span class="id">k1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Q</span> <span class="id">elt</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.fold">EqSet.fold</a></span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">f</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">H3</span>. <span class="tactic">tauto</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">split</span>. <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id">IN_ELT</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_kind_satisf_makelong">subst_reg_kind_satisf_makelong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e1</span> := <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1">src1</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e2</span> := <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2">src2</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#src1">src1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#src2">src2</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3745')">Proof.</div>
<div class="proofscript" id="proof3745">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">src1</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">B</span>]; <span class="id">fold</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">src2</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">_</span> <span class="id">e1</span> <span class="id">B</span>) <span class="kwd">as</span> [[<span class="id">C</span> <span class="id">D</span>] | <span class="id">D</span>]; <span class="id">fold</span> <span class="id">e2</span> <span class="kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">C</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">D</span>. <span class="id">inv</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id">rs</span>#<span class="id">src1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src1</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">D</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">src2</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">q</span> <span class="id">e1</span> <span class="id">B</span>) <span class="kwd">as</span> [[<span class="id">C</span> <span class="id">D</span>] | <span class="id">D</span>]; <span class="id">fold</span> <span class="id">e2</span> <span class="kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">C</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id">rs</span>#<span class="id">src2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src1</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">D</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_kind_satisf_lowlong">subst_reg_kind_satisf_lowlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e1</span> := <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3746')">Proof.</div>
<div class="proofscript" id="proof3746">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">src</span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">B</span>]; <span class="id">fold</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_kind_satisf_highlong">subst_reg_kind_satisf_highlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e1</span> := <span class="id"><a href="compcert.backend.Allocation.html#subst_reg_kind">subst_reg_kind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3747')">Proof.</div>
<div class="proofscript" id="proof3747">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">src</span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">B</span>]; <span class="id">fold</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESF2">ESF2</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet2">EqSet2</a></span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESP2">ESP2</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet2">EqSet2</a></span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESD2">ESD2</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetDecide.html#Decide">FSetDecide.Decide</a></span>(<span class="id"><a href="compcert.backend.Allocation.html#EqSet2">EqSet2</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="partial_fold_ind">partial_fold_ind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) (<span class="id">P</span>: <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.t">EqSet2.t</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#A">A</a></span> -&gt; <span class="kwd">Prop</span>) <span class="id">f</span> <span class="id">init</span> <span class="id">final</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.fold">EqSet2.fold</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">q</span> <span class="id">opte</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#opte">opte</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#init">init</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#final">final</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>', <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.Empty">EqSet2.Empty</a></span> <span class="id">s</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#P">P</a></span> <span class="id">s</span>' <span class="id"><a href="compcert.backend.Allocproof.html#init">init</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">a</span>' <span class="id">a</span>'' <span class="id">s</span>' <span class="id">s</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x">x</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> -&gt; ~<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x">x</a></span> <span class="id">s</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#Add">ESP2.Add</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x">x</a></span> <span class="id">s</span>' <span class="id">s</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#x">x</a></span> <span class="id">a</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>'' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#P">P</a></span> <span class="id">s</span>' <span class="id">a</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#P">P</a></span> <span class="id">s</span>'' <span class="id">a</span>'') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#P">P</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#final">final</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3748')">Proof.</div>
<div class="proofscript" id="proof3748">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">g</span> := <span class="kwd">fun</span> <span class="id">q</span> <span class="id">opte</span> =&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#opte">opte</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> =&gt; <span class="id">f</span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id">e</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">s1</span> <span class="id">opte</span> =&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#opte">opte</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> =&gt; <span class="id">P</span> <span class="id"><a href="compcert.backend.Allocproof.html#s1">s1</a></span> <span class="id">e</span> <span class="kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">Q</span> <span class="id">s</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">final</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#fold_rec">ESP2.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">g</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">e</span>|]; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">f</span> <span class="id">x</span> <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">e</span>'|] <span class="id">eqn</span>:<span class="id">F</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_loc">in_subst_loc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">q</span> (<span class="id">e</span> <span class="id">e</span>': <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span>) <span class="id">e</span>') \/ (<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id">e</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3749')">Proof.</div>
<div class="proofscript" id="proof3749">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span>; <span class="tactic">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">e0</span>' <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between">EqSet2.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e0</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">q0</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>; <span class="id">eloc</span> := <span class="id">l2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> = <span class="id">l1</span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>) (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id">P</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>)); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>, <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">rewrite</span> <span class="id">e</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id">H2</span>. <span class="tactic">split</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>; <span class="id">eloc</span> := <span class="id">l2</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; ~<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>)); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>, <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between_iff">EqSet2.elements_between_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_type_compat_charact">loc_type_compat_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#loc_type_compat">loc_type_compat</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#sel_type">sel_type</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) (<span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>))) (<span class="id"><a href="compcert.backend.Locations.html#Loc.type">Loc.type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> \/ <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3750')">Proof.</div>
<div class="proofscript" id="proof3750">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#loc_type_compat">loc_type_compat</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.for_all_between_iff">EqSet2.for_all_between_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="well_typed_move_charact">well_typed_move_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">l</span> <span class="id">e</span> <span class="id">k</span> <span class="id">r</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> =&gt; <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>) <span class="id">ty</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3751')">Proof.</div>
<div class="proofscript" id="proof3751">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">mr</span> | <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>].<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_type_compat_charact">loc_type_compat_charact</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> | <span class="id">A</span>].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.has_subtype">Val.has_subtype</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">H1</span> <span class="id">r</span>). <span class="tactic">destruct</span> <span class="id">k</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">r</span>); <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">r</span>); <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_not_eq">Loc.diff_not_eq</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="val_lessdef_normalize">val_lessdef_normalize</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">ty</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty">ty</a></span> -&gt; <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.load_result">Val.load_result</a></span> (<span class="id"><a href="compcert.common.AST.html#chunk_of_type">chunk_of_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty">ty</a></span>) <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3752')">Proof.</div>
<div class="proofscript" id="proof3752">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Values.html#Val.load_result_same">Val.load_result_same</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_satisf">subst_loc_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3753')">Proof.</div>
<div class="proofscript" id="proof3753">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc">in_subst_loc</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">dst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">q</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">r</span> <span class="id">l</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#well_typed_move_charact">well_typed_move_charact</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">mr</span> | <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_lessdef_normalize">val_lessdef_normalize</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_loc_part">in_subst_loc_part</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">k</span> <span class="id">q</span> (<span class="id">e</span> <span class="id">e</span>': <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span>) <span class="id">e</span>') \/ (<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id">e</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3754')">Proof.</div>
<div class="proofscript" id="proof3754">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span>; <span class="tactic">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">k</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">e0</span>' <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between">EqSet2.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e0</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">q0</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>) <span class="id">k</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>; <span class="id">eloc</span> := <span class="id">l2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> = <span class="id">l1</span> /\ <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> = <span class="id">k</span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id">P</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k</span>); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>, <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">rewrite</span> <span class="id">e</span>, &lt;- <span class="id">e1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> (<span class="id">X</span> &amp; <span class="id">Y</span> &amp; <span class="id">Z</span>). <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>; <span class="id">eloc</span> := <span class="id">l2</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; ~<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>)); <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id">k</span>); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>, <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between_iff">EqSet2.elements_between_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_part_satisf_lowlong">subst_loc_part_satisf_lowlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>) <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>))) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3755')">Proof.</div>
<div class="proofscript" id="proof3755">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc_part">in_subst_loc_part</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">B</span>. <span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">C</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>. <span class="tactic">exact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_part_satisf_highlong">subst_loc_part_satisf_highlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_part">subst_loc_part</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>) <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>))) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3756')">Proof.</div>
<div class="proofscript" id="proof3756">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc_part">in_subst_loc_part</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">B</span>. <span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">C</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>. <span class="tactic">exact</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_loc_pair">in_subst_loc_pair</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l2</span>' <span class="id">q</span> (<span class="id">e</span> <span class="id">e</span>': <span class="id"><a href="compcert.backend.Allocation.html#eqs">eqs</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_pair">subst_loc_pair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span>  <span class="id">l2</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span>) <span class="id">e</span>' /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id">l2</span>') <span class="id">e</span>')<br/>
&nbsp;&nbsp;\/ (<span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id">e</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3757')">Proof.</div>
<div class="proofscript" id="proof3757">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#subst_loc_pair">subst_loc_pair</a></span>; <span class="tactic">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l2</span>' <span class="id">q</span> <span class="id">e0</span> <span class="id">e0</span>' <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between">EqSet2.elements_between</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span>) (<span class="id"><a href="compcert.backend.Allocation.html#eqs2">eqs2</a></span> <span class="id">e0</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">q0</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>) <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>; <span class="id">eloc</span> := <span class="id">l2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#add_equation">add_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span>; <span class="id">eloc</span> := <span class="id">l2</span>' |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q0">q0</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span> = <span class="id">l1</span> /\ <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span> = <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">l2</span>') <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id">P</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>, ! <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">rewrite</span> <span class="id">e</span>, <span class="id">e1</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> (<span class="id">U</span> &amp; <span class="id">V</span> &amp; <span class="id">W</span> &amp; <span class="id">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>; <span class="id">eloc</span> := <span class="id">l2</span> |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">x</span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span>; <span class="id">ereg</span> := <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>; <span class="id">eloc</span> := <span class="id">l2</span>' |}).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span> <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; ~<span class="id"><a href="compcert.backend.Allocation.html#EqSet2.In">EqSet2.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">x</span>)); <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#IndexedEqKind.eq">IndexedEqKind.eq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">x</span>) <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.backend.Allocproof.html#add_iff">ESF.add_iff</a></span>, ! <span class="id"><a href="compcert.backend.Allocproof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.elements_between_iff">EqSet2.elements_between_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="long_type_compat_charact">long_type_compat_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#long_type_compat">long_type_compat</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>)) <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> \/ <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3758')">Proof.</div>
<div class="proofscript" id="proof3758">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#long_type_compat">long_type_compat</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet2.for_all_between_iff">EqSet2.for_all_between_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_l">select_loc_l</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#select_loc_h">select_loc_h</a></span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocation.html#eqs_same">eqs_same</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_loc_charact">select_loc_charact</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_pair_satisf_makelong">subst_loc_pair_satisf_makelong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc_pair">subst_loc_pair</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1">src1</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2">src2</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#long_type_compat">long_type_compat</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>) (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src1">src1</a></span>)) (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src2">src2</a></span>))) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3759')">Proof.</div>
<div class="proofscript" id="proof3759">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc_pair">in_subst_loc_pair</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> [<span class="id">B</span> [<span class="id">C</span> <span class="id">D</span>]]] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
- <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">B</span>. <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id">env</span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>)) <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#long_type_compat_charact">long_type_compat_charact</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">P</span>|<span class="id">P</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_not_eq">Loc.diff_not_eq</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> <span class="id">rs</span>#(<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>. <span class="tactic">exact</span> <span class="id">C</span>. <span class="tactic">exact</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.has_subtype">Val.has_subtype</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assumption</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_undef_sound">can_undef_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">ml</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef">can_undef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3760')">Proof.</div>
<div class="proofscript" id="proof3760">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="undef_regs_outside">undef_regs_outside</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ml</span> <span class="id">ls</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span>) -&gt; <span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3761')">Proof.</div>
<div class="proofscript" id="proof3761">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">IHml</span>. <span class="tactic">tauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_undef_satisf">can_undef_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef">can_undef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3762')">Proof.</div>
<div class="proofscript" id="proof3762">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#undef_regs_outside">undef_regs_outside</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_sound">can_undef_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_undef_except_sound">can_undef_except_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lx</span> <span class="id">e</span> <span class="id">ml</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef_except">can_undef_except</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#lx">lx</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.backend.Locations.html#Loc.diff">Loc.diff</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#lx">lx</a></span> -&gt; <span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3763')">Proof.</div>
<div class="proofscript" id="proof3763">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_elim">orb_true_elim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="kwd">in</span> <span class="id">e0</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHml</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#subst_loc">subst_loc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#well_typed_move">well_typed_move</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef_except">can_undef_except</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#src">src</a></span>) (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ml">ml</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3764')">Proof.</div>
<div class="proofscript" id="proof3764">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#in_subst_loc">in_subst_loc</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">dst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">q</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">r</span> <span class="id">l</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#well_typed_move_charact">well_typed_move_charact</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">mr</span> | <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id">H3</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_lessdef_normalize">val_lessdef_normalize</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> (<span class="id">H3</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#undef_regs_outside">undef_regs_outside</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_except_sound">can_undef_except_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transfer_use_def_satisf">transfer_use_def_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">args</span> <span class="id">res</span> <span class="id">args</span>' <span class="id">res</span>' <span class="id">und</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer_use_def">transfer_use_def</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id">args</span>' <span class="id">res</span>' <span class="id"><a href="compcert.backend.Allocproof.html#und">und</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>##<span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">args</span>') /\<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>', <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">res</span>') <span class="id">v</span>' (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#und">und</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3765')">Proof.</div>
<div class="proofscript" id="proof3765">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transfer_use_def">transfer_use_def</a></span>; <span class="tactic">intros</span>. <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_res_lessdef">add_equations_res_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">oty</span> <span class="id">l</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_res">add_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#oty">oty</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#oty">oty</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ty</span> =&gt; <span class="id">ty</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> <span class="kwd">end</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3766')">Proof.</div>
<div class="proofscript" id="proof3766">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span>)); <span class="tactic">eauto</span>.<br/>
- <span class="tactic">subst</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> <span class="id">rs</span>#<span class="id">r</span>) <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">r</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">caller</span> <span class="id">callee</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#caller">caller</a></span> (<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#caller">caller</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#callee">callee</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3767')">Proof.</div>
<div class="proofscript" id="proof3767">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">auto</span> || <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="no_caller_saves_sound">no_caller_saves_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#no_caller_saves">no_caller_saves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#callee_save_loc">callee_save_loc</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3768')">Proof.</div>
<div class="proofscript" id="proof3768">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#no_caller_saves">no_caller_saves</a></span>, <span class="id"><a href="compcert.backend.Conventions.html#callee_save_loc">callee_save_loc</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.for_all_2">EqSet.for_all_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">hnf</span>. <span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lazy</span> <span class="id">beta</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>). <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_hiword_longofwords">val_hiword_longofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v1">v1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v2">v2</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#v1">v1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3769')">Proof.</div>
<div class="proofscript" id="proof3769">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_loword_longofwords">val_loword_longofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v1">v1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v2">v2</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3770')">Proof.</div>
<div class="proofscript" id="proof3770">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_return_satisf">function_return_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls_before</span> <span class="id">ls_after</span> <span class="id">res</span> <span class="id">res</span>' <span class="id">sg</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id">res</span>' = <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_res">remove_equations_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id">res</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_before">ls_before</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">l</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id">e</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.common.AST.html#regs_of_rpair">regs_of_rpair</a></span> <span class="id">res</span>')) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#no_caller_saves">no_caller_saves</a></span> <span class="id">e</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">res</span>') <span class="id"><a href="compcert.backend.Allocproof.html#ls_after">ls_after</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_before">ls_before</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_after">ls_after</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls_after">ls_after</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3771')">Proof.</div>
<div class="proofscript" id="proof3771">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
- <span class="comment">(*&nbsp;One&nbsp;register&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span> |} <span class="id">e</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e</span>'). <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span>; <span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#no_caller_saves_sound">no_caller_saves_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Two&nbsp;32-bit&nbsp;halves&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H9</span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span> |} <span class="id">e</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_loword_longofwords">val_loword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">res</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">mr1</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_hiword_longofwords">val_hiword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e</span>'). <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span>; <span class="tactic">simpl</span>; <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">C</span> <span class="id">D</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#no_caller_saves_sound">no_caller_saves_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_left_sound">compat_left_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_left">compat_left</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3772')">Proof.</div>
<div class="proofscript" id="proof3772">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#compat_left">compat_left</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.for_all_between_iff">EqSet.for_all_between_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l</span> (<span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id">q</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">x2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_left2_sound">compat_left2_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_left2">compat_left2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#l1">l1</a></span>) \/ (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#eloc">eloc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#q">q</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#l2">l2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3773')">Proof.</div>
<div class="proofscript" id="proof3773">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#compat_left2">compat_left2</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocation.html#EqSet.for_all_between_iff">EqSet.for_all_between_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#select_reg_charact">select_reg_charact</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">x2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="compcert.backend.Allocproof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_entry_satisf">compat_entry_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rl</span> <span class="id">ll</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_entry">compat_entry</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ll">ll</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl">vl</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ll">ll</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl">vl</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rl">rl</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3774')">Proof.</div>
<div class="proofscript" id="proof3774">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">e</span>. <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id"><a href="compcert.backend.Allocation.html#compat_entry">compat_entry</a></span> <span class="id">rl</span> <span class="id">ll</span> <span class="id">e</span>); <span class="tactic">intros</span>.<br/>
- <span class="comment">(*&nbsp;no&nbsp;params&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gi">Regmap.gi</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#ekind">ekind</a></span> <span class="id">q</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;a&nbsp;param&nbsp;in&nbsp;a&nbsp;single&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">r1</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#compat_left_sound">compat_left_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;a&nbsp;param&nbsp;split&nbsp;across&nbsp;two&nbsp;locations&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#ereg">ereg</a></span> <span class="id">q</span>) <span class="id">r1</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#compat_left2_sound">compat_left2_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]]; <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">l1</span>) (<span class="id">ls</span> <span class="id">l2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_hiword_longofwords">val_hiword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">l1</span>) (<span class="id">ls</span> <span class="id">l2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_loword_longofwords">val_loword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;error&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="call_regs_param_values">call_regs_param_values</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> (<span class="id"><a href="compcert.backend.LTL.html#call_regs">call_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>)) (<span class="id"><a href="compcert.backend.Conventions.html#loc_parameters">loc_parameters</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3775')">Proof.</div>
<div class="proofscript" id="proof3775">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Conventions.html#loc_parameters">loc_parameters</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_compose">list_map_compose</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_exten">list_map_exten</a></span>; <span class="tactic">intros</span>. <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.backend.LTL.html#call_regs">call_regs</a></span> <span class="id">ls</span> (<span class="id"><a href="compcert.backend.Conventions.html#parameter_of_argument">parameter_of_argument</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>) = <span class="id">ls</span> <span class="id"><a href="compcert.backend.Allocproof.html#l">l</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">r</span> | [] <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="id">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_acceptable">loc_arguments_acceptable</a></span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="return_regs_arg_values">return_regs_arg_values</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ls1</span> <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#tailcall_is_possible">tailcall_is_possible</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> (<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1">ls1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2">ls2</a></span>)) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2">ls2</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3776')">Proof.</div>
<div class="proofscript" id="proof3776">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Conventions.html#tailcall_is_possible_correct">tailcall_is_possible_correct</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_exten">list_map_exten</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair_exten">Locmap.getpair_exten</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">l</span> (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>))) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.AST.html#in_regs_of_rpairs">in_regs_of_rpairs</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Conventions.html#loc_arguments_acceptable_2">loc_arguments_acceptable_2</a></span>; <span class="tactic">eauto</span>. <span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="id">contradiction</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_function_tailcall">find_function_tailcall</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">ros</span> <span class="id">ls1</span> <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#ros_compatible_tailcall">ros_compatible_tailcall</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#find_function_ptr">find_function_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> (<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1">ls1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2">ls2</a></span>) = <span class="id"><a href="compcert.backend.LTL.html#find_function_ptr">find_function_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2">ls2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3777')">Proof.</div>
<div class="proofscript" id="proof3777">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#ros_compatible_tailcall">ros_compatible_tailcall</a></span>, <span class="id"><a href="compcert.backend.LTL.html#find_function_ptr">find_function_ptr</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ros</span> <span class="kwd">as</span> [<span class="id">r</span>|<span class="id">id</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id">r</span>). <span class="tactic">discriminate</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loadv_int64_split">loadv_int64_split</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> -&gt; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.backend.Allocproof.html#v1">v1</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.backend.Allocproof.html#v2">v2</a></span>)<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#a">a</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 4))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.backend.Allocproof.html#v2">v2</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.backend.Allocproof.html#v1">v1</a></span>)<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v1">v1</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3778')">Proof.</div>
<div class="proofscript" id="proof3778">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_int64_split">Mem.loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span>, <span class="id">v2</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">C</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>, <span class="id"><a href="compcert.lib.Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3779')">Proof.</div>
<div class="proofscript" id="proof3779">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">arg</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">arg</span>'1; <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">arg</span>'2; <span class="id">MonadInv</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">arg</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">arg</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>', <span class="id"><a href="compcert.common.Events.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id">arg</span>' <span class="id">v</span>' /\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3780')">Proof.</div>
<div class="proofscript" id="proof3780">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">arg</span>' <span class="id">AE</span> <span class="id">SAT</span> <span class="id">WT</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
- <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">ls</span> <span class="id">x0</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">arg</span>'1; <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">arg</span>'2; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">LD2</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">x0</span>) (<span class="id">ls</span> <span class="id">x1</span>)); <span class="tactic">split</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_2">val_longofwords_eq_2</a></span> <span class="id">rs</span>#<span class="id">x</span>); <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">e0</span>; <span class="tactic">apply</span> <span class="id">WT</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">exploit</span> <span class="id">IHeval_builtin_arg1</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v2</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.common.Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">v1</span> <span class="id">v2</span>); <span class="tactic">split</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">barg</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">exploit</span> <span class="id">IHeval_builtin_arg1</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">v1</span>' &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v2</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.common.Values.html#Val.add_lessdef">Val.add_lessdef</a></span>, <span class="id"><a href="compcert.common.Values.html#Val.addl_lessdef">Val.addl_lessdef</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3781')">Proof.</div>
<div class="proofscript" id="proof3781">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">arg</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_args_lessdef">add_equations_builtin_args_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">arg</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>', <span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm">tm</a></span> <span class="id">arg</span>' <span class="id">vl</span>' /\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl">vl</a></span> <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3782')">Proof.</div>
<div class="proofscript" id="proof3782">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
- <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>); <span class="tactic">split</span>; <span class="id">constructor</span>.<br/>
- <span class="id">exploit</span> <span class="id">IHlist_forall2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">vl</span>' &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.common.Events.html#eval_builtin_arg_lessdef">eval_builtin_arg_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">ls</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">v1</span>'' :: <span class="id">vl</span>'); <span class="tactic">split</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_debug_args_satisf">add_equations_debug_args_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_debug_args">add_equations_debug_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3783')">Proof.</div>
<div class="proofscript" id="proof3783">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">arg</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id">env</span> <span class="id">a</span> <span class="id">b</span> <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">e1</span>|] <span class="id">eqn</span>:<span class="id">A</span>;<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_debug_args_eval">add_equations_debug_args_eval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">arg</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equations_debug_args">add_equations_debug_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>', <span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tm">tm</a></span> <span class="id">arg</span>' <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3784')">Proof.</div>
<div class="proofscript" id="proof3784">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
- <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>); <span class="id">constructor</span>.<br/>
- <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.common.Values.html#val">val</a></span>); <span class="id">constructor</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_arg">add_equations_builtin_arg</a></span> <span class="id">env</span> <span class="id">a1</span> <span class="id">b</span> <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">e1</span>|] <span class="id">eqn</span>:<span class="id">A</span>.<br/>
+ <span class="id">exploit</span> <span class="id">IHlist_forall2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">vl</span>' &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_debug_args_satisf">add_equations_debug_args_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="compcert.common.Events.html#eval_builtin_arg_lessdef">eval_builtin_arg_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">ls</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">v1</span>'' :: <span class="id">vl</span>'); <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_eval">add_equations_builtin_eval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ef</span> <span class="id">env</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">e1</span> <span class="id">e2</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">rs</span> <span class="id">ls</span> <span class="id">se</span> (<span class="id">ge</span>: <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">vargs</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.backend.Allocproof.html#ef">ef</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#EF_debug">EF_debug</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#add_equations_debug_args">add_equations_debug_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id">args</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>              =&gt; <span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id">args</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1">m1</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> # <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1">m1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs">vargs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#se">se</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vargs">vargs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m1">m1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#t">t</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vres">vres</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> /\<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>' <span class="id">vres</span>' <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id">m1</span>' <span class="id">args</span>' <span class="id">vargs</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ef">ef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#se">se</a></span> <span class="id">vargs</span>' <span class="id">m1</span>' <span class="id"><a href="compcert.backend.Allocproof.html#t">t</a></span> <span class="id">vres</span>' <span class="id">m2</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#vres">vres</a></span> <span class="id">vres</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m2">m2</a></span> <span class="id">m2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3785')">Proof.</div>
<div class="proofscript" id="proof3785">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>: <span class="id"><a href="compcert.backend.Allocation.html#add_equations_builtin_args">add_equations_builtin_args</a></span> <span class="id">env</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">e1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e1</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>' <span class="id">vres</span>' <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">sp</span> <span class="id">m1</span>' <span class="id">args</span>' <span class="id">vargs</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id">ef</span> <span class="id">se</span> <span class="id">vargs</span>' <span class="id">m1</span>' <span class="id">t</span> <span class="id">vres</span>' <span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">vres</span> <span class="id">vres</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m2</span> <span class="id">m2</span>').<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_args_lessdef">add_equations_builtin_args_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vargs</span>' &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vres</span>' &amp; <span class="id">m2</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>', <span class="id">vres</span>', <span class="id">m2</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ef</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_debug_args_satisf">add_equations_debug_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_debug_args_eval">add_equations_debug_args_eval</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vargs</span>' &amp; <span class="id">A</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>', <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>, <span class="id">m1</span>'. <span class="tactic">intuition</span> <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="parallel_set_builtin_res_satisf">parallel_set_builtin_res_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">res</span> <span class="id">res</span>' <span class="id">e0</span> <span class="id">e1</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#remove_equations_builtin_res">remove_equations_builtin_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id">res</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e0">e0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#reg_unconstrained">reg_unconstrained</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span>) (<span class="id"><a href="compcert.common.AST.html#params_of_builtin_res">params_of_builtin_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">mr</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#loc_unconstrained">loc_unconstrained</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mr">mr</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span>) (<span class="id"><a href="compcert.common.AST.html#params_of_builtin_res">params_of_builtin_res</a></span> <span class="id">res</span>') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Registers.html#regmap_setres">regmap_setres</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">res</span>' <span class="id">v</span>' <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#e0">e0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3786')">Proof.</div>
<div class="proofscript" id="proof3786">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb_forall">forallb_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res</span>, <span class="id">res</span>'; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span> <span class="kwd">with</span> (<span class="id">k</span> := <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#reg_loc_unconstrained">reg_loc_unconstrained</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">res</span>'1; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">res</span>'2; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">x0</span> <span class="id">into</span> <span class="id">hi</span>; <span class="tactic">rename</span> <span class="id">x1</span> <span class="id">into</span> <span class="id">lo</span>. <span class="id">MonadInv</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Machregs.html#mreg_eq">mreg_eq</a></span> <span class="id">hi</span> <span class="id">lo</span>); <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span>; <span class="id">ereg</span> := <span class="id">x</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">hi</span> |} <span class="id">e0</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>'' := <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span> {| <span class="id"><a href="compcert.backend.Allocation.html#Eq">ekind</a></span> := <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span>; <span class="id">ereg</span> := <span class="id">x</span>; <span class="id">eloc</span> := <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">lo</span> |} <span class="id">e</span>') <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Low">Low</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">lo</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#OrderedEquation.eq_dec">OrderedEquation.eq_dec</a></span> <span class="id">q</span> (<span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#High">High</a></span> <span class="id">x</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">hi</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> (<span class="tactic">red</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocation.html#EqSet.In">EqSet.In</a></span> <span class="id">q</span> <span class="id">e</span>'').<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">e</span>'', <span class="id">e</span>', <span class="id"><a href="compcert.backend.Allocation.html#remove_equation">remove_equation</a></span>; <span class="tactic">simpl</span>; <span class="id">ESD.fsetdec</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of the dataflow analysis </h1>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="analyze_successors">analyze_successors</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">an</span> <span class="id">pc</span> <span class="id">bs</span> <span class="id">s</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span>!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs">bs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#successors_block_shape">successors_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs">bs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>', <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!<span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' /\ <span class="id"><a href="compcert.backend.Allocation.html#EqSet.Subset">EqSet.Subset</a></span> <span class="id">e</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3787')">Proof.</div>
<div class="proofscript" id="proof3787">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span>; <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocation.html#DS.fixpoint_allnodes_solution">DS.fixpoint_allnodes_solution</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#DS.L.ge">DS.L.ge</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">s</span> <span class="id">an</span>#<span class="id">s</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="satisf_successors">satisf_successors</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">an</span> <span class="id">pc</span> <span class="id">bs</span> <span class="id">s</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span>!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs">bs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#successors_block_shape">successors_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bs">bs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>', <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!<span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">e</span>' /\ <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3788')">Proof.</div>
<div class="proofscript" id="proof3788">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#analyze_successors">analyze_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">e</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Inversion on <span class="bracket"><span class="id">transf_function</span></span> </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="transf_function_spec">transf_function_spec</a></span> (<span class="id">f</span>: <span class="id"><a href="compcert.backend.RTL.html#function">RTL.function</a></span>) (<span class="id">tf</span>: <span class="id"><a href="compcert.backend.LTL.html#function">LTL.function</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="transf_function_spec_intro">transf_function_spec_intro</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">an</span> <span class="id">mv</span> <span class="id">k</span> <span class="id">e1</span> <span class="id">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>)!(<span class="id"><a href="compcert.backend.LTL.html#fn_entrypoint">LTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Lbranch">Lbranch</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span>) :: <span class="id"><a href="compcert.backend.Allocproof.html#k">k</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) (<span class="id"><a href="compcert.backend.RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!(<span class="id"><a href="compcert.backend.RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#track_moves">track_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e1">e1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#compat_entry">compat_entry</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_params">RTL.fn_params</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span>) (<span class="id"><a href="compcert.backend.Conventions.html#loc_parameters">loc_parameters</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#can_undef">can_undef</a></span> <span class="id"><a href="compcert.x86.Machregs.html#destroyed_at_function_entry">destroyed_at_function_entry</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e2">e2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.backend.LTL.html#fn_stacksize">LTL.fn_stacksize</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.backend.LTL.html#fn_sig">LTL.fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_spec">transf_function_spec</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_function_inv">transf_function_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_spec">transf_function_spec</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3789')">Proof.</div>
<div class="proofscript" id="proof3789">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#type_function">type_function</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">env</span>|] <span class="id">eqn</span>:<span class="id">TY</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#regalloc">regalloc</a></span> <span class="id">f</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#check_function">check_function</a></span> <span class="id">f</span> <span class="id">f0</span> <span class="id">env</span>) <span class="kwd">as</span> [] <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#check_function">check_function</a></span> <span class="kwd">in</span> <span class="id">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id">f</span> <span class="id">env</span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id">f</span> <span class="id">tf</span>)) <span class="kwd">as</span> [<span class="id">an</span>|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#check_entrypoints_aux">check_entrypoints_aux</a></span> <span class="id">f</span> <span class="id">tf</span> <span class="id">env</span> <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">y</span>|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#check_entrypoints_aux">check_entrypoints_aux</a></span>, <span class="id"><a href="compcert.backend.Allocation.html#pair_entrypoints">pair_entrypoints</a></span> <span class="kwd">in</span> <span class="id">Heqo0</span>. <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#extract_moves_ext_sound">extract_moves_ext_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#check_succ_sound">check_succ_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">k</span> <span class="id">EQ1</span>]. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#type_function_correct">type_function_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="invert_code">invert_code</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">env</span> <span class="id">tf</span> <span class="id">pc</span> <span class="id">i</span> <span class="id">opte</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#fn_code">RTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span>)!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#opte">opte</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">eafter</span>, <span class="id">exists</span> <span class="id">bsh</span>, <span class="id">exists</span> <span class="id">bb</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#opte">opte</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#eafter">eafter</a></span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>)!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>)!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb">bb</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb">bb</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transfer_aux">transfer_aux</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bsh">bsh</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#eafter">eafter</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_instr">wt_instr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3790')">Proof.</div>
<div class="proofscript" id="proof3790">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">opte</span> <span class="kwd">as</span> [<span class="id">eafter</span>|]; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">exists</span> <span class="id">eafter</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id">f</span> <span class="id">tf</span>)!<span class="id">pc</span> <span class="kwd">as</span> [<span class="id">bsh</span>|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">exists</span> <span class="id">bsh</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#matching_instr_block">matching_instr_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">bb</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocation.html#transfer_aux">transfer_aux</a></span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">eafter</span>) <span class="kwd">as</span> [<span class="id">e1</span>|] <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">bb</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_instr_at">wt_instr_at</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<h1> Semantic preservation </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.prog">prog</a></span>: <span class="id"><a href="compcert.backend.RTL.html#program">RTL.program</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.tprog">tprog</a></span>: <span class="id"><a href="compcert.backend.LTL.html#program">LTL.program</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.TRANSF">TRANSF</a></span>: <span class="id"><a href="compcert.backend.Allocproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">UseShape</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">WT</span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id">_</span> <span class="id">_</span>, <span class="id">CODE</span>: (<span class="id"><a href="compcert.backend.RTL.html#fn_code">RTL.fn_code</a></span> <span class="id">_</span>)!<span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>, <span class="id">EQ</span>: <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#invert_code">invert_code</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WT</span> <span class="id">CODE</span> <span class="id">EQ</span>) <span class="kwd">as</span> (<span class="id">eafter</span> &amp; <span class="id">bsh</span> &amp; <span class="id">bb</span> &amp; <span class="id">AFTER</span> &amp; <span class="id">BSH</span> &amp; <span class="id">TCODE</span> &amp; <span class="id">EBS</span> &amp; <span class="id">TR</span> &amp; <span class="id">WTI</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EBS</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transfer_aux">transfer_aux</a></span> <span class="kwd">in</span> <span class="id">TR</span>; <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION.CORELEMMA">CORELEMMA</a></span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">CTX</span>: <span class="id"><a href="compcert.backend.Conventions.html#main_args_ctx">main_args_ctx</a></span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.CORELEMMA.se">se</a></span> <span class="id"><a name="PRESERVATION.CORELEMMA.tse">tse</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.t">Senv.t</a></span>.<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="PRESERVATION.CORELEMMA.MATCH_SENV">MATCH_SENV</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.se">se</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tse">tse</a></span>).<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.CORELEMMA.ge">ge</a></span> : <span class="id"><a href="compcert.backend.RTL.html#genv">RTL.genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.CORELEMMA.tge">tge</a></span> : <span class="id"><a href="compcert.backend.LTL.html#genv">genv</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="PRESERVATION.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="compcert.common.Linking.html#match_globdef">match_globdef</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="symbols_preserved">symbols_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#ident">ident</a></span>), <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> = <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_symbol_match_genv">Genv.find_symbol_match_genv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="senv_preserved">senv_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.senv_match_genv">Genv.senv_match_genv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="functions_translated">functions_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">f</span>: <span class="id"><a href="compcert.backend.RTL.html#fundef">RTL.fundef</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial_genv">Genv.find_funct_transf_partial_genv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_ptr_translated">function_ptr_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>) (<span class="id">f</span>: <span class="id"><a href="compcert.backend.RTL.html#fundef">RTL.fundef</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> /\ <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr_transf_partial_genv">Genv.find_funct_ptr_transf_partial_genv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.MATCH_GENV">MATCH_GENV</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sig_function_translated">sig_function_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#funsig">LTL.funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> = <span class="id"><a href="compcert.backend.RTL.html#funsig">RTL.funsig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3791')">Proof.</div>
<div class="proofscript" id="proof3791">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">f</span>; <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>). <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_function_translated">find_function_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ros</span> <span class="id">rs</span> <span class="id">fptr</span> <span class="id">ros</span>' <span class="id">e</span> <span class="id">e</span>' <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTL.html#find_function_ptr">RTL.find_function_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#fptr">fptr</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#add_equation_ros">add_equation_ros</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ros">ros</a></span> <span class="id">ros</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfptr</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.LTL.html#find_function_ptr">LTL.find_function_ptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id">ros</span>' <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> = <span class="id"><a href="compcert.backend.Allocproof.html#tfptr">tfptr</a></span> /\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#fptr">fptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tfptr">tfptr</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3792')">Proof.</div>
<div class="proofscript" id="proof3792">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.RTL.html#find_function_ptr">RTL.find_function_ptr</a></span>, <span class="id"><a href="compcert.backend.LTL.html#find_function_ptr">LTL.find_function_ptr</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ros</span> <span class="kwd">as</span> [<span class="id">r</span>|<span class="id">id</span>]; <span class="tactic">destruct</span> <span class="id">ros</span>' <span class="kwd">as</span> [<span class="id">r</span>'|<span class="id">id</span>']; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;two&nbsp;regs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;two&nbsp;symbols&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_moves">exec_moves</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mv</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">bb</span> <span class="id">m</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocation.html#track_moves">track_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.backend.LTL.html#step">step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tse">tse</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Block">Block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#mv">mv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb">bb</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Block">Block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb">bb</a></span> <span class="id">ls</span>' <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id">ls</span>' <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3793')">Proof.</div>
<div class="proofscript" id="proof3793">
<span class="id">Opaque</span> <span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_op">destroyed_by_op</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">mv</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;base&nbsp;*)</span><br/>
- <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span>; <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">ls</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;step&nbsp;*)</span><br/>
- <span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocproof.html#wf_moves">wf_moves</a></span> <span class="id">mv</span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#expand_moves">expand_moves</a></span>; <span class="tactic">simpl</span>; <span class="id">MonadInv</span>.<br/>
+ <span class="comment">(*&nbsp;loc-loc&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">src</span> <span class="kwd">as</span> [<span class="id">rsrc</span> | <span class="id">ssrc</span>]; <span class="tactic">destruct</span> <span class="id">dst</span> <span class="kwd">as</span> [<span class="id">rdst</span> | <span class="id">sdst</span>].<br/>
* <span class="comment">(*&nbsp;reg-reg&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
* <span class="comment">(*&nbsp;reg-&gt;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
* <span class="comment">(*&nbsp;stack-&gt;reg&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Heqb</span>. <span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
* <span class="comment">(*&nbsp;stack-&gt;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">contradiction</span>.<br/>
+ <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_pair_satisf_makelong">subst_loc_pair_satisf_makelong</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>. <span class="id">traceEq</span>.<br/>
+ <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_part_satisf_lowlong">subst_loc_part_satisf_lowlong</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>. <span class="id">traceEq</span>.<br/>
+ <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_loc_part_satisf_highlong">subst_loc_part_satisf_highlong</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>. <span class="id">traceEq</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The simulation relation </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_stackframes">match_stackframes</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.RTL.html#stackframe">RTL.stackframe</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.LTL.html#stackframe">LTL.stackframe</a></span> -&gt; <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stackframes_nil">match_stackframes_nil</a></span>: <span class="kwd">forall</span> <span class="id">sg</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">MAINARGS</span>: <span class="id"><a href="compcert.backend.Conventions.html#main_args">main_args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stackframes_dummy">match_stackframes_dummy</a></span>: <span class="kwd">forall</span> <span class="id">sg</span> <span class="id">sg_init</span> <span class="id">ls_init</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MAINARGS</span>: <span class="id"><a href="compcert.backend.Conventions.html#main_args">main_args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAMERES</span>: <span class="id"><a href="compcert.backend.Allocproof.html#sg_init">sg_init</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) = <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> [(<span class="id"><a href="compcert.backend.LTL.html#dummy_stack">dummy_stack</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg_init">sg_init</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls_init">ls_init</a></span>)] <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stackframes_cons">match_stackframes_cons</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">res</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">rs</span> <span class="id">s</span> <span class="id">tf</span> <span class="id">bb</span> <span class="id">ls</span> <span class="id">ts</span> <span class="id">sg</span> <span class="id">an</span> <span class="id">e</span> <span class="id">env</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUN</span>: <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ANL</span>: <span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ</span>: <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTF</span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRS</span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRES</span>: <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> = <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPS</span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">ls1</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls1">ls1</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1">ls1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.backend.LTL.html#step">LTL.step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tse">tse</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> (<span class="id"><a href="compcert.backend.LTL.html#Block">Block</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb">bb</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls1">ls1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#E0">E0</a></span> (<span class="id"><a href="compcert.backend.LTL.html#State">State</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls2">ls2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>#<span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> &lt;- <span class="id"><a href="compcert.backend.Allocproof.html#v">v</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls2">ls2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.RTL.html#Stackframe">RTL.Stackframe</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Stackframe">LTL.Stackframe</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#bb">bb</a></span> :: <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span>: <span class="id"><a href="compcert.backend.RTL.html#state">RTL.state</a></span> -&gt; <span class="id"><a href="compcert.backend.LTL.html#state">LTL.state</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_intro">match_states_intro</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">tf</span> <span class="id">ls</span> <span class="id">m</span>' <span class="id">an</span> <span class="id">e</span> <span class="id">env</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> (<span class="id"><a href="compcert.backend.LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUN</span>: <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ANL</span>: <span class="id"><a href="compcert.backend.Allocation.html#analyze">analyze</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ</span>: <span class="id"><a href="compcert.backend.Allocation.html#transfer">transfer</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.Allocation.html#pair_codes">pair_codes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#an">an</a></span>!!<span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAT</span>: <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTF</span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRS</span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.backend.RTL.html#State">RTL.State</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#rs">rs</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#State">LTL.State</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sp">sp</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#pc">pc</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_call">match_states_call</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">fptr</span> <span class="id">sg</span> <span class="id">args</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">tfptr</span> <span class="id">ls</span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ARGS</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#p">p</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AG</span>: <span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> (<span class="id"><a href="compcert.backend.LTL.html#parent_locset">parent_locset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPTR</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#fptr">fptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tfptr">tfptr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTARGS</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type_list">Val.has_type_list</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> (<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Callstate">RTL.Callstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#fptr">fptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Callstate">LTL.Callstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tfptr">tfptr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_states_return">match_states_return</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">res</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">ls</span> <span class="id">m</span>' <span class="id">sg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RES</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AG</span>: <span class="id"><a href="compcert.backend.Conventions.html#agree_callee_save">agree_callee_save</a></span> (<span class="id"><a href="compcert.backend.LTL.html#parent_locset">parent_locset</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRES</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Returnstate">RTL.Returnstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#res">res</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#Returnstate">LTL.Returnstate</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ls">ls</a></span> <span class="id">m</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_stackframes_change_sig">match_stackframes_change_sig</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">ts</span> <span class="id">sg</span> <span class="id">sg</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">sg</span>'.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) = <span class="id"><a href="compcert.backend.Allocproof.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ts">ts</a></span> <span class="id">sg</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3794')">Proof.</div>
<div class="proofscript" id="proof3794">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">ss</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">ss</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_exten">loc_result_exten</a></span> <span class="id">sg</span>' <span class="id">sg</span>) <span class="kwd">in</span> <span class="id">H</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="addressing_not_long">addressing_not_long</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">f</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">s</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.RTLtyping.html#wt_instr">wt_instr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#env">env</a></span> (<span class="id"><a href="compcert.backend.RTL.html#Iload">Iload</a></span> <span class="id"><a href="compcert.common.AST.html#Mint64">Mint64</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#addr">addr</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span>) -&gt; <span class="id"><a href="compcert.x86_64.Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#args">args</a></span> -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> &lt;&gt; <span class="id"><a href="compcert.backend.Allocproof.html#dst">dst</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3795')">Proof.</div>
<div class="proofscript" id="proof3795">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">ty</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#ty">ty</a></span> (<span class="id"><a href="compcert.x86.Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id">addr</span>) -&gt; <span class="id"><a href="compcert.backend.Allocproof.html#ty">ty</a></span> = <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">intuition</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">env</span> <span class="id">r</span>) (<span class="id"><a href="compcert.x86.Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id">addr</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">C</span>: <span class="id">env</span> <span class="id">r</span> = <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">A</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">subst</span> <span class="id">r</span>. <span class="tactic">rewrite</span> <span class="id">C</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The proof of semantic preservation is a simulation argument of the
    "plus" kind. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="step_simulation">step_simulation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">S1</span> <span class="id">t</span> <span class="id">S2</span>, <span class="id"><a href="compcert.backend.RTL.html#step">RTL.step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.se">se</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1">S1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#t">t</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S2">S2</a></span> -&gt; <span class="id"><a href="compcert.backend.RTLtyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1">S1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">S1</span>', <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S1">S1</a></span> <span class="id">S1</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">S2</span>', <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.backend.LTL.html#step">LTL.step</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tse">tse</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id">S1</span>' <span class="id"><a href="compcert.backend.Allocproof.html#t">t</a></span> <span class="id">S2</span>' /\ <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#S2">S2</a></span> <span class="id">S2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3796')">Proof.</div>
<div class="proofscript" id="proof3796">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">WT</span> <span class="id">S1</span>' <span class="id">MS</span>; <span class="id">inv</span> <span class="id">MS</span>; <span class="tactic">try</span> <span class="id">UseShape</span>.<br/>
<br/>
<span class="comment">(*&nbsp;nop&nbsp;*)</span><br/>
- <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;move&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_satisf">subst_reg_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;makelong&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_kind_satisf_makelong">subst_reg_kind_satisf_makelong</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;lowlong&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_kind_satisf_lowlong">subst_reg_kind_satisf_lowlong</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;highlong&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#subst_reg_kind_satisf_highlong">subst_reg_kind_satisf_highlong</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;regular&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#transfer_use_def_satisf">transfer_use_def_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">Y</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_operation_lessdef">eval_operation_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">F</span> <span class="id">G</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id">v</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_operation_preserved">eval_operation_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;op&nbsp;dead&nbsp;*)</span><br/>
- <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;regular&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#transfer_use_def_satisf">transfer_use_def_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">Y</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>' [<span class="id">F</span> <span class="id">G</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id">a</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;pair&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loadv_int64_split">loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v2</span>' := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id">v1</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v1</span>' := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v1</span> <span class="kwd">else</span> <span class="id">v2</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD1</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args1</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">LOAD1</span>' &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst1</span>') <span class="id">v1</span>'' (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e2</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v1</span>'; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word</a></span>; <span class="tactic">unfold</span> <span class="id">v1</span>'; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD3</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls3</span> <span class="id">args2</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">replace</span> (<span class="id">rs</span>##<span class="id">args</span>) <span class="kwd">with</span> ((<span class="id">rs</span>#<span class="id">dst</span>&lt;-<span class="id">v</span>)##<span class="id">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_map_exten">list_map_exten</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing">eval_offset_addressing</a></span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">a2</span>' [<span class="id">F2</span> <span class="id">G2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LOADX</span>: <span class="id">exists</span> <span class="id">v2</span>'', <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">m</span>' <span class="id">a2</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v2</span>'' /\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">v2</span>' <span class="id">v2</span>'').<br/>
&nbsp;&nbsp;{ <span class="tactic">discriminate</span> || (<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>; [<span class="tactic">eauto</span>|<span class="id">eexact</span> <span class="id">LOAD2</span>|<span class="id">eexact</span> <span class="id">G2</span>]). }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LOADX</span> <span class="kwd">as</span> (<span class="id">v2</span>'' &amp; <span class="id">LOAD2</span>' &amp; <span class="id">LD4</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls4</span> := <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst2</span>') <span class="id">v2</span>'' (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr2</span>) <span class="id">ls3</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT4</span>: <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls4</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v2</span>'; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word</a></span>; <span class="tactic">unfold</span> <span class="id">v2</span>'; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv3</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls5</span> [<span class="id">A5</span> <span class="id">B5</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a1</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD1</span>'. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a2</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F2</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD2</span>'. <span class="id">instantiate</span> (1 := <span class="id">ls4</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A5</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">W</span> <span class="id">Z</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;first&nbsp;word&nbsp;of&nbsp;a&nbsp;pair&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loadv_int64_split">loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v2</span>' := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id">v1</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v1</span>' := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v1</span> <span class="kwd">else</span> <span class="id">v2</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD1</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">LOAD1</span>' &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst</span>') <span class="id">v1</span>'' (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v1</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word</a></span>; <span class="tactic">unfold</span> <span class="id">v1</span>'; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a1</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD1</span>'. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">W</span> <span class="id">Z</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;second&nbsp;word&nbsp;of&nbsp;a&nbsp;pair&nbsp;*)</span><br/>
- <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#loadv_int64_split">loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v2</span>' := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id">v1</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v1</span>' := <span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v1</span> <span class="kwd">else</span> <span class="id">v2</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD1</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing">eval_offset_addressing</a></span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LOADX</span>: <span class="id">exists</span> <span class="id">v2</span>'', <span class="id"><a href="compcert.common.Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">m</span>' <span class="id">a1</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v2</span>'' /\ <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">v2</span>' <span class="id">v2</span>'').<br/>
&nbsp;&nbsp;{ <span class="tactic">discriminate</span> || (<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>; [<span class="tactic">eauto</span>|<span class="id">eexact</span> <span class="id">LOAD2</span>|<span class="id">eexact</span> <span class="id">G1</span>]). }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LOADX</span> <span class="kwd">as</span> (<span class="id">v2</span>'' &amp; <span class="id">LOAD2</span>' &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="compcert.backend.Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">dst</span>') <span class="id">v2</span>'' (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr2</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v2</span>'; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word</a></span>; <span class="tactic">unfold</span> <span class="id">v2</span>'; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a1</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD2</span>'. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">W</span> <span class="id">Z</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;load&nbsp;dead&nbsp;*)</span><br/>
- <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
- <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">LD</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">LD</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>' [<span class="id">F</span> <span class="id">G</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id">a</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;store&nbsp;2&nbsp;*)</span><br/>
- <span class="tactic">assert</span> (<span class="id">SF</span>: <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.x86_64.Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_int64_split">Mem.storev_int64_split</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id">rs</span>#<span class="id">src</span> <span class="kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word</a></span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_first_word">kind_first_word</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Val.loword">Val.loword</a></span> <span class="id">rs</span>#<span class="id">src</span> <span class="kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Val.hiword">Val.hiword</a></span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.backend.Allocproof.html#sel_val">sel_val</a></span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word</a></span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#kind_second_word">kind_second_word</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">m1</span> [<span class="id">STORE1</span> <span class="id">STORE2</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>. <span class="id">eexact</span> <span class="id">Heqo1</span>. <span class="id">eexact</span> <span class="id">Y</span>. <span class="tactic">intros</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>. <span class="id">eexact</span> <span class="id">Heqo1</span>. <span class="id">eexact</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> <span class="id">LD2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_store">destroyed_by_store</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> <span class="id">rs</span> <span class="id">ls2</span> <span class="id">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">F1</span>': <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id">sp</span> <span class="id">addr</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args1</span>') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">STORE1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">m1</span>' [<span class="id">STORE1</span>' <span class="id">EXT1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>. <span class="id">eexact</span> <span class="id">Heqo</span>. <span class="id">eexact</span> <span class="id">V</span>. <span class="tactic">intros</span> <span class="id">LD3</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>. <span class="id">eexact</span> <span class="id">Heqo</span>. <span class="id">eexact</span> <span class="id">V</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> <span class="id">LD4</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD3</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a2</span>' [<span class="id">F2</span> <span class="id">G2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">F2</span>': <span class="id"><a href="compcert.x86.Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id">sp</span> <span class="id">addr</span> (<span class="id"><a href="compcert.backend.LTL.html#reglist">reglist</a></span> <span class="id">ls3</span> <span class="id">args2</span>') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a2</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">F2</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.x86.Op.html#eval_offset_addressing">eval_offset_addressing</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">F2</span>''.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">STOREX</span>: <span class="id">exists</span> <span class="id">m2</span>', <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="compcert.common.AST.html#Mint32">Mint32</a></span> <span class="id">m1</span>' (<span class="id"><a href="compcert.common.Values.html#Val.add">Val.add</a></span> <span class="id">a2</span>' (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Int.repr">Int.repr</a></span> 4))) (<span class="id">ls3</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">src2</span>')) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m2</span>' /\ <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m</span>' <span class="id">m2</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">eexact</span> <span class="id">EXT1</span> | <span class="id">eexact</span> <span class="id">STORE2</span> | <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; [<span class="id">eexact</span> <span class="id">G2</span>|<span class="tactic">eauto</span>] | <span class="tactic">eauto</span>]). }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">STOREX</span> <span class="kwd">as</span> [<span class="id">m2</span>' [<span class="id">STORE2</span>' <span class="id">EXT2</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eexact</span> <span class="id">F1</span>'. <span class="id">eexact</span> <span class="id">STORE1</span>'. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_two">star_two</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.LTL.html#exec_Lstore">exec_Lstore</a></span> <span class="kwd">with</span> (<span class="id">m</span>' := <span class="id">m2</span>'). <span class="id">eexact</span> <span class="id">F2</span>''. <span class="tactic">discriminate</span>||<span class="tactic">exact</span> <span class="id">STORE2</span>'. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
- <span class="tactic">rename</span> <span class="id">sig</span> <span class="id">into</span> <span class="id">sg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">args</span>' := <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">res</span>' := <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#find_function_translated">find_function_translated</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">tfd</span> [<span class="id">E</span> <span class="id">F</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. { <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#analyze_successors">analyze_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="id">left</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#function_return_satisf">function_return_satisf</a></span> <span class="kwd">with</span> (<span class="id">v</span> := <span class="id">v</span>) (<span class="id">ls_before</span> := <span class="id">ls1</span>) (<span class="id">ls_after</span> := <span class="id">ls0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_ros_satisf">add_equation_ros_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_assign">wt_regset_assign</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls2</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_incr">satisf_incr</a></span> <span class="kwd">with</span> <span class="id">eafter</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_lessdef">add_equations_args_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">FPTR</span>. <span class="tactic">rewrite</span> <span class="id">E</span>. <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;tailcall&nbsp;*)</span><br/>
- <span class="tactic">rename</span> <span class="id">sig</span> <span class="id">into</span> <span class="id">sg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">args</span>' := <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#find_function_translated">find_function_translated</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">tfd</span> [<span class="id">E</span> <span class="id">F</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. { <span class="id">econs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.backend.LTL.html#fn_stacksize">fn_stacksize</a></span> <span class="id">tf</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.backend.RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id">f</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#match_stackframes_change_sig">match_stackframes_change_sig</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">e0</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_arg_values">return_regs_arg_values</a></span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_args_lessdef">add_equations_args_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H7</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">FPTR</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#find_function_tailcall">find_function_tailcall</a></span>; <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H7</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
- <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_builtin_eval">add_equations_builtin_eval</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">C</span> &amp; <span class="id">vargs</span>' &amp; <span class="id">vres</span>' &amp; <span class="id">m</span>'' &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span> &amp; <span class="id">G</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">WTRS</span>': <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id">env</span> (<span class="id"><a href="compcert.backend.Registers.html#regmap_setres">regmap_setres</a></span> <span class="id">res</span> <span class="id">vres</span> <span class="id">rs</span>)) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_exec_Ibuiltin">wt_exec_Ibuiltin</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="compcert.backend.Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">res</span>' <span class="id">vres</span>' (<span class="id"><a href="compcert.backend.LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#destroyed_by_builtin">destroyed_by_builtin</a></span> <span class="id">ef</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.backend.Allocproof.html#satisf">satisf</a></span> (<span class="id"><a href="compcert.backend.Registers.html#regmap_setres">regmap_setres</a></span> <span class="id">res</span> <span class="id">vres</span> <span class="id">rs</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#parallel_set_builtin_res_satisf">parallel_set_builtin_res_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#eval_builtin_args_preserved">eval_builtin_args_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.ge">ge</a></span>); <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>. <span class="tactic">reflexivity</span>. <span class="tactic">reflexivity</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;cond&nbsp;*)</span><br/>
- <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.x86.Op.html#eval_condition_lessdef">eval_condition_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">then</span> <span class="id">ifso</span> <span class="kwd">else</span> <span class="id">ifnot</span>). <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;jumptable&nbsp;*)</span><br/>
- <span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.common.Values.html#Vint">Vint</a></span> <span class="id">n</span>) (<span class="id">ls1</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">arg</span>'))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id"><a href="compcert.backend.Allocation.html#Eq">Eq</a></span> <span class="id"><a href="compcert.backend.Allocation.html#Full">Full</a></span> <span class="id">arg</span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">arg</span>')); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">pc</span>'). <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H10</span>. <span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>; <span class="id">MonadInv</span>.<br/>
+ <span class="comment">(*&nbsp;without&nbsp;an&nbsp;argument&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
+ <span class="comment">(*&nbsp;with&nbsp;an&nbsp;argument&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H11</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.LTL.html#return_regs">return_regs</a></span> (<span class="id"><a href="compcert.backend.LTL.html#parent_locset">parent_locset</a></span> <span class="id">ts</span>) <span class="id">ls1</span>))<br/>
&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="compcert.common.AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>))) <span class="id">ls1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#add_equations_res_lessdef">add_equations_res_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H13</span>. <span class="tactic">apply</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_caller_save">loc_result_caller_save</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.backend.RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H11</span>; <span class="tactic">rewrite</span> <span class="id">H13</span>. <span class="tactic">apply</span> <span class="id">WTRS</span>.<br/>
<br/>
<span class="comment">(*&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
- <span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">tf</span>, &lt;&lt;<span class="id">FPTR</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id">tfptr</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">FUN</span>: <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">Internal</a></span> <span class="id">f</span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>&gt;&gt;).<br/>
&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#functions_translated">functions_translated</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_inv">Genv.find_funct_inv</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">inv</span> <span class="id">FPTR0</span>; <span class="id">ss</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. } <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">FUN</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.Allocproof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>. <span class="tactic">rewrite</span> <span class="id">H8</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_refl">Z.le_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">WTRS</span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id">env</span> (<span class="id"><a href="compcert.backend.RTL.html#init_regs">init_regs</a></span> <span class="id">args</span> (<span class="id"><a href="compcert.backend.RTL.html#fn_params">fn_params</a></span> <span class="id">f</span>))).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_init_regs">wt_init_regs</a></span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">wt_params</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.backend.Allocproof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#compat_entry_satisf">compat_entry_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#call_regs_param_values">call_regs_param_values</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H9</span>. <span class="id">eexact</span> <span class="id">ARGS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_left">star_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H9</span>. <span class="tactic">assumption</span>.<br/>
<br/>
<span class="comment">(*&nbsp;external&nbsp;function&nbsp;*)</span><br/>
- <span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">tf</span>, &lt;&lt;<span class="id">FPTR</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.tge">tge</a></span> <span class="id">tfptr</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">FUN</span>: <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> (<span class="id"><a href="compcert.common.AST.html#External">External</a></span> <span class="id">ef</span>) = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>&gt;&gt;).<br/>
&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#functions_translated">functions_translated</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_inv">Genv.find_funct_inv</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clarify</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="id">inv</span> <span class="id">FPTR0</span>; <span class="id">ss</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. } <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">m</span>'' [<span class="id">F</span> [<span class="id">G</span> [<span class="id">J</span> <span class="id">K</span>]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">FUN</span>; <span class="id">inv</span> <span class="id">FUN</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA.se">se</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)) <span class="id">eqn</span>:<span class="id">RES</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_pair">loc_result_pair</a></span> (<span class="id"><a href="compcert.common.AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)); <span class="tactic">rewrite</span> <span class="id">RES</span>; <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Events.html#external_call_well_typed">external_call_well_typed</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span>; <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">intros</span> <span class="id">WTRES</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> (<span class="tactic">red</span>; <span class="tactic">auto</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#val_longofwords_eq_1">val_longofwords_eq_1</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id">AG</span> <span class="id">l</span> <span class="id">H0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.backend.Conventions.html#locmap_get_set_loc_result_callee_save">locmap_get_set_loc_result_callee_save</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.LTL.html#undef_caller_save_regs">undef_caller_save_regs</a></span>. <span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">auto</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_well_typed">external_call_well_typed</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
- <span class="id">inv</span> <span class="id">STACKS</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">STEPS</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">WTRES0</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="id">traceEq</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_regset_assign">wt_regset_assign</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">WTRES0</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.CORELEMMA">CORELEMMA</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION.WHOLE">WHOLE</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.WHOLE.ge">ge</a></span> := <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.WHOLE.tge">tge</a></span> := <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.WHOLE.MATCH_GENV">MATCH_GENV</a></span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="compcert.common.Linking.html#match_globdef">match_globdef</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id"><a href="compcert.backend.Allocation.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#tf">tf</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>) <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.ge">ge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3797')">Proof.</div>
<div class="proofscript" id="proof3797">
 <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.globalenvs_match">Genv.globalenvs_match</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">main_args_none</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="initial_states_simulation">initial_states_simulation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">st1</span>, <span class="id"><a href="compcert.backend.RTL.html#initial_state">RTL.initial_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1">st1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st2</span>, <span class="id"><a href="compcert.backend.LTL.html#initial_state">LTL.initial_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2">st2</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1">st1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2">st2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3798')">Proof.</div>
<div class="proofscript" id="proof3798">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.backend.LTL.html#Callstate">LTL.Callstate</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.backend.Locations.html#Locmap.init">Locmap.init</a></span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>) <span class="id">m0</span>); <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.init_mem_transf_partial">Genv.init_mem_transf_partial</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.backend.Allocproof.html#symbols_preserved">symbols_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.common.Linking.html#match_program_main">match_program_main</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>).  <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.extends_refl">Mem.extends_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="final_states_simulation">final_states_simulation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">st1</span> <span class="id">st2</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1">st1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2">st2</a></span> -&gt; <span class="id"><a href="compcert.backend.RTL.html#final_state">RTL.final_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st1">st1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span> -&gt; <span class="id"><a href="compcert.backend.LTL.html#final_state">LTL.final_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#st2">st2</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#r">r</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3799')">Proof.</div>
<div class="proofscript" id="proof3799">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">STACKS</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result_exten">loc_result_exten</a></span> <span class="id">sg</span>). <span class="id">inv</span> <span class="id">RES</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">MAINARGS</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="wt_prog">wt_prog</a></span>: <span class="id"><a href="compcert.backend.RTLtyping.html#wt_program">wt_program</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3800')">Proof.</div>
<div class="proofscript" id="proof3800">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_forall2_in_left">list_forall2_in_left</a></span>. <span class="id">eexact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.TRANSF">TRANSF</a></span>). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ([<span class="id">i</span>' <span class="id">gd</span>] &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span> <span class="id">i</span>'.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">C</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
- <span class="id">monadInv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.backend.Allocation.html#transf_function">transf_function</a></span> <span class="kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.backend.RTLtyping.html#type_function">type_function</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">env</span>|] <span class="id">eqn</span>:<span class="id">TF</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#type_function_correct">type_function_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transf_program_correct">transf_program_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Smallstep.html#forward_simulation">forward_simulation</a></span> (<span class="id"><a href="compcert.backend.RTL.html#semantics">RTL.semantics</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>) (<span class="id"><a href="compcert.backend.LTL.html#semantics">LTL.semantics</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.tprog">tprog</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3801')">Proof.</div>
<div class="proofscript" id="proof3801">
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ms</span> := <span class="kwd">fun</span> <span class="id">s</span> <span class="id">s</span>' =&gt; <span class="id"><a href="compcert.backend.RTLtyping.html#wt_state">wt_state</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> /\ <span class="id"><a href="compcert.backend.Allocproof.html#match_states">match_states</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE.tge">tge</a></span> <span class="id"><a href="compcert.backend.Allocproof.html#s">s</a></span> <span class="id">s</span>').<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Smallstep.html#forward_simulation_plus">forward_simulation_plus</a></span> <span class="kwd">with</span> (<span class="id">match_states</span> := <span class="id">ms</span>).<br/>
- <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Allocproof.html#senv_preserved">senv_preserved</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#initial_states_simulation">initial_states_simulation</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">st2</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">st2</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#wt_initial_state">wt_initial_state</a></span> <span class="kwd">with</span> (<span class="id">p</span> := <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.prog">prog</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#final_states_simulation">final_states_simulation</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Allocproof.html#step_simulation">step_simulation</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Allocproof.html#senv_preserved">senv_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">s2</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">s2</span>'; <span class="tactic">split</span>. <span class="tactic">exact</span> <span class="id">A</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.RTLtyping.html#subject_reduction">subject_reduction</a></span>; <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id"><a href="compcert.backend.Allocproof.html#wt_prog">wt_prog</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_inversion">Genv.find_funct_inversion</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION.WHOLE">WHOLE</a></span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.backend.Allocproof.html#PRESERVATION">PRESERVATION</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
