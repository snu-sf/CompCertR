
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Conventions1</title>
<meta name="description" content="Documentation of Coq module Conventions1" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Conventions1</h1>
<div class="coq">
<br/>
<div class="doc">Function calling conventions and other conventions regarding the use of
    machine registers and stack slots. </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span> <span class="id"><a href="compcert.lib.Decidableplus.html">Decidableplus</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.x86.Machregs.html">Machregs</a></span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span>.<br/>
<br/>
<h1> Classification of machine registers </h1>
<br/>
<div class="doc">Machine registers (type <span class="bracket"><span class="id">mreg</span></span> in module <span class="bracket"><span class="id">Locations</span></span>) are divided in
  the following groups:
<ul>
<li>
 Callee-save registers, whose value is preserved across a function call.
</li>
<li>
 Caller-save registers that can be modified during a function call.
</li>
</ul>
  We follow the x86-32 and x86-64 application binary interfaces (ABI)
  in our choice of callee- and caller-save registers.
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_callee_save">is_callee_save</a></span> (<span class="id">r</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="docright">(* callee-save in 32 bits but not in 64 bits  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#FP0">FP0</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="int_caller_save_regs">int_caller_save_regs</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="float_caller_save_regs">float_caller_save_regs</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="int_callee_save_regs">int_callee_save_regs</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="float_callee_save_regs">float_callee_save_regs</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="destroyed_at_call">destroyed_at_call</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#filter">List.filter</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span>)) <span class="id"><a href="compcert.x86.Machregs.html#all_mregs">all_mregs</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dummy_int_reg">dummy_int_reg</a></span> := <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span>.     <span class="docright">(* Used in <span class="bracket"><span class="id">Regalloc</span></span>.  *)</span><br/>
<span class="kwd">Definition</span> <span class="id"><a name="dummy_float_reg">dummy_float_reg</a></span> := <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span>.   <span class="docright">(* Used in <span class="bracket"><span class="id">Regalloc</span></span>.  *)</span><br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="callee_save_type">callee_save_type</a></span> := <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span>.<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_float_reg">is_float_reg</a></span> (<span class="id">r</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#BX">BX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#BP">BP</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R10">R10</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R11">R11</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R12">R12</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R13">R13</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R14">R14</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#R15">R15</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.x86.Machregs.html#X8">X8</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X9">X9</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X10">X10</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X11">X11</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X12">X12</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X13">X13</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X14">X14</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#X15">X15</a></span> | <span class="id"><a href="compcert.x86.Machregs.html#FP0">FP0</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Function calling conventions </h1>
<br/>
<div class="doc">The functions in this section determine the locations (machine registers
  and stack slots) used to communicate arguments and results between the
  caller and the callee during function calls.  These locations are functions
  of the signature of the function and of the call instruction.
  Agreement between the caller and the callee on the locations to use
  is guaranteed by our dynamic semantics for Cminor and RTL, which demand
  that the signature of the call instruction is identical to that of the
  called function.
  Calling conventions are largely arbitrary: they must respect the properties
  proved in this section (such as no overlapping between the locations
  of function arguments), but this leaves much liberty in choosing actual
  locations.  To ensure binary interoperability of code generated by our
  compiler with libraries compiled by another compiler, we
  implement the standard x86-32 and x86-64 conventions. </div>
<br/>
<h2> Location of function result </h2>
<br/>
<div class="doc">In 32 bit mode, the result value of a function is passed back to the
  caller in registers <span class="bracket"><span class="id">AX</span></span> or <span class="bracket"><span class="id">DX</span>:<span class="id">AX</span></span> or <span class="bracket"><span class="id">FP0</span></span>, depending on the type
  of the returned value.  We treat a function without result as a
  function with one integer result. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_result_32">loc_result_32</a></span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) : <span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span>) =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> | <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span>) =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#FP0">FP0</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#Twolong">Twolong</a></span> <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">In 64 bit mode, he result value of a function is passed back to
  the caller in registers <span class="bracket"><span class="id">AX</span></span> or <span class="bracket"><span class="id">X0</span></span>. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_result_64">loc_result_64</a></span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) : <span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> | <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span>) =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#AX">AX</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> | <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span>) =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_result">loc_result</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32</a></span>.<br/>
<br/>
<div class="doc">The result registers have types compatible with that given in the signature. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_result_type">loc_result_type</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sig</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> (<span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sig">sig</a></span>) (<span class="id"><a href="compcert.common.AST.html#typ_rpair">typ_rpair</a></span> <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sig">sig</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3663')">Proof.</div>
<div class="proofscript" id="proof3663">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#proj_sig_res">proj_sig_res</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64</a></span>, <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span> <span class="id">sig</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The result locations are caller-save registers </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_result_caller_save">loc_result_caller_save</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) (<span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3664')">Proof.</div>
<div class="proofscript" id="proof3664">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span> <span class="id">s</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">If the result is in a pair of registers, those registers are distinct and have type <span class="bracket"><span class="id">Tint</span></span> at least. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_result_pair">loc_result_pair</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sg</span>,<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#sg">sg</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#One">One</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#Twolong">Twolong</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">r1</span> &lt;&gt; <span class="id">r2</span> /\ <span class="id"><a href="compcert.x86.Conventions1.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span> <span class="id">r1</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.common.AST.html#subtype">subtype</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> (<span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span> <span class="id">r2</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3665')">Proof.</div>
<div class="proofscript" id="proof3665">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64</a></span>, <span class="id"><a href="compcert.x86.Machregs.html#mreg_type">mreg_type</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The location of the result depends only on the result part of the signature </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_result_exten">loc_result_exten</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s1</span> <span class="id">s2</span>, <span class="id"><a href="compcert.x86.Conventions1.html#s1">s1</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) = <span class="id"><a href="compcert.x86.Conventions1.html#s2">s2</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_res">sig_res</a></span>) -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s1">s1</a></span> = <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s2">s2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3666')">Proof.</div>
<div class="proofscript" id="proof3666">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_result">loc_result</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_32">loc_result_32</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_result_64">loc_result_64</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Location of function arguments </h2>
<br/>
<div class="doc">In the x86-32 ABI, all arguments are passed on stack. (Snif.) </div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="loc_arguments_32">loc_arguments_32</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">tyl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) {<span class="kwd">struct</span> <span class="id">tyl</span>} : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id">ty</span> :: <span class="id">tys</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">ty</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#Twolong">Twolong</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + 1) <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span>) (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>     =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32">loc_arguments_32</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">ty</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">In the x86-64 ABI:
<ul>
<li>
 The first 6 integer arguments are passed in registers <span class="bracket"><span class="id">DI</span></span>, <span class="bracket"><span class="id">SI</span></span>, <span class="bracket"><span class="id">DX</span></span>, <span class="bracket"><span class="id">CX</span></span>, <span class="bracket"><span class="id">R8</span></span>, <span class="bracket"><span class="id">R9</span></span>.
</li>
<li>
 The first 8 floating-point arguments are passed in registers <span class="bracket"><span class="id">X0</span></span> to <span class="bracket"><span class="id">X7</span></span>.
</li>
<li>
 Extra arguments are passed on the stack, in <span class="bracket"><span class="id">Outgoing</span></span> slots.
  Consecutive stack slots are separated by 8 bytes, even if only 4 bytes
  of data is used in a slot.
</li>
</ul>
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="int_param_regs">int_param_regs</a></span> := <span class="id"><a href="compcert.x86.Machregs.html#DI">DI</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#SI">SI</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#DX">DX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#CX">CX</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R8">R8</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#R9">R9</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="float_param_regs">float_param_regs</a></span> := <span class="id"><a href="compcert.x86.Machregs.html#X0">X0</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X1">X1</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X2">X2</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X3">X3</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X4">X4</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X5">X5</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X6">X6</a></span> :: <span class="id"><a href="compcert.x86.Machregs.html#X7">X7</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="loc_arguments_64">loc_arguments_64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">tyl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span class="id">ir</span> <span class="id">fr</span> <span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) {<span class="kwd">struct</span> <span class="id">tyl</span>} : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> | <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span>) <span class="kwd">as</span> <span class="id">ty</span> :: <span class="id">tys</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id">ty</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> + 1) <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> | <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span>) <span class="kwd">as</span> <span class="id">ty</span> :: <span class="id">tys</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id">ty</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">freg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">freg</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> + 1) <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">loc_arguments</span> <span class="id">s</span></span> returns the list of locations where to store arguments
  when calling a function with signature <span class="bracket"><span class="id">s</span></span>.  </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_arguments">loc_arguments</a></span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) 0 0 0<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32">loc_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) 0.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">size_arguments</span> <span class="id">s</span></span> returns the number of <span class="bracket"><span class="id">Outgoing</span></span> slots used
  to call a function with signature <span class="bracket"><span class="id">s</span></span>. </div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="size_arguments_32">size_arguments_32</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">tyl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) {<span class="kwd">struct</span> <span class="id">tyl</span>} : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;| <span class="id">ty</span> :: <span class="id">tys</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_32">size_arguments_32</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">ty</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="size_arguments_64">size_arguments_64</a></span> (<span class="id">tyl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>) (<span class="id">ir</span> <span class="id">fr</span> <span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) {<span class="kwd">struct</span> <span class="id">tyl</span>} : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="compcert.common.AST.html#Tint">Tint</a></span> | <span class="id"><a href="compcert.common.AST.html#Tlong">Tlong</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany32">Tany32</a></span> | <span class="id"><a href="compcert.common.AST.html#Tany64">Tany64</a></span>) :: <span class="id">tys</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tys</span> (<span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> + 1) <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="compcert.common.AST.html#Tfloat">Tfloat</a></span> | <span class="id"><a href="compcert.common.AST.html#Tsingle">Tsingle</a></span>) :: <span class="id">tys</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">freg</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tys</span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> + 1) <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="size_arguments">size_arguments</a></span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) 0 0 0<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_32">size_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>) 0.<br/>
<br/>
<div class="doc">Argument locations are either caller-save registers or <span class="bracket"><span class="id">Outgoing</span></span>
  stack slots at nonnegative offsets. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_argument_acceptable">loc_argument_acceptable</a></span> (<span class="id">l</span>: <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id">r</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id">ty</span> =&gt; <span class="id">ofs</span> &gt;= 0 /\ (<span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span> | <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_argument_32_charact">loc_argument_32_charact</a></span> (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">l</span>: <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span>' <span class="id">ty</span> =&gt; <span class="id">ofs</span>' &gt;= <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> /\ <span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span> = 1<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_argument_64_charact">loc_argument_64_charact</a></span> (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">l</span>: <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> \/ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">r</span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span>' <span class="id">ty</span> =&gt; <span class="id">ofs</span>' &gt;= <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> /\ (2 | <span class="id">ofs</span>')<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="loc_arguments_32_charact">loc_arguments_32_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tyl</span> <span class="id">ofs</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32">loc_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span>) -&gt; <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3667')">Proof.</div>
<div class="proofscript" id="proof3667">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="id">l</span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2">ofs2</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#ofs1">ofs1</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#ofs2">ofs2</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1">ofs1</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">auto</span>. <span class="tactic">intuition</span> <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tyl</span> <span class="kwd">as</span> [ | <span class="id">ty</span> <span class="id">tyl</span>]; <span class="tactic">simpl</span> <span class="id">loc_arguments_32</span>; <span class="tactic">intros</span>.<br/>
- <span class="id">contradiction</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">subst</span> <span class="id">p</span>; <span class="tactic">simpl</span>; <span class="tactic">omega</span>.<br/>
+ <span class="tactic">apply</span> <span class="id">IHtyl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.Locations.html#typesize_pos">typesize_pos</a></span> <span class="id">ty</span>); <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
* <span class="tactic">eapply</span> <span class="id">X</span>; <span class="tactic">eauto</span>; <span class="tactic">omega</span>.<br/>
* <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">split</span>; <span class="tactic">eapply</span> <span class="id">X</span>; <span class="tactic">eauto</span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="loc_arguments_64_charact">loc_arguments_64_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> <span class="id">ofs</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span>) -&gt; (2 | <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span>) -&gt; <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3668')">Proof.</div>
<div class="proofscript" id="proof3668">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="id">l</span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2">ofs2</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#ofs1">ofs1</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#ofs2">ofs2</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1">ofs1</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">auto</span>. <span class="tactic">intuition</span> <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Y</span>: <span class="kwd">forall</span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="id">p</span>, <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs2">ofs2</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#ofs1">ofs1</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#ofs2">ofs2</a></span> -&gt; <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs1">ofs1</a></span>) <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span>; <span class="tactic">intuition</span> <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Z</span>: <span class="kwd">forall</span> <span class="id">ofs</span>, (2 | <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span>) -&gt; (2 | <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + 2)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_add_r">Z.divide_add_r</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_refl">Z.divide_refl</a></span>. }<br/>
<span class="id">Opaque</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tyl</span>; <span class="tactic">simpl</span> <span class="id">loc_arguments_64</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">ty</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> (<span class="id">ir</span> + 1) <span class="id">fr</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id">ofs</span>) <span class="id">p</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span>) <span class="kwd">as</span> [<span class="id">r</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHtyl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Y</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">ty</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> (<span class="id">fr</span> + 1) <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> <span class="id">ofs</span>) <span class="id">p</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span>) <span class="kwd">as</span> [<span class="id">r</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z_in">list_nth_z_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHtyl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Y</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_arguments_acceptable">loc_arguments_acceptable</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span class="id">p</span>: <span class="id"><a href="compcert.common.AST.html#rpair">rpair</a></span> <span class="id"><a href="compcert.backend.Locations.html#loc">loc</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>) -&gt; <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3669')">Proof.</div>
<div class="proofscript" id="proof3669">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="comment">(*&nbsp;64&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>; <span class="id">decide_goal</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#r">r</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> <span class="id">decide_goal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span> 0 <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_64_charact">loc_argument_64_charact</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">r</span> | [] <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">auto</span>.  <span class="tactic">intros</span> [<span class="id">C</span>|<span class="id">C</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">C</span> <span class="id">D</span>]. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_trans">Z.divide_trans</a></span> <span class="kwd">with</span> 2; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (2 / <span class="id"><a href="compcert.backend.Locations.html#typealign">typealign</a></span> <span class="id">ty</span>); <span class="tactic">destruct</span> <span class="id">ty</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64_charact">loc_arguments_64_charact</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span>; <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;32&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_32_charact">loc_argument_32_charact</a></span> 0 <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.x86.Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#l">l</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">r</span> | [] <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">simpl</span>; <span class="tactic">intuition</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_1_l">Z.divide_1_l</a></span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32_charact">loc_arguments_32_charact</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.AST.html#forall_rpair">forall_rpair</a></span>; <span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">loc_arguments_acceptable</span>: <span class="id">locs</span>.<br/>
<br/>
<div class="doc">The offsets of <span class="bracket"><span class="id">Outgoing</span></span> arguments are below <span class="bracket"><span class="id">size_arguments</span> <span class="id">s</span></span>. </div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="size_arguments_32_above">size_arguments_32_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tyl</span> <span class="id">ofs0</span>, <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_32">size_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3670')">Proof.</div>
<div class="proofscript" id="proof3670">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tyl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id">ofs0</span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">a</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="compcert.backend.Locations.html#typesize_pos">typesize_pos</a></span> <span class="id">a</span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="size_arguments_64_above">size_arguments_64_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> <span class="id">ofs0</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3671')">Proof.</div>
<div class="proofscript" id="proof3671">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tyl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id">ofs0</span> &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> (<span class="id">ir</span> + 1) <span class="id">fr</span> <span class="id">ofs0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs0</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id">ofs0</span> + 2); <span class="tactic">auto</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id">ofs0</span> &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> (<span class="id">fr</span> + 1) <span class="id">ofs0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs0</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id">ofs0</span> + 2); <span class="tactic">auto</span>. <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="size_arguments_above">size_arguments_above</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span>, <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments">size_arguments</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span> &gt;= 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3672')">Proof.</div>
<div class="proofscript" id="proof3672">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments">size_arguments</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_ge">Z.le_ge</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; [<span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64_above">size_arguments_64_above</a></span>|<span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_32_above">size_arguments_32_above</a></span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_arguments_32_bounded">loc_arguments_32_bounded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">tyl</span> <span class="id">ofs0</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32">loc_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_32">size_arguments_32</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3673')">Proof.</div>
<div class="proofscript" id="proof3673">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tyl</span> <span class="kwd">as</span> [ | <span class="id">t</span> <span class="id">l</span>]; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">x</span> <span class="id">IN</span>.<br/>
- <span class="id">contradiction</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_app_iff">in_app_iff</a></span> <span class="kwd">in</span> <span class="id">IN</span>; <span class="tactic">destruct</span> <span class="id">IN</span> <span class="kwd">as</span> [<span class="id">IN</span>|<span class="id">IN</span>].<br/>
+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id">x</span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">t</span>); [|<span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_32_above">size_arguments_32_above</a></span>].<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">decomp</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id">_</span> \/ <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">H</span>; <span class="id">decomp</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span> |- <span class="id">_</span> ] =&gt; <span class="id">contradiction</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">IN</span>; <span class="id">decomp</span>; <span class="tactic">simpl</span>; <span class="tactic">omega</span>.<br/>
+ <span class="tactic">apply</span> <span class="id">IHl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_arguments_64_bounded">loc_arguments_64_bounded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> <span class="id">ofs0</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#tyl">tyl</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ir">ir</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#fr">fr</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs0">ofs0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3674')">Proof.</div>
<div class="proofscript" id="proof3674">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tyl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">T</span>: <span class="kwd">forall</span> <span class="id">ty0</span>, <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty0">ty0</a></span> &lt;= 2).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">ty0</span>; <span class="tactic">simpl</span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">ty0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> (<span class="id">ir</span> + 1) <span class="id">fr</span> <span class="id">ofs0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs0</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty0">ty0</a></span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs0</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ofs</span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">ty</span> &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> (<span class="id">ir</span> + 1) <span class="id">fr</span> <span class="id">ofs0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs0</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#int_param_regs">int_param_regs</a></span> <span class="id">ir</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">IHtyl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id">ofs</span> + 2). <span class="id">specialize</span> (<span class="id">T</span> <span class="id">ty</span>). <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64_above">size_arguments_64_above</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">IHtyl</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">ty0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs</span> <span class="id">ty</span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ireg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">ireg</span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> (<span class="id">fr</span> + 1) <span class="id">ofs0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.common.AST.html#One">One</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id">ofs0</span> <span class="id"><a href="compcert.x86.Conventions1.html#ty0">ty0</a></span>) :: <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64">loc_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs0</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ofs</span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id">ty</span> &lt;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> (<span class="id">fr</span> + 1) <span class="id">ofs0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64">size_arguments_64</a></span> <span class="id">tyl</span> <span class="id">ir</span> <span class="id">fr</span> (<span class="id">ofs0</span> + 2)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#float_param_regs">float_param_regs</a></span> <span class="id">fr</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">IHtyl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.le_trans">Z.le_trans</a></span> <span class="kwd">with</span> (<span class="id">ofs</span> + 2). <span class="id">specialize</span> (<span class="id">T</span> <span class="id">ty</span>). <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments_64_above">size_arguments_64_above</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">IHtyl</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_arguments_bounded">loc_arguments_bounded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">ty</span>: <span class="id"><a href="compcert.common.AST.html#typ">typ</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#S">S</a></span> <span class="id"><a href="compcert.backend.Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.backend.Locations.html#typesize">typesize</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#ty">ty</a></span> &lt;= <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments">size_arguments</a></span> <span class="id"><a href="compcert.x86.Conventions1.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3675')">Proof.</div>
<div class="proofscript" id="proof3675">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments">size_arguments</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_32_bounded">loc_arguments_32_bounded</a></span>, <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments_64_bounded">loc_arguments_64_bounded</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_arguments_main">loc_arguments_main</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.common.AST.html#signature_main">signature_main</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof3676')">Proof.</div>
<div class="proofscript" id="proof3676">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="compcert.x86_64.Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
