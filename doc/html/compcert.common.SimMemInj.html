
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SimMemInj</title>
<meta name="description" content="Documentation of Coq module SimMemInj" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SimMemInj</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Values.html">Values</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.AST.html">AST</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html">RelationClasses</a></span>.<br/>
<span class="id">From</span> <span class="id">Paco</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">paco</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 998 =&gt; <span class="id">xomega</span> : <span class="id">xomega</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 999 =&gt; <span class="tactic">congruence</span> : <span class="tactic">congruence</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="less1">less1</a></span> <span class="id">X0</span> (<span class="id">p</span> <span class="id">q</span>: <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> -&gt; <span class="kwd">Prop</span>) := (<span class="kwd">forall</span> <span class="id">x0</span> (<span class="id">PR</span>: <span class="id"><a href="compcert.common.SimMemInj.html#p">p</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> : <span class="kwd">Prop</span>), <span class="id"><a href="compcert.common.SimMemInj.html#q">q</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> : <span class="kwd">Prop</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="less2">less2</a></span> <span class="id">X0</span> <span class="id">X1</span> (<span class="id">p</span> <span class="id">q</span>: <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#X1">X1</a></span> -&gt; <span class="kwd">Prop</span>) := (<span class="kwd">forall</span> <span class="id">x0</span> <span class="id">x1</span> (<span class="id">PR</span>: <span class="id"><a href="compcert.common.SimMemInj.html#p">p</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x1">x1</a></span> : <span class="kwd">Prop</span>), <span class="id"><a href="compcert.common.SimMemInj.html#q">q</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x1">x1</a></span> : <span class="kwd">Prop</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="less3">less3</a></span> <span class="id">X0</span> <span class="id">X1</span> <span class="id">X2</span> (<span class="id">p</span> <span class="id">q</span>: <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#X1">X1</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#X2">X2</a></span> -&gt; <span class="kwd">Prop</span>) := (<span class="kwd">forall</span> <span class="id">x0</span> <span class="id">x1</span> <span class="id">x2</span> (<span class="id">PR</span>: <span class="id"><a href="compcert.common.SimMemInj.html#p">p</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x1">x1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x2">x2</a></span> : <span class="kwd">Prop</span>), <span class="id"><a href="compcert.common.SimMemInj.html#q">q</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x1">x1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x2">x2</a></span> : <span class="kwd">Prop</span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="less4">less4</a></span> <span class="id">X0</span> <span class="id">X1</span> <span class="id">X2</span> <span class="id">X3</span> (<span class="id">p</span> <span class="id">q</span>: <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#X1">X1</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#X2">X2</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#X3">X3</a></span> -&gt; <span class="kwd">Prop</span>) := (<span class="kwd">forall</span> <span class="id">x0</span> <span class="id">x1</span> <span class="id">x2</span> <span class="id">x3</span> (<span class="id">PR</span>: <span class="id"><a href="compcert.common.SimMemInj.html#p">p</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x1">x1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x2">x2</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x3">x3</a></span> : <span class="kwd">Prop</span>), <span class="id"><a href="compcert.common.SimMemInj.html#q">q</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x0">x0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x1">x1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x2">x2</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#x3">x3</a></span> : <span class="kwd">Prop</span>).<br/>
<br/>
<span class="kwd">Notation</span> "<span class="id">p</span> &lt;1= <span class="id">q</span>" := (<span class="id"><a href="compcert.common.SimMemInj.html#less1">less1</a></span> <span class="id">p</span> <span class="id">q</span>) (<span class="tactic">at</span> <span class="id">level</span> 50).<br/>
<span class="kwd">Notation</span> "<span class="id">p</span> &lt;2= <span class="id">q</span>" := (<span class="id"><a href="compcert.common.SimMemInj.html#less2">less2</a></span> <span class="id">p</span> <span class="id">q</span>) (<span class="tactic">at</span> <span class="id">level</span> 50).<br/>
<span class="kwd">Notation</span> "<span class="id">p</span> &lt;3= <span class="id">q</span>" := (<span class="id"><a href="compcert.common.SimMemInj.html#less3">less3</a></span> <span class="id">p</span> <span class="id">q</span>) (<span class="tactic">at</span> <span class="id">level</span> 50).<br/>
<span class="kwd">Notation</span> "<span class="id">p</span> &lt;4= <span class="id">q</span>" := (<span class="id"><a href="compcert.common.SimMemInj.html#less4">less4</a></span> <span class="id">p</span> <span class="id">q</span>) (<span class="tactic">at</span> <span class="id">level</span> 50).<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id"><a name="less1_PreOrder">less1_PreOrder</a></span> <span class="id">X0</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#PreOrder">PreOrder</a></span> (@<span class="id"><a href="compcert.common.SimMemInj.html#less1">less1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2230')">Next Obligation.</div>
<div class="proofscript" id="proof2230">
 <span class="id">ii</span>. <span class="id">ss</span>. Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof2231')">Next Obligation.</div>
<div class="proofscript" id="proof2231">
 <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. Qed.</div>
<span class="kwd">Global</span> <span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id"><a name="less2_PreOrder">less2_PreOrder</a></span> <span class="id">X0</span> <span class="id">X1</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#PreOrder">PreOrder</a></span> (@<span class="id"><a href="compcert.common.SimMemInj.html#less2">less2</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X1">X1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2232')">Next Obligation.</div>
<div class="proofscript" id="proof2232">
 <span class="id">ii</span>. <span class="id">ss</span>. Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof2233')">Next Obligation.</div>
<div class="proofscript" id="proof2233">
 <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. Qed.</div>
<span class="kwd">Global</span> <span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id"><a name="less3_PreOrder">less3_PreOrder</a></span> <span class="id">X0</span> <span class="id">X1</span> <span class="id">X2</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#PreOrder">PreOrder</a></span> (@<span class="id"><a href="compcert.common.SimMemInj.html#less3">less3</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X1">X1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X2">X2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2234')">Next Obligation.</div>
<div class="proofscript" id="proof2234">
 <span class="id">ii</span>. <span class="id">ss</span>. Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof2235')">Next Obligation.</div>
<div class="proofscript" id="proof2235">
 <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. Qed.</div>
<span class="kwd">Global</span> <span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id"><a name="less4_PreOrder">less4_PreOrder</a></span> <span class="id">X0</span> <span class="id">X1</span> <span class="id">X2</span> <span class="id">X3</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#PreOrder">PreOrder</a></span> (@<span class="id"><a href="compcert.common.SimMemInj.html#less4">less4</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X0">X0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X1">X1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X2">X2</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#X3">X3</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2236')">Next Obligation.</div>
<div class="proofscript" id="proof2236">
 <span class="id">ii</span>. <span class="id">ss</span>. Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof2237')">Next Obligation.</div>
<div class="proofscript" id="proof2237">
 <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#less1">less1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#less2">less2</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#less3">less3</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#less4">less4</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="frozen">frozen</a></span> (<span class="id">f_old</span> <span class="id">f_new</span>: <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span class="id">bound_src</span> <span class="id">bound_tgt</span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="frozen_intro">frozen_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NEW_IMPLIES_OUTSIDE</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b_src</span> <span class="id">b_tgt</span> <span class="id">delta</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NEW</span>: <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> /\ <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="compcert.common.SimMemInj.html#b_tgt">b_tgt</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">OUTSIDE_SRC</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#bound_src">bound_src</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span>)%<span class="id">positive</span>&gt;&gt; /\ &lt;&lt;<span class="id">OUTSIDE_TGT</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#bound_tgt">bound_tgt</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#b_tgt">b_tgt</a></span>)%<span class="id">positive</span>&gt;&gt;).<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="inject_separated_frozen">inject_separated_frozen</a></span>: <span class="kwd">forall</span> <span class="id">f_old</span> <span class="id">f_new</span> <span class="id">m_src</span> <span class="id">m_tgt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inject_separated">Events.inject_separated</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src">m_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt">m_tgt</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src">m_src</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt">m_tgt</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2238')">Proof.</div>
<div class="proofscript" id="proof2238">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Events.html#inject_separated">Events.inject_separated</a></span>, <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">split</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">hexploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">splits</span>; <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">split</span>; <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="frozen_preserves_src">frozen_preserves_src</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_old</span> <span class="id">f_new</span> <span class="id">bound_src</span> <span class="id">bound_tgt</span> <span class="id">b_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJECT</span>: <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bound_src">bound_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bound_tgt">bound_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INSIDE</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span> &lt; <span class="id"><a href="compcert.common.SimMemInj.html#bound_src">bound_src</a></span>)%<span class="id">positive</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">PRESERVED</span>: <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span> = <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2239')">Proof.</div>
<div class="proofscript" id="proof2239">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FROZEN</span>. <span class="tactic">destruct</span> (<span class="id">f_old</span> <span class="id">b_src</span>) <span class="id">eqn</span>:<span class="id">T0</span>; <span class="id">ss</span>; <span class="tactic">destruct</span> (<span class="id">f_new</span> <span class="id">b_src</span>) <span class="id">eqn</span>:<span class="id">T1</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>, <span class="id">p0</span>; <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">INJECT</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">INJECT</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="id">exfalso</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="frozen_preserves_tgt">frozen_preserves_tgt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_old</span> <span class="id">f_new</span> <span class="id">bound_src</span> <span class="id">bound_tgt</span> <span class="id">b_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJECT</span>: <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bound_src">bound_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bound_tgt">bound_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INSIDE</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#b_tgt">b_tgt</a></span> &lt; <span class="id"><a href="compcert.common.SimMemInj.html#bound_tgt">bound_tgt</a></span>)%<span class="id">positive</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">PRESERVED</span>: <span class="kwd">forall</span> <span class="id">b_src</span> <span class="id">delta</span> (<span class="id">NOW</span>: <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#b_tgt">b_tgt</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">OLD</span>: <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b_src">b_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#b_tgt">b_tgt</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>)&gt;&gt; &gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2240')">Proof.</div>
<div class="proofscript" id="proof2240">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FROZEN</span>. <span class="id">ii</span>. <span class="tactic">destruct</span> (<span class="id">f_old</span> <span class="id">b_src</span>) <span class="id">eqn</span>:<span class="id">T</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">ss</span>. <span class="id">exploit</span> <span class="id">INJECT</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;- <span class="id">exfalso</span>. <span class="id">exploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="frozen_shortened">frozen_shortened</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f_old</span> <span class="id">f_new</span> <span class="id">bd_src0</span> <span class="id">bd_tgt0</span> <span class="id">bd_src1</span> <span class="id">bd_tgt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bd_src0">bd_src0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bd_tgt0">bd_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SHORT_SRC</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#bd_src1">bd_src1</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#bd_src0">bd_src0</a></span>)%<span class="id">positive</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SHORT_TGT</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#bd_tgt1">bd_tgt1</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#bd_tgt0">bd_tgt0</a></span>)%<span class="id">positive</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_old">f_old</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f_new">f_new</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bd_src1">bd_src1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bd_tgt1">bd_tgt1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2241')">Proof.</div>
<div class="proofscript" id="proof2241">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FROZEN</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">clear</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="id">ss</span>; <span class="tactic">red</span>; <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="frozen_refl">frozen_refl</a></span>: <span class="kwd">forall</span> <span class="id">f</span> <span class="id">bound_src</span> <span class="id">bound_tgt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f">f</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#f">f</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bound_src">bound_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#bound_tgt">bound_tgt</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2242')">Proof.</div>
<div class="proofscript" id="proof2242">
 <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">clarify</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_unmapped_frozen">loc_unmapped_frozen</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">F</span> <span class="id">F</span>' <span class="id">fbound_src</span> <span class="id">fbound_tgt</span> <span class="id">b</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span> : <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span> <span class="id">F</span>' <span class="id"><a href="compcert.common.SimMemInj.html#fbound_src">fbound_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#fbound_tgt">fbound_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BOUND</span>: <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#fbound_src">fbound_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNMAPPED</span>: <span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id">F</span>' <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2243')">Proof.</div>
<div class="proofscript" id="proof2243">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">F</span>' <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">T</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FROZEN</span>. <span class="id">exploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_out_of_reach_frozen">loc_out_of_reach_frozen</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">F</span> <span class="id">F</span>' <span class="id">fbound_src</span> <span class="id">fbound_tgt</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">m0</span> <span class="id">m1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INCR</span>: <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span> <span class="id">F</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span> : <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span> <span class="id">F</span>' <span class="id"><a href="compcert.common.SimMemInj.html#fbound_src">fbound_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#fbound_tgt">fbound_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BOUND</span>: <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#fbound_tgt">fbound_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNMAPPED</span>: <span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m0">m0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MAXPERM</span>: <span class="kwd">forall</span> <span class="id">b0</span> <span class="id">delta</span> (<span class="id">MAPPED</span>: <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b0">b0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m1">m1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b0">b0</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> - <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>) <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span> -&gt; <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m0">m0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b0">b0</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> - <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>) <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="id">F</span>' <span class="id"><a href="compcert.common.SimMemInj.html#m1">m1</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2244')">Proof.</div>
<div class="proofscript" id="proof2244">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="kwd">in</span> *. <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_preserves_tgt">frozen_preserves_tgt</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">hexploit</span> <span class="id">UNMAPPED</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MEMINJ">MEMINJ</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Record</span> <span class="id">t</span>' := <span class="id"><a name="mk">mk</a></span> {<br/>
&nbsp;&nbsp;<span class="id"><a name="src">src</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="tgt">tgt</a></span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="inj">inj</a></span>: <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="src_external">src_external</a></span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="tgt_external">tgt_external</a></span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="src_parent_nb">src_parent_nb</a></span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="tgt_parent_nb">tgt_parent_nb</a></span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="src_ge_nb">src_ge_nb</a></span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="tgt_ge_nb">tgt_ge_nb</a></span>: <span class="id"><a href="compcert.common.Values.html#block">block</a></span>;<br/>
}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valid_blocks">valid_blocks</a></span> (<span class="id">m</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>): <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span> := <span class="kwd">fun</span> <span class="id">b</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.common.SimMemInj.html#m">m</a></span>.(<span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="src_private">src_private</a></span> (<span class="id">sm</span>: <span class="id">t</span>'): <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm">sm</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) /2\ <span class="id"><a href="compcert.common.SimMemInj.html#sm">sm</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>).(<span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="tgt_private">tgt_private</a></span> (<span class="id">sm</span>: <span class="id">t</span>'): <span class="id"><a href="compcert.common.Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm">sm</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm">sm</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) /2\ <span class="id"><a href="compcert.common.SimMemInj.html#sm">sm</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>).(<span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>).<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="kwd">wf</span>' (<span class="id">sm0</span>: <span class="id">t</span>'): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="wf_intro">wf_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PUBLIC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCEXT</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) &lt;2= <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTEXT</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>) &lt;2= <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCLE</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>) &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>))%<span class="id">positive</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTLE</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>) &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>))%<span class="id">positive</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCLEGE</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>) &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>))%<span class="id">positive</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTLEGE</span>: (<span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>) &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>))%<span class="id">positive</span>)<br/>
.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">le</span>' (<span class="id">mrel0</span> <span class="id">mrel1</span>: <span class="id">t</span>'): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="le_intro">le_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INCR</span>: <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCUNCHANGED</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTUNCHANGED</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCPARENTEQ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCPARENTEQNB</span>: <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SRCGENB</span>: <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTPARENTEQ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTPARENTEQNB</span>: <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TGTGENB</span>: <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZENLO</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) (<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) (<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MAXSRC</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VALID</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">MAX</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> &lt;1= <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MAXTGT</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VALID</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">MAX</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> &lt;1= <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span>&gt;&gt;).<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Program</span> <span class="kwd">Instance</span> <span class="id">le</span>'<span class="id">_PreOrder</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Classes.RelationClasses.html#PreOrder">RelationClasses.PreOrder</a></span> <span class="id">le</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2245')">Next Obligation.</div>
<div class="proofscript" id="proof2245">
&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_refl">Mem.unchanged_on_refl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof2246')">Next Obligation.</div>
<div class="proofscript" id="proof2246">
&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">des</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#inject_incr_trans">inject_incr_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_trans">Mem.unchanged_on_trans</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_trans">Mem.unchanged_on_trans</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span> <span class="id">y</span> <span class="id">b_src</span>) <span class="id">eqn</span>:<span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">p</span>. <span class="id">exploit</span> <span class="id">INCR0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">FROZENLO</span>. <span class="id">hexploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">FROZENLO0</span>. <span class="id">hexploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">split</span>; <span class="id">ss</span>; <span class="tactic">red</span>; <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">SRCGENB</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">TGTGENB</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span> <span class="id">y</span> <span class="id">b_src</span>) <span class="id">eqn</span>:<span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">p</span>. <span class="id">exploit</span> <span class="id">INCR0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">clarify</span>. <span class="id">inv</span> <span class="id">FROZEN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">FROZEN0</span>. <span class="id">hexploit</span> <span class="id">NEW_IMPLIES_OUTSIDE</span>; <span class="tactic">eauto</span>; []; <span class="id">i</span>; <span class="id">des</span>. <span class="tactic">split</span>; <span class="id">ss</span>; <span class="tactic">red</span>; <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">SRCPARENTEQNB</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">TGTPARENTEQNB</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;+ <span class="id">i</span>. <span class="id">r</span>. <span class="id">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">MAXSRC0</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_Ple_trans">Plt_Ple_trans</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span>; <span class="tactic">eauto</span>. } <span class="comment">(*&nbsp;added&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">MAXSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id">i</span>. <span class="id">r</span>. <span class="id">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">MAXTGT0</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_Ple_trans">Plt_Ple_trans</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span>; <span class="tactic">eauto</span>. } <span class="comment">(*&nbsp;added&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">MAXTGT</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id">lift</span>' (<span class="id">mrel0</span>: <span class="id">t</span>'): <span class="id">t</span>' :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>)<br/>
&nbsp;&nbsp;).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">unlift</span>' (<span class="id">mrel0</span> <span class="id">mrel1</span>: <span class="id">t</span>'): <span class="id">t</span>' :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>)<br/>
&nbsp;&nbsp;).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unlift_spec">unlift_spec</a></span> : <span class="kwd">forall</span> <span class="id">mrel0</span> <span class="id">mrel1</span> : <span class="id">t</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">le</span>' (<span class="id">lift</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span> -&gt; <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span> -&gt; <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span> (<span class="id">unlift</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2247')">Proof.</div>
<div class="proofscript" id="proof2247">
&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">ss</span>. <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">ii</span>; <span class="id">des</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H0</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_shortened">frozen_shortened</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unlift_wf">unlift_wf</a></span> : <span class="kwd">forall</span> <span class="id">mrel0</span> <span class="id">mrel1</span> : <span class="id">t</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span> -&gt; <span class="id">le</span>' (<span class="id">lift</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span> -&gt; <span class="kwd">wf</span>' (<span class="id">unlift</span>' <span class="id"><a href="compcert.common.SimMemInj.html#mrel0">mrel0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#mrel1">mrel1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2248')">Proof.</div>
<div class="proofscript" id="proof2248">
&nbsp;&nbsp;<span class="id">i</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">des</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="comment">(*&nbsp;eauto&nbsp;did&nbsp;well&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;etransitivity;&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SRCPARENTEQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;u.&nbsp;bar.&nbsp;i;&nbsp;des.&nbsp;esplits;&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;+&nbsp;eapply&nbsp;loc_unmapped_frozen;&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;+&nbsp;unfold&nbsp;Mem.valid_block&nbsp;in&nbsp;*.&nbsp;xomega.&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;etransitivity;&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">TGTPARENTEQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">SRCUNCHANGED</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">TGTUNCHANGED</span>; <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="after_private_src">after_private_src</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">sm1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id">lift</span>') <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>) &lt;2= <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2249')">Proof.</div>
<div class="proofscript" id="proof2249">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MLE</span>. <span class="id">inv</span> <span class="id">SRCUNCHANGED</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>; <span class="id">ii</span>; <span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#loc_unmapped_frozen">loc_unmapped_frozen</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="after_private_tgt">after_private_tgt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">sm1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id">lift</span>') <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>) &lt;2= <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2250')">Proof.</div>
<div class="proofscript" id="proof2250">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MLE</span>. <span class="id">inv</span> <span class="id">TGTUNCHANGED</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>; <span class="id">ii</span>; <span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#loc_out_of_reach_frozen">loc_out_of_reach_frozen</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">VALID</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span> <span class="id">sm0</span>) <span class="id">b0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">Classical_Prop.NNPP</a></span>. <span class="id">ii</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_freeblocks">Mem.mi_freeblocks</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">MAXSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MEMINJ.ORIGINALS">ORIGINALS</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_mapped">store_mapped</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">chunk</span> <span class="id">v_src</span> <span class="id">v_tgt</span> <span class="id">blk_src</span> <span class="id">ofs</span> <span class="id">blk_tgt</span> <span class="id">delta</span> <span class="id">m_src0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STRSRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#chunk">chunk</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#v_src">v_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIMBLK</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIMV</span>: <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#v_src">v_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#v_tgt">v_tgt</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">STRTGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.store">Mem.store</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#chunk">chunk</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#v_tgt">v_tgt</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2251')">Proof.</div>
<div class="proofscript" id="proof2251">
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_mapped_inject">Mem.store_mapped_inject</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_unchanged_on">Mem.store_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">SRCEXT</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">des</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_unchanged_on">Mem.store_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">TGTEXT</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">des</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> - <span class="id">STRSRC</span> <span class="id">H1</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_valid_access_3">Mem.store_valid_access_3</a></span> <span class="kwd">in</span> <span class="id">STRSRC</span>. <span class="tactic">destruct</span> <span class="id">STRSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span> <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_store_2">Mem.perm_store_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_store_2">Mem.perm_store_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">PR</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span>; <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_store">Mem.nextblock_store</a></span>; <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="storev_mapped">storev_mapped</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">chunk</span> <span class="id">v_src</span> <span class="id">v_tgt</span> <span class="id">addr_src</span> <span class="id">addr_tgt</span> <span class="id">m_src0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STRSRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#chunk">chunk</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#addr_src">addr_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#v_src">v_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIMADDR</span>: <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#addr_src">addr_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#addr_tgt">addr_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIMV</span>: <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#v_src">v_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#v_tgt">v_tgt</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">STRTGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#chunk">chunk</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#addr_tgt">addr_tgt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#v_tgt">v_tgt</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2252')">Proof.</div>
<div class="proofscript" id="proof2252">
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev_mapped_inject">Mem.storev_mapped_inject</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> <span class="id">STRSRC</span>. <span class="id">des_ifs</span>. <span class="id">inv</span> <span class="id">SIMADDR</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.SimMemInj.html#store_mapped">store_mapped</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.storev">Mem.storev</a></span>.<br/>
&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Memdata.html#size_chunk_pos">size_chunk_pos</a></span> <span class="id">chunk</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">SZ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span> + <span class="id">delta</span> = <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">i</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>))).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr_unsigned">Ptrofs.repr_unsigned</a></span> <span class="kwd">with</span> (<span class="id">i</span> := <span class="id">i</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.Ptrofs_add_repr">Ptrofs.Ptrofs_add_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr">Ptrofs.unsigned_repr</a></span>; [|<span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_range_2">Ptrofs.unsigned_range_2</a></span>]. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_repr">Ptrofs.unsigned_repr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_representable">Mem.mi_representable</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_store_1">Mem.perm_store_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; [|<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>]. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur_max">Mem.perm_cur_max</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.store_valid_access_3">Mem.store_valid_access_3</a></span> <span class="kwd">in</span> <span class="id">STRSRC</span>. <span class="tactic">destruct</span> <span class="id">STRSRC</span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="free_parallel">free_parallel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">blk_src</span> <span class="id">blk_tgt</span> <span class="id">delta</span> <span class="id">m_src0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREESRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIMBLK</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">FREETGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> + <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>) (<span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> + <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2253')">Proof.</div>
<div class="proofscript" id="proof2253">
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_inject">Mem.free_parallel_inject</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_unchanged_on">Mem.free_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">SRCEXT</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">des</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_unchanged_on">Mem.free_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">TGTEXT</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">des</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> - <span class="id">FREESRC</span> <span class="id">H1</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span> <span class="kwd">in</span> <span class="id">FREESRC</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span> <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">PR</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span>; <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span>; <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="free_left">free_left</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">blk_src</span> <span class="id">blk_tgt</span> <span class="id">delta</span> <span class="id">m_src0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREESRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIMBLK</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#delta">delta</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MTGT</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2254')">Proof.</div>
<div class="proofscript" id="proof2254">
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_left_inject">Mem.free_left_inject</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_unchanged_on">Mem.free_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">SRCEXT</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">des</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_refl">Mem.unchanged_on_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">PR</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span>; <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="free_right">free_right</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">blk_tgt</span> <span class="id">m_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREETGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PRIVTGT</span>: <span class="kwd">forall</span> <span class="id">ofs</span> (<span class="id">BDD</span>: <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> &lt; <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span>), <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EXTTGT</span>: <span class="kwd">forall</span> <span class="id">ofs</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span> &lt; <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> -&gt; ~ <span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ofs">ofs</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MTGT</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2255')">Proof.</div>
<div class="proofscript" id="proof2255">
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_right_inject">Mem.free_right_inject</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">PRIVTGT</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">des</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">ofs</span> + <span class="id">delta</span> - <span class="id">delta</span>) <span class="kwd">with</span> <span class="id">ofs</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_refl">Mem.unchanged_on_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_unchanged_on">Mem.free_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span>; <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_parallel">alloc_parallel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">lo_src</span> <span class="id">hi_src</span> <span class="id">lo_tgt</span> <span class="id">hi_tgt</span> <span class="id">blk_src</span> <span class="id">m_src0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ALCSRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#lo_src">lo_src</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#hi_src">hi_src</a></span> = (<span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LO</span>: <span class="id"><a href="compcert.common.SimMemInj.html#lo_tgt">lo_tgt</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#lo_src">lo_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">HI</span>: <span class="id"><a href="compcert.common.SimMemInj.html#hi_src">hi_src</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#hi_tgt">hi_tgt</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span> <span class="id">blk_tgt</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">ALCTGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#lo_tgt">lo_tgt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#hi_tgt">hi_tgt</a></span> = (<span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>), <span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">INJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#blk_tgt">blk_tgt</a></span>, 0) /\ <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> &lt;&gt; <span class="id"><a href="compcert.common.SimMemInj.html#blk_src">blk_src</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2256')">Proof.</div>
<div class="proofscript" id="proof2256">
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_parallel_inject">Mem.alloc_parallel_inject</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MWF</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">inv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">FROZEN</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">frozen</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span> <span class="id">sm0</span>) <span class="id">f</span>' (<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span> <span class="id">sm0</span>) (<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span> <span class="id">sm0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>. <span class="id">ii</span>. <span class="id">des</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b_src</span> <span class="id">blk_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">NEW0</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">ALCSRC</span>. <span class="tactic">rewrite</span> <span class="id">ALCSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">NEW0</span>; <span class="tactic">eauto</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">f</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">exists</span> <span class="id">b2</span>.<br/>
&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_shortened">frozen_shortened</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">subst</span> <span class="id">b</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">ALCSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">subst</span> <span class="id">b</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">x0</span> <span class="id">blk_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span> <span class="id">x0</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">ALCSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">r</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">blk_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">subst</span> <span class="id">b0</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">PR</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span> <span class="kwd">in</span> *. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span> <span class="kwd">in</span> <span class="id">ALCSRC</span>. <span class="tactic">rewrite</span> <span class="id">ALCSRC</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="external_call">external_call</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">ef</span> <span class="id">se</span> <span class="id">vargs</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m_src0</span> <span class="id">tse</span> <span class="id">vargs</span>' <span class="id">vres</span>' <span class="id">m_tgt0</span> <span class="id">f</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EXTCALLSRC</span>: <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ef">ef</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#se">se</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#vargs">vargs</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#t">t</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#vres">vres</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EXTCALLTGT</span>: <span class="id"><a href="compcert.common.Events.html#external_call">external_call</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#ef">ef</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#tse">tse</a></span> <span class="id">vargs</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#t">t</a></span> <span class="id">vres</span>' <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEMINJ</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id">f</span>' <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCHANGSRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNCHANGTGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on">Mem.unchanged_on</a></span> (<span class="id"><a href="compcert.common.Events.html#loc_out_of_reach">loc_out_of_reach</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>)) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJINCR</span>: <span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id">f</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJSEP</span>: <span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id">f</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MTGT</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id">f</span>'&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2257')">Proof.</div>
<div class="proofscript" id="proof2257">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LE_LIFTED</span>: <span class="id">le</span>' <span class="id">sm0</span>.(<span class="id">lift</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">m_src0</span> <span class="id">m_tgt0</span> <span class="id">f</span>' <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>) <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>) <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>).(<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>) <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>))).<br/>
&nbsp;&nbsp;{ <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">i</span>; <span class="tactic">eapply</span> <span class="id">UNCHANGSRC</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">i</span>; <span class="tactic">eapply</span> <span class="id">UNCHANGTGT</span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_shortened">frozen_shortened</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#inject_separated_frozen">inject_separated_frozen</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#inject_separated_frozen">inject_separated_frozen</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_max_perm">external_call_max_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Events.html#external_call_max_perm">external_call_max_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>) <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>) <span class="id">sm0</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>) <span class="id">_</span> <span class="id">_</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.common.SimMemInj.html#after_private_src">after_private_src</a></span> <span class="id">_</span> <span class="id">LE_LIFTED</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> (<span class="id"><a href="compcert.common.SimMemInj.html#after_private_tgt">after_private_tgt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">LE_LIFTED</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_trans">Ple_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">UNCHANGSRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Ple_trans">Ple_trans</a></span>; <span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">UNCHANGTGT</span>.<br/>
&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.common.SimMemInj.html#unlift_spec">unlift_spec</a></span>; <span class="tactic">eauto</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">by</span> (<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#inject_separated_frozen">inject_separated_frozen</a></span>; <span class="tactic">eauto</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="free_list">free_list</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">l</span> <span class="id">m_src0</span> <span class="id">l</span>' <span class="id">m_tgt0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span> : <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREESRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#l">l</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREETGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) <span class="id">l</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEMINJ</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EXTSRC</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">i</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#l">l</a></span> -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#i">i</a></span> &lt; <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> -&gt; ~ <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#i">i</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EXTTGT</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">i</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span>) <span class="id">l</span>' -&gt; <span class="id"><a href="compcert.common.SimMemInj.html#lo">lo</a></span> &lt;= <span class="id"><a href="compcert.common.SimMemInj.html#i">i</a></span> &lt; <span class="id"><a href="compcert.common.SimMemInj.html#hi">hi</a></span> -&gt; ~ <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#b">b</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#i">i</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MTGT</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2258')">Proof.</div>
<div class="proofscript" id="proof2258">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MWF</span>. <span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_unchanged_on">Mem.free_list_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_unchanged_on">Mem.free_list_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>. + <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_refl">frozen_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_list">Mem.perm_free_list</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_list">Mem.perm_free_list</a></span>; <span class="tactic">eauto</span>.      <br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">red</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_nextblock">Mem.free_list_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">PR</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_list">Mem.perm_free_list</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">FREESRC</span>; <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">red</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_nextblock">Mem.free_list_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_nextblock">Mem.free_list_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_list_nextblock">Mem.free_list_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="same_inj_le_wf">same_inj_le_wf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">sm1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span> : <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>)    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MLE</span>: <span class="id">le</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PUBLIC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ</span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">MWF</span>: <span class="kwd">wf</span>' <span class="id"><a href="compcert.common.SimMemInj.html#sm1">sm1</a></span>&gt;&gt;.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2259')">Proof.</div>
<div class="proofscript" id="proof2259">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MWF</span>. <span class="id">inv</span> <span class="id">MLE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span> <span class="kwd">in</span> <span class="id">SRCUNCHANGED</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span> <span class="kwd">in</span> <span class="id">TGTUNCHANGED</span>.<br/>
&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">SRCPARENTEQ</span>. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>, <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">xomega</span>. }<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">TGTPARENTEQ</span>. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>. <span class="id">ii</span>. <span class="id">ss</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">PR</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">MAXSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>, <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">xomega</span>. }<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">SRCPARENTEQNB</span>. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> &lt;- <span class="id">TGTPARENTEQNB</span>. <span class="id">etransitivity</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.common.SimMemInj.html#MEMINJ.ORIGINALS">ORIGINALS</a></span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="mcompat">mcompat</a></span> (<span class="id">sm0</span>: <span class="id">t</span>') (<span class="id">m_src0</span> <span class="id">m_tgt0</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">F</span>: <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>): <span class="kwd">Prop</span> := <span class="id"><a name="mkmcompat">mkmcompat</a></span> {<br/>
&nbsp;&nbsp;<span class="id"><a name="mcompat_src">mcompat_src</a></span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">src</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_src0">m_src0</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="mcompat_tgt">mcompat_tgt</a></span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">tgt</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#m_tgt0">m_tgt0</a></span>;<br/>
&nbsp;&nbsp;<span class="id"><a name="mcompat_inj">mcompat_inj</a></span>: <span class="id"><a href="compcert.common.SimMemInj.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">inj</a></span>) = <span class="id"><a href="compcert.common.SimMemInj.html#F">F</a></span>;<br/>
}.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.common.SimMemInj.html#MEMINJ">MEMINJ</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">valid_blocks</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">src_private</a></span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">tgt_private</a></span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">compat_tac</span> := <span class="id">ss</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">spl</span> := <span class="id">esplits</span>; [|<span class="tactic">reflexivity</span>].<br/>
<span class="kwd">Ltac</span> <span class="id">spl_approx</span> <span class="id">sm</span> :=<br/>
&nbsp;&nbsp;<span class="id">eexists</span> (<span class="id"><a href="compcert.common.SimMemInj.html#mk">mk</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">sm</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_external">src_external</a></span>) <span class="id">sm</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_external">tgt_external</a></span>) <span class="id">sm</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">src_parent_nb</a></span>) <span class="id">sm</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">tgt_parent_nb</a></span>) <span class="id">sm</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src_ge_nb">src_ge_nb</a></span>) <span class="id">sm</span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt_ge_nb">tgt_ge_nb</a></span>)); <span class="id">splits</span>; <span class="tactic">eauto</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">spl_exact</span> <span class="id">sm</span> :=<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm</span>; <span class="id">splits</span>; [|<span class="tactic">try</span> <span class="id">etransitivity</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>; <span class="tactic">eauto</span>].<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
