
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Fappli_IEEE</title>
<meta name="description" content="Documentation of Coq module Fappli_IEEE" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Fappli_IEEE</h1>
<div class="coq">
<br/>
<h1> IEEE-754 arithmetic </h1>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Fcore.html">Fcore</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html">Fcore_digits</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html">Fcalc_digits</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html">Fcalc_round</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html">Fcalc_bracket</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html">Fcalc_ops</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_div.html">Fcalc_div</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_sqrt.html">Fcalc_sqrt</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.flocq.Prop.Fprop_relative.html">Fprop_relative</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="AnyRadix">AnyRadix</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="full_float">full_float</a></span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_zero">F754_zero</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#full_float">full_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_infinity">F754_infinity</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#full_float">full_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_nan">F754_nan</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#full_float">full_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="F754_finite">F754_finite</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#full_float">full_float</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="FF2R">FF2R</a></span> <span class="id">beta</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#beta">beta</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">s</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span>)) <span class="id">e</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; 0%<span class="id">R</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#AnyRadix">AnyRadix</a></span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="Binary">Binary</a></span>.<br/>
<br/>
<span class="id">Arguments</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> {<span class="id">A</span> <span class="id">P</span>} <span class="id">x</span> <span class="id">_</span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">prec</span></span> is the number of bits of the mantissa including the implicit one;
    <span class="bracket"><span class="id">emax</span></span> is the exponent of the infinities.
    For instance, binary32 is defined by <span class="bracket"><span class="id">prec</span> = 24</span> and <span class="bracket"><span class="id">emax</span> = 128</span>. </div>
<span class="kwd">Variable</span> <span class="id"><a name="Binary.prec">prec</a></span> <span class="id"><a name="Binary.emax">emax</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Context</span> (<span class="id">prec_gt_0_</span> : <span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#Prec_gt_0">Prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="Binary.Hmax">Hmax</a></span> : (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>)%<span class="id">Z</span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="Binary.emin">emin</a></span> := (3 - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="Binary.fexp">fexp</a></span> := <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>.<br/>
<span class="kwd">Instance</span> <span class="id"><a name="fexp_correct">fexp_correct</a></span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_exp">Valid_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> := <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp_valid">FLT_exp_valid</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>.<br/>
<span class="kwd">Instance</span> <span class="id"><a name="fexp_monotone">fexp_monotone</a></span> : <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Monotone_exp">Monotone_exp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> := <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp_monotone">FLT_exp_monotone</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="canonic_mantissa">canonic_mantissa</a></span> <span class="id">m</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool">Zeq_bool</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="bounded">bounded</a></span> <span class="id">m</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_mantissa">canonic_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="valid_binary">valid_binary</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">_</span> <span class="id">m</span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id">m</span> <span class="id">e</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">_</span> <span class="id">pl</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">digits2_pos</a></span> <span class="id">pl</span>) &lt;? <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)%<span class="id">Z</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Basic type used for representing binary FP numbers.
    Note that there is exactly one such object per FP datum. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="nan_pl">nan_pl</a></span> := {<span class="id">pl</span> | (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) &lt;? <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>  = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>}.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="binary_float">binary_float</a></span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_zero">B754_zero</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_infinity">B754_infinity</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_nan">B754_nan</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#nan_pl">nan_pl</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="B754_finite">B754_finite</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">e</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>), <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="FF2B">FF2B</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">as</span> <span class="id">x</span> <span class="kwd">return</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">s</span> =&gt; <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">s</span> =&gt; <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">b</span> <span class="id">pl</span> =&gt; <span class="kwd">fun</span> <span class="id">H</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">b</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">pl</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#H">H</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="B2FF">B2FF</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">s</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">b</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">pl</span> <span class="id">_</span>) =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">b</span> <span class="id">pl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="B2R">B2R</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">m</span> <span class="id">e</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">s</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span>)) <span class="id">e</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; 0%<span class="id">R</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FF2R_B2FF">FF2R_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5873')">Proof.</div>
<div class="proofscript" id="proof5873">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> [<span class="id">plx</span> <span class="id">Hplx</span>]|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2FF_FF2B">B2FF_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5874')">Proof.</div>
<div class="proofscript" id="proof5874">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="valid_binary_B2FF">valid_binary_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5875')">Proof.</div>
<div class="proofscript" id="proof5875">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> [<span class="id">plx</span> <span class="id">Hplx</span>]|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FF2B_B2FF">FF2B_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">H</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#H">H</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5876')">Proof.</div>
<div class="proofscript" id="proof5876">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> [<span class="id">plx</span> <span class="id">Hplx</span>]|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] <span class="id">H</span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FF2B_B2FF_valid">FF2B_B2FF_valid</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary_B2FF">valid_binary_B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5877')">Proof.</div>
<div class="proofscript" id="proof5877">
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B_B2FF">FF2B_B2FF</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_FF2B">B2R_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5878')">Proof.</div>
<div class="proofscript" id="proof5878">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="match_FF2B">match_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> {<span class="id">T</span>} <span class="id">fz</span> <span class="id">fi</span> <span class="id">fn</span> <span class="id">ff</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Hx">Hx</a></span> <span class="kwd">return</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#T">T</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fz">fz</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fi">fi</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">b</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">p</span> <span class="id">_</span>) =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fn">fn</a></span> <span class="id">b</span> <span class="id">p</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ff">ff</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span> =<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fz">fz</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fi">fi</a></span> <span class="id">sx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">b</span> <span class="id">p</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fn">fn</a></span> <span class="id">b</span> <span class="id">p</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ff">ff</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5879')">Proof.</div>
<div class="proofscript" id="proof5879">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">T</span> <span class="id">fz</span> <span class="id">fi</span> <span class="id">fn</span> <span class="id">ff</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">Hx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="canonic_canonic_mantissa">canonic_canonic_mantissa</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">sx</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_mantissa">canonic_mantissa</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5880')">Proof.</div>
<div class="proofscript" id="proof5880">
<span class="tactic">intros</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">H</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hx</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">clear</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">pattern</span> <span class="id">ex</span> <span class="tactic">at</span> 2 ; <span class="tactic">rewrite</span> &lt;- <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> (<span class="tactic">f_equal</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits_abs">Zdigits_abs</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="generic_format_B2R">generic_format_B2R</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format">generic_format</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5881')">Proof.</div>
<div class="proofscript" id="proof5881">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) <span class="kwd">as</span> (<span class="id">H</span>, <span class="id">_</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="FLT_format_B2R">FLT_format_B2R</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_format">FLT_format</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5882')">Proof with</div>
<div class="proofscript" id="proof5882">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">x</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_format_generic">FLT_format_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2FF_inj">B2FF_inj</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5883')">Proof.</div>
<div class="proofscript" id="proof5883">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> [<span class="id">plx</span> <span class="id">Hplx</span>]|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> [<span class="id">ply</span> <span class="id">Hply</span>]|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="tactic">clear</span> <span class="id">H</span>.<br/>
<span class="id">revert</span> <span class="id">Hplx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="tactic">clear</span> <span class="id">H</span>.<br/>
<span class="id">revert</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H2</span>, <span class="id">H3</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_finite_strict">is_finite_strict</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_inj">B2R_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_strict">is_finite_strict</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5884')">Proof.</div>
<div class="proofscript" id="proof5884">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>| |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>| |<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hs</span>: <span class="id">sx</span> = <span class="id">sy</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">revert</span> <span class="id">Heq</span>. <span class="tactic">clear</span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span> ; <span class="tactic">case</span> <span class="id">sy</span> ; <span class="tactic">try</span> <span class="id">easy</span> ;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Heq</span> ; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False_ind">False_ind</a></span> ; <span class="id">revert</span> <span class="id">Heq</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_trans">Rgt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">assert</span> (<span class="id">mx</span> = <span class="id">my</span> /\ <span class="id">ex</span> = <span class="id">ey</span>).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_unicity">canonic_unicity</a></span> <span class="id">_</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heq</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">Hs</span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sy</span> ; <span class="tactic">intro</span> <span class="id">H</span> ; <span class="tactic">injection</span> <span class="id">H</span> ; <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span>.<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span>.<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>)).<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">revert</span> <span class="id">Hx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hs</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id">H</span>), (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id">H</span>).<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#eqbool_irrelevance">eqbool_irrelevance</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bsign">Bsign</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">s</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sign_FF">sign_FF</a></span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">s</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">s</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">s</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">s</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bsign_FF2B">Bsign_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">H</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#H">H</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5885')">Proof.</div>
<div class="proofscript" id="proof5885">
<span class="id">now</span> <span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>] <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_finite">is_finite</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_finite_FF">is_finite_FF</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_FF2B">is_finite_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5886')">Proof.</div>
<div class="proofscript" id="proof5886">
<span class="id">now</span> <span class="tactic">intros</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_FF_B2FF">is_finite_FF_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5887')">Proof.</div>
<div class="proofscript" id="proof5887">
<span class="id">now</span> <span class="tactic">intros</span> [| |? []|].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_Bsign_inj">B2R_Bsign_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5888')">Proof.</div>
<div class="proofscript" id="proof5888">
<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_inj">B2R_inj</a></span>; <span class="id">now</span> <span class="tactic">eauto</span>).<br/>
- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">congruence</span>.<br/>
- <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral">Rmult_integral</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#eq_Z2R">eq_Z2R</a></span> <span class="id">_</span> 0) <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="tactic">discriminate</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_integral">Rmult_integral</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#eq_Z2R">eq_Z2R</a></span> <span class="id">_</span> 0) <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">discriminate</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">e</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_irrefl">Rlt_irrefl</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_nan">is_nan</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_nan_FF">is_nan_FF</a></span> <span class="id">f</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_nan_FF2B">is_nan_FF2B</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">Hx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Hx">Hx</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan_FF">is_nan_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5889')">Proof.</div>
<div class="proofscript" id="proof5889">
<span class="id">now</span> <span class="tactic">intros</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_nan_FF_B2FF">is_nan_FF_B2FF</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan_FF">is_nan_FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5890')">Proof.</div>
<div class="proofscript" id="proof5890">
<span class="id">now</span> <span class="tactic">intros</span> [| |? []|].<br/>
Qed.</div>
<br/>
<div class="doc">Opposite </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bopp">Bopp</a></span> <span class="id">opp_nan</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">sx</span> <span class="id">plx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">sres</span>, <span class="id">plres</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#opp_nan">opp_nan</a></span> <span class="id">sx</span> <span class="id">plx</span> <span class="kwd">in</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">sres</span> <span class="id">plres</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>) <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bopp_involutive">Bopp_involutive</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#opp_nan">opp_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5891')">Proof.</div>
<div class="proofscript" id="proof5891">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">opp_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">simpl</span> ; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_involutive">Bool.negb_involutive</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_Bopp">B2R_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = (- <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5892')">Proof.</div>
<div class="proofscript" id="proof5892">
<span class="tactic">intros</span> <span class="id">opp_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span> ; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">opp_nan</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_opp">F2R_opp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">sx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_Bopp">is_finite_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5893')">Proof.</div>
<div class="proofscript" id="proof5893">
<span class="tactic">intros</span> <span class="id">opp_nan</span> [| |<span class="id">s</span> <span class="id">pl</span>|] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">opp_nan</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Absolute value </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Babs">Babs</a></span> <span class="id">abs_nan</span> (<span class="id">x</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>) : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">sx</span> <span class="id">plx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">sres</span>, <span class="id">plres</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id">sx</span> <span class="id">plx</span> <span class="kwd">in</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">sres</span> <span class="id">plres</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2R_Babs">B2R_Babs</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5894')">Proof.</div>
<div class="proofscript" id="proof5894">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">abs_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>]; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span> ; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">abs_nan</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_abs">F2R_abs</a></span>. <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">sx</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="is_finite_Babs">is_finite_Babs</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5895')">Proof.</div>
<div class="proofscript" id="proof5895">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">abs_nan</span> [| |<span class="id">s</span> <span class="id">pl</span>|] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">case</span> <span class="id">abs_nan</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bsign_Babs">Bsign_Babs</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5896')">Proof.</div>
<div class="proofscript" id="proof5896">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> [| | |].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Babs_idempotent">Babs_idempotent</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> (<span class="id">x</span>: <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5897')">Proof.</div>
<div class="proofscript" id="proof5897">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Babs_Bopp">Babs_Bopp</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">abs_nan</span> <span class="id">opp_nan</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#opp_nan">opp_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Babs">Babs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_nan">abs_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5898')">Proof.</div>
<div class="proofscript" id="proof5898">
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">intros</span> <span class="id">abs_nan</span> <span class="id">opp_nan</span> [| | |].<br/>
Qed.</div>
<br/>
<div class="doc">Comparison
<span class="bracket"><span class="id">Some</span> <span class="id">c</span></span> means ordered as per <span class="bracket"><span class="id">c</span></span>; <span class="bracket"><span class="id">None</span></span> means unordered. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bcompare">Bcompare</a></span> (<span class="id">f1</span> <span class="id">f2</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_float">binary_float</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#comparison">comparison</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f1">f1</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f2">f2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span>,<span class="id">_</span> | <span class="id">_</span>,<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">e1</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">s2</span> <span class="id">m2</span> <span class="id">e2</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">s1</span>, <span class="id">s2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zcompare">Zcompare</a></span> <span class="id">e1</span> <span class="id">e2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare">Pcompare</a></span> <span class="id">m1</span> <span class="id">m2</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zcompare">Zcompare</a></span> <span class="id">e1</span> <span class="id">e2</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#CompOpp">CompOpp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare">Pcompare</a></span> <span class="id">m1</span> <span class="id">m2</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bcompare_correct">Bcompare_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f1">f1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f1">f1</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f2">f2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f1">f1</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f2">f2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5899')">Proof.</div>
<div class="proofscript" id="proof5899">
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">apply_Rcompare</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> <span class="id">_</span> <span class="id">_</span>) ] =&gt; <span class="tactic">f_equal</span>; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Lt">Rcompare_Lt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> <span class="id">_</span> <span class="id">_</span>) ] =&gt; <span class="tactic">f_equal</span>; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Eq">Rcompare_Eq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> <span class="id">_</span> <span class="id">_</span>) ] =&gt; <span class="tactic">f_equal</span>; <span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Gt">Rcompare_Gt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f1</span>, <span class="id">f2</span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Eq">Rcompare_Eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> ; <span class="id">apply_Rcompare</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span> ; <span class="id">apply_Rcompare</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="kwd">in</span> <span class="id">e0</span>; <span class="tactic">destruct</span> <span class="id">e0</span>; <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="kwd">in</span> <span class="id">e2</span>; <span class="tactic">destruct</span> <span class="id">e2</span>; <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zcompare_spec">Zcompare_spec</a></span> <span class="id">e</span> <span class="id">e1</span>); <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="kwd">in</span> <span class="id">H1</span>, <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">e1</span> <span class="id">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m1">m1</a></span>) * <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e1">e1</a></span>)%<span class="id">R</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m2">m2</a></span>) * <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e2">e2</a></span>)%<span class="id">R</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)%<span class="id">Z</span> -&gt; (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rnot_le_lt">Rnot_le_lt</a></span>; <span class="tactic">intro</span>; <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_le">ln_beta_le</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>) <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_not_le">Zlt_not_le</a></span> <span class="kwd">with</span> (1 := <span class="id">H4</span>).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp_monotone">fexp_monotone</a></span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m2</span>) <span class="id">e2</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">e1</span> <span class="id">e2</span>, (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (- <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m1">m1</a></span>) * <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e1">e1</a></span> &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m2">m2</a></span>) * <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e2">e2</a></span>)%<span class="id">R</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="id">_</span> 0%<span class="id">R</span>).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">m1</span>) <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m2</span>) <span class="id">e2</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fnum">Fnum</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>, <span class="id">b0</span>; <span class="tactic">try</span> (<span class="id">now</span> <span class="id">apply_Rcompare</span>; <span class="tactic">apply</span> <span class="id">H5</span>); <span class="tactic">inversion</span> <span class="id">H3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">apply_Rcompare</span>; <span class="tactic">apply</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">assumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">apply_Rcompare</span>; <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_opp">Z2R_opp</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>; <span class="tactic">apply</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">assumption</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Z2R">Rcompare_Z2R</a></span> <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>); <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bcompare_swap">Bcompare_swap</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bcompare">Bcompare</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#CompOpp">CompOpp</a></span> <span class="id">c</span>) | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5900')">Proof.</div>
<div class="proofscript" id="proof5900">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [ ? | [] | ? ? | [] <span class="id">mx</span> <span class="id">ex</span> <span class="id">Bx</span> ];<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [ ? | [] | ? ? | [] <span class="id">my</span> <span class="id">ey</span> <span class="id">By</span> ]; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcompare.html#Zcompare_antisym">Zcompare_antisym</a></span> <span class="id">ex</span> <span class="id">ey</span>). <span class="tactic">destruct</span> (<span class="id">ex</span> ?= <span class="id">ey</span>)%<span class="id">Z</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare_antisym">Pcompare_antisym</a></span> <span class="id">mx</span> <span class="id">my</span>).<br/>
- <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcompare.html#Zcompare_antisym">Zcompare_antisym</a></span> <span class="id">ex</span> <span class="id">ey</span>). <span class="tactic">destruct</span> (<span class="id">ex</span> ?= <span class="id">ey</span>)%<span class="id">Z</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
&nbsp;&nbsp;<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pcompare_antisym">Pcompare_antisym</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="bounded_lt_emax">bounded_lt_emax</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5901')">Proof.</div>
<div class="proofscript" id="proof5901">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) <span class="kwd">as</span> (<span class="id">H1</span>,<span class="id">H2</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="tactic">clear</span> <span class="id">H1</span>. <span class="tactic">intro</span> <span class="id">H1</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool_imp_le">Zle_bool_imp_le</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>). <span class="tactic">clear</span> <span class="id">H2</span>. <span class="tactic">intro</span> <span class="id">H2</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="kwd">as</span> (<span class="id">e</span>',<span class="id">Ex</span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_val">ln_beta_val</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">e</span>').<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zabs">Zabs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span>. 2: <span class="tactic">discriminate</span>.<br/>
<span class="id">revert</span> <span class="id">H1</span>. <span class="tactic">clear</span> -<span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)).<br/>
<span class="id">clearbody</span> <span class="id">emin</span>.<br/>
<span class="tactic">intros</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="abs_B2R_lt_emax">abs_B2R_lt_emax</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>)%<span class="id">R</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5902')">Proof.</div>
<div class="proofscript" id="proof5902">
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">simpl</span> ; <span class="tactic">try</span> ( <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span> ).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="bounded_canonic_lt_emax">bounded_canonic_lt_emax</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>)%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5903')">Proof.</div>
<div class="proofscript" id="proof5903">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Cx</span> <span class="id">Bx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_mantissa">canonic_mantissa</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="kwd">in</span> <span class="id">Cx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Cx</span> <span class="tactic">at</span> 2.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span>. 2: <span class="tactic">discriminate</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_is_eq_bool">Zeq_is_eq_bool</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zle_bool_true">Zle_bool_true</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Fexp">Fexp</a></span> <span class="kwd">in</span> <span class="id">Cx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Cx</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta">ln_beta</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="kwd">as</span> (<span class="id">e</span>',<span class="id">Ex</span>). <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zmax.html#Zmax_lub">Zmax_lub</a></span>.<br/>
<span class="tactic">cut</span> (<span class="id">e</span>' - 1 &lt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>)%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#lt_bpow">lt_bpow</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Bx</span>).<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zabs">Zabs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id">Ex</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#emin">emin</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Truncation </div>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="shr_record">shr_record</a></span> := { <span class="id"><a name="shr_m">shr_m</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> ; <span class="id"><a name="shr_r">shr_r</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> ; <span class="id"><a name="shr_s">shr_s</a></span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> }.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr_1">shr_1</a></span> <span class="id">mrs</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id">m</span> <span class="id">r</span> <span class="id">s</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> <span class="id">r</span> <span class="id">s</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">m</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xI">xI</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xO">xO</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xI">xI</a></span> <span class="id">p</span>) =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span> <span class="id">l</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Build_shr_record">Build_shr_record</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5904')">Proof.</div>
<div class="proofscript" id="proof5904">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">m</span> [|[| |]].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="loc_of_shr_record_of_loc">loc_of_shr_record_of_loc</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5905')">Proof.</div>
<div class="proofscript" id="proof5905">
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">m</span> [|[| |]].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr">shr</a></span> <span class="id">mrs</span> <span class="id">e</span> <span class="id">n</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#n">n</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_pos">iter_pos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">p</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>, (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#n">n</a></span>)%<span class="id">Z</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inbetween_shr_1">inbetween_shr_1</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">mrs</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>)) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> + 1) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mrs">mrs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5906')">Proof.</div>
<div class="proofscript" id="proof5906">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">mrs</span> <span class="id">e</span> <span class="id">Hm</span> <span class="id">Hl</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#new_location_even_correct">new_location_even_correct</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>)) (<span class="id">e</span> + 1))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">e</span>) 2 <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">x</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) <span class="kwd">then</span> 1 <span class="kwd">else</span> 0) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>) <span class="id">_</span> <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>)) ; <span class="tactic">split</span>.<br/>
<span class="id">change</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R">Z2R</a></span> 2) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> 1).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_comm">Zplus_comm</a></span> 1), &lt;- (<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_bpow">F2R_bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id">e</span> + 1)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#new_location_even">new_location_even</a></span> 2 (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) <span class="kwd">then</span> 1%<span class="id">Z</span> <span class="kwd">else</span> 0%<span class="id">Z</span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>)).<br/>
<span class="id">easy</span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hm</span>.<br/>
<span class="tactic">destruct</span> <span class="id">mrs</span> <span class="kwd">as</span> (<span class="id">m</span>, <span class="id">r</span>, <span class="id">s</span>).<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [|[<span class="id">m</span>|<span class="id">m</span>|]|<span class="id">m</span>] ; <span class="tactic">try</span> (<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hm</span>) ; <span class="tactic">destruct</span> <span class="id">r</span> <span class="kwd">as</span> [|] ; <span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [|].<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_change_exp">F2R_change_exp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">e</span>).<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_succ">Zle_succ</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>, &lt;- 2!<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_assoc">Zplus_assoc</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) * 2 ^ (<span class="id">e</span> + 1 - <span class="id">e</span>) + (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_r">shr_r</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">mrs</span>) <span class="kwd">then</span> 1%<span class="id">Z</span> <span class="kwd">else</span> 0%<span class="id">Z</span>))%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> <span class="id">mrs</span>).<br/>
<span class="tactic">exact</span> <span class="id">Hl</span>.<br/>
<span class="id">ring_simplify</span> (<span class="id">e</span> + 1 - <span class="id">e</span>)%<span class="id">Z</span>.<br/>
<span class="id">change</span> (2^1)%<span class="id">Z</span> <span class="kwd">with</span> 2%<span class="id">Z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_comm">Zmult_comm</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hm</span>.<br/>
<span class="tactic">destruct</span> <span class="id">mrs</span> <span class="kwd">as</span> (<span class="id">m</span>, <span class="id">r</span>, <span class="id">s</span>).<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [|[<span class="id">m</span>|<span class="id">m</span>|]|<span class="id">m</span>] ; <span class="tactic">try</span> (<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hm</span>) ; <span class="tactic">destruct</span> <span class="id">r</span> <span class="kwd">as</span> [|] ; <span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [|].<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="inbetween_shr">inbetween_shr</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mrs</span>, <span class="id">e</span>') := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr">shr</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#n">n</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> <span class="id">mrs</span>) <span class="id">e</span>' <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5907')">Proof.</div>
<div class="proofscript" id="proof5907">
<span class="tactic">intros</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">n</span> <span class="id">Hm</span> <span class="id">Hl</span>.<br/>
<span class="tactic">destruct</span> <span class="id">n</span> <span class="kwd">as</span> [|<span class="id">n</span>|<span class="id">n</span>].<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
2: <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr">shr</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_pos_nat">iter_pos_nat</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Zpos_eq_Z_of_nat_o_nat_of_P">Zpos_eq_Z_of_nat_o_nat_of_P</a></span>.<br/>
<span class="tactic">induction</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#nat_of_P">nat_of_P</a></span> <span class="id">n</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_nat_S">iter_nat_S</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#inj_S">inj_S</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.succ">Zsucc</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_assoc">Zplus_assoc</a></span>.<br/>
<span class="id">revert</span> <span class="id">IHn0</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#inbetween_shr_1">inbetween_shr_1</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hm</span>.<br/>
<span class="tactic">induction</span> <span class="id">n0</span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [|[| |]].<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_nat_S">iter_nat_S</a></span>.<br/>
<span class="id">revert</span> <span class="id">IHn0</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#iter_nat">iter_nat</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_1">shr_1</a></span> <span class="id">n0</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span> <span class="id">l</span>)).<br/>
<span class="tactic">clear</span>.<br/>
<span class="tactic">intros</span> (<span class="id">m</span>, <span class="id">r</span>, <span class="id">s</span>) <span class="id">Hm</span>.<br/>
<span class="id">now</span> <span class="tactic">destruct</span> <span class="id">m</span> <span class="kwd">as</span> [|[<span class="id">m</span>|<span class="id">m</span>|]|<span class="id">m</span>] ; <span class="tactic">try</span> (<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hm</span>) ; <span class="tactic">destruct</span> <span class="id">r</span> <span class="kwd">as</span> [|] ; <span class="tactic">destruct</span> <span class="id">s</span> <span class="kwd">as</span> [|].<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shr_fexp">shr_fexp</a></span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr">shr</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>) - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shr_truncate">shr_truncate</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_fexp">shr_fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span> =<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">m</span>', <span class="id">e</span>', <span class="id">l</span>') := <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>) <span class="kwd">in</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span>' <span class="id">l</span>', <span class="id">e</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5908')">Proof.</div>
<div class="proofscript" id="proof5908">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">Hm</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id">m</span>, <span class="id">e</span>, <span class="id">l</span>)).<br/>
<span class="tactic">intros</span> (<span class="id">m</span>', <span class="id">e</span>') <span class="id">l</span>'.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_fexp">shr_fexp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2_Zdigits">Zdigits2_Zdigits</a></span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>) - <span class="id">e</span>)%<span class="id">Z</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">He</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">He</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">assert</span> (<span class="id">He</span>: (<span class="id">e</span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>))%<span class="id">Z</span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hp</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_ex">inbetween_float_ex</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span>) <span class="kwd">as</span> (<span class="id">x</span>, <span class="id">Hx</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#inbetween_shr">inbetween_shr</a></span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>) - <span class="id">e</span>) <span class="id">Hm</span> <span class="id">Hx</span>).<br/>
<span class="tactic">assert</span> (<span class="id">Hx0</span> : (0 &lt;= <span class="id">x</span>)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m</span> <span class="id">e</span>)).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>)).<br/>
<span class="id">case_eq</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr">shr</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_record_of_loc">shr_record_of_loc</a></span> <span class="id">m</span> <span class="id">l</span>) <span class="id">e</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m</span> + <span class="id">e</span>) - <span class="id">e</span>)).<br/>
<span class="tactic">intros</span> <span class="id">mrs</span> <span class="id">e</span>'' <span class="id">H3</span> <span class="id">H4</span> <span class="id">H1</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate_correct">truncate_correct</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">_</span> <span class="id">x</span> <span class="id">m</span> <span class="id">e</span> <span class="id">l</span> <span class="id">Hx0</span> <span class="id">Hx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#or_introl">or_introl</a></span> <span class="id">_</span> <span class="id">He</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
<span class="tactic">intros</span> (<span class="id">H2</span>,<span class="id">_</span>).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>, <span class="id">H3</span>.<br/>
<span class="tactic">assert</span> (<span class="id">e</span>'' = <span class="id">e</span>').<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id">mrs</span>, <span class="id">e</span>'') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id">m</span>',<span class="id">e</span>',<span class="id">l</span>'))).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>, &lt;- <span class="id">H3</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hp</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H4</span> |- *.<br/>
<span class="tactic">apply</span> (<span class="tactic">f_equal</span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#v">v</a></span>, <span class="id">_</span>))).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_unique">inbetween_float_unique</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span> <span class="id">H4</span>) <span class="kwd">as</span> (<span class="id">H5</span>, <span class="id">H6</span>).<br/>
<span class="tactic">rewrite</span> <span class="id">H5</span>, <span class="id">H6</span>.<br/>
<span class="tactic">case</span> <span class="id">mrs</span>.<br/>
<span class="id">now</span> <span class="tactic">intros</span> <span class="id">m0</span> [|] [|].<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hp</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Rounding modes </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="mode">mode</a></span> := <span class="id"><a name="mode_NE">mode_NE</a></span> | <span class="id"><a name="mode_ZR">mode_ZR</a></span> | <span class="id"><a name="mode_DN">mode_DN</a></span> | <span class="id"><a name="mode_UP">mode_UP</a></span> | <span class="id"><a name="mode_NA">mode_NA</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="round_mode">round_mode</a></span> <span class="id">m</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_rnd_ne.html#ZnearestE">ZnearestE</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_ZR">mode_ZR</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Ztrunc">Ztrunc</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zfloor">Zfloor</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_UP">mode_UP</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Zceil">Zceil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NA">mode_NA</a></span> =&gt; <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#ZnearestA">ZnearestA</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="choice_mode">choice_mode</a></span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">lx</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#round_N">round_N</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_ZR">mode_ZR</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#round_sign_DN">round_sign_DN</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_UP">mode_UP</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#round_sign_UP">round_sign_UP</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NA">mode_NA</a></span> =&gt; <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#cond_incr">cond_incr</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#round_N">round_N</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Global</span> <span class="kwd">Instance</span> <span class="id"><a name="valid_rnd_round_mode">valid_rnd_round_mode</a></span> : <span class="kwd">forall</span> <span class="id">m</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#Valid_rnd">Valid_rnd</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5909')">Proof.</div>
<div class="proofscript" id="proof5909">
<span class="tactic">destruct</span> <span class="id">m</span> ; <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> ; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="overflow_to_inf">overflow_to_inf</a></span> <span class="id">m</span> <span class="id">s</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NE">mode_NE</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_NA">mode_NA</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_ZR">mode_ZR</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_UP">mode_UP</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_overflow">binary_overflow</a></span> <span class="id">m</span> <span class="id">s</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#overflow_to_inf">overflow_to_inf</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span> (<span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> 2 <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id">p</span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="kwd">end</span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_round_aux">binary_round_aux</a></span> <span class="id">mode</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mrs</span>', <span class="id">e</span>') := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_fexp">shr_fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mrs</span>'', <span class="id">e</span>'') := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_fexp">shr_fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#choice_mode">choice_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> <span class="id">mrs</span>') (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record">loc_of_shr_record</a></span> <span class="id">mrs</span>')) <span class="id">e</span>' <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m">shr_m</a></span> <span class="id">mrs</span>'' <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id">e</span>'' (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>) <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id">m</span> <span class="id">e</span>'' <span class="kwd">else</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="binary_round_aux_correct">binary_round_aux_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mode</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>))%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> 0) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#lx">lx</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> 0<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5910')">Proof with</div>
<div class="proofscript" id="proof5910">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">x</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">lx</span> <span class="id">Bx</span> <span class="id">Ex</span> <span class="id">z</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="kwd">in</span> <span class="id">z</span>.<br/>
<span class="id">revert</span> <span class="id">z</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_truncate">shr_truncate</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#round_trunc_sign_any_correct">round_trunc_sign_any_correct</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#choice_mode">choice_mode</a></span> <span class="id">m</span>) <span class="id">_</span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> <span class="id">lx</span> <span class="id">Bx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#or_introl">or_introl</a></span> <span class="id">_</span> <span class="id">Ex</span>))).<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate_correct_partial">truncate_correct_partial</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bx</span> <span class="id">Ex</span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>, <span class="id">ex</span>, <span class="id">lx</span>)) <span class="kwd">as</span> ((<span class="id">m1</span>, <span class="id">e1</span>), <span class="id">l1</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#loc_of_shr_record_of_loc">loc_of_shr_record_of_loc</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">set</span> (<span class="id">m1</span>' := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#choice_mode">choice_mode</a></span> <span class="id">m</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0) <span class="id">m1</span> <span class="id">l1</span>).<br/>
<span class="tactic">intros</span> (<span class="id">H1a</span>,<span class="id">H1b</span>) <span class="id">H1c</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1c</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hm</span>: (<span class="id">m1</span> &lt;= <span class="id">m1</span>')%<span class="id">Z</span>).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id">m1</span>', <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#choice_mode">choice_mode</a></span>, <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#cond_incr">cond_incr</a></span>.<br/>
<span class="tactic">case</span> <span class="id">m</span> ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span> ;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- (<span class="id">m1</span> &lt;= <span class="kwd">if</span> ?<span class="id">b</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>)%<span class="id">Z</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">case</span> <span class="id">b</span> ; [ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_succ">Zle_succ</a></span> | <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span> ] <span class="kwd">end</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Hr</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m1</span>' <span class="id">e1</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zabs.html#Zabs_eq">Zabs_eq</a></span> <span class="id">m1</span>').<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zabs">Zabs</a></span> <span class="id">m1</span>') <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zabs">Zabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0) <span class="id">m1</span>')).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_trans">Zle_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Hm</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_succ_le">Zlt_succ_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_reg">F2R_gt_0_reg</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">e1</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span> <span class="id">x</span>).<br/>
<span class="tactic">exact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1a</span>)).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">Br</span>: <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float">inbetween_float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">m1</span>' <span class="id">e1</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>)) <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_Exact">inbetween_Exact</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">m1</span>' <span class="kwd">as</span> [|<span class="id">m1</span>'|<span class="id">m1</span>'].<br/>
<span class="comment">(*&nbsp;.&nbsp;m1'&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_truncate">shr_truncate</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate_0">truncate_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> <span class="id">e1</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span>, <span class="id">e1</span>, <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span>)) <span class="kwd">as</span> ((<span class="id">m2</span>, <span class="id">e2</span>), <span class="id">l2</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Hm2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hm2</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;0&nbsp;&lt;&nbsp;m1'&nbsp;*)</span><br/>
<span class="tactic">assert</span> (<span class="id">He</span>: (<span class="id">e1</span> &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>') + <span class="id">e1</span>))%<span class="id">Z</span>).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span>, &lt;- <span class="id">Hr</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#ln_beta_abs">ln_beta_abs</a></span>.<br/>
2: <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1b</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp_abs">canonic_exp_abs</a></span>.<br/>
<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp">canonic_exp</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id">m</span>) <span class="id">x</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_exp_round_ge">canonic_exp_round_ge</a></span>...<br/>
<span class="tactic">rewrite</span> <span class="id">H1c</span>.<br/>
<span class="tactic">case</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate_correct_partial">truncate_correct_partial</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Br</span> <span class="id">He</span>)).<br/>
2: <span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hr</span> ; <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate_correct_format">truncate_correct_format</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>') <span class="id">e1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">He</span>)).<br/>
2: <span class="tactic">discriminate</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_truncate">shr_truncate</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#truncate">truncate</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m1</span>', <span class="id">e1</span>, <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span>)) <span class="kwd">as</span> ((<span class="id">m2</span>, <span class="id">e2</span>), <span class="id">l2</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shr_m_shr_record_of_loc">shr_m_shr_record_of_loc</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H3</span>,<span class="id">H4</span>) (<span class="id">H2</span>,<span class="id">_</span>).<br/>
<span class="tactic">destruct</span> <span class="id">m2</span> <span class="kwd">as</span> [|<span class="id">m2</span>|<span class="id">m2</span>].<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">H3</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_0">F2R_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>, <span class="id">H3</span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#abs_cond_Ropp">abs_cond_Ropp</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_abs">F2R_abs</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Zabs</span>.<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id">e2</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)) ; <span class="tactic">intros</span> <span class="id">He2</span>.<br/>
<span class="tactic">assert</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id">m2</span> <span class="id">e2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_true_intro">andb_true_intro</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_mantissa">canonic_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">exact</span> <span class="id">He2</span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">H</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
<span class="tactic">rewrite</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>)).<br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> <span class="id">_</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#overflow_to_inf">overflow_to_inf</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool_refl">Zle_bool_refl</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">Bool.andb_true_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeq_bool_true">Zeq_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="kwd">match</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> 2 <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id">p</span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <span class="kwd">end</span>))) <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#emin">emin</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>).<br/>
<span class="id">case_eq</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - 1)%<span class="id">Z</span>.<br/>
<span class="tactic">simpl</span> <span class="id">Zdigits</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zpower_gt_1">Zpower_gt_1</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)).<br/>
<span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_antisym">Zle_antisym</a></span>.<br/>
<span class="tactic">cut</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - 1 &lt; <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>))%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits_gt_Zpower">Zdigits_gt_Zpower</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Zabs</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">cut</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - 1) &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)%<span class="id">Z</span>. <span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#lt_Z2R">lt_Z2R</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_Zpower">Z2R_Zpower</a></span>. 2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_le_weak">Zlt_le_weak</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_lt">bpow_lt</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_pred">Zlt_pred</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_0_le_0_pred">Zlt_0_le_0_pred</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits_le_Zpower">Zdigits_le_Zpower</a></span>.<br/>
<span class="tactic">simpl</span> <span class="id">Zabs</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_pred">Zlt_pred</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">p</span> <span class="id">Hp</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zpower_gt_1">Zpower_gt_1</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>)).<br/>
<span class="tactic">clear</span> -<span class="id">Hp</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rnot_lt_le">Rnot_lt_le</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">Hx</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id">m2</span> <span class="id">e2</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="tactic">at</span> 2.<br/>
<span class="tactic">rewrite</span> <span class="id">He2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">Bool.andb_false_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded_canonic_lt_emax">bounded_canonic_lt_emax</a></span> <span class="kwd">with</span> (2 := <span class="id">Hx</span>).<br/>
<span class="tactic">discriminate</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic">canonic</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>.<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">H3</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rlt_trans">Rlt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hr</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_abs">generic_format_abs</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_round">generic_format_round</a></span>...<br/>
<span class="comment">(*&nbsp;.&nbsp;not&nbsp;m1'&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span> <span class="kwd">with</span> (2 := <span class="id">Hr</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos">Rabs_pos</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (2 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bx</span>)).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;all&nbsp;the&nbsp;modes&nbsp;are&nbsp;valid&nbsp;*)</span><br/>
<span class="tactic">clear</span>. <span class="tactic">case</span> <span class="id">m</span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#inbetween_int_NE_sign">inbetween_int_NE_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#inbetween_int_ZR_sign">inbetween_int_ZR_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#inbetween_int_DN_sign">inbetween_int_DN_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#inbetween_int_UP_sign">inbetween_int_UP_sign</a></span>.<br/>
<span class="tactic">exact</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_round.html#inbetween_int_NA_sign">inbetween_int_NA_sign</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Multiplication </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bmult_correct_aux">Bmult_correct_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id">Hx</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> (<span class="id">Hy</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#my">my</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ey">ey</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#my">my</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ey">ey</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#my">my</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ey">ey</a></span>) <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5911')">Proof.</div>
<div class="proofscript" id="proof5911">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> <span class="id">x</span> <span class="id">y</span>.<br/>
<span class="tactic">unfold</span> <span class="id">x</span>, <span class="id">y</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_mult">F2R_mult</a></span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) * <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) (<span class="id">ex</span> + <span class="id">ey</span>))) 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux_correct">binary_round_aux_correct</a></span>.<br/>
<span class="id">constructor</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_abs">F2R_abs</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_eq_compat">F2R_eq_compat</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zabs.html#Zabs_Zmult">Zabs_Zmult</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id">mx</span> * <span class="id">my</span>)) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)%<span class="id">Z</span>.<br/>
<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">m</span> <span class="id">e</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>)%<span class="id">Z</span>.<br/>
<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">m</span> <span class="id">e</span> <span class="id">Hb</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hb</span>) <span class="kwd">as</span> (<span class="id">H</span>,<span class="id">_</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool_eq">Zeq_bool_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>).<br/>
<span class="tactic">clear</span> <span class="id">x</span> <span class="id">y</span> <span class="id">sx</span> <span class="id">sy</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">H</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits_mult_ge">Zdigits_mult_ge</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">_</span> <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits_gt_0">Zdigits_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">_</span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits_gt_0">Zdigits_gt_0</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#emin">emin</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">dx</span> <span class="id">dy</span> <span class="id">dxy</span> <span class="id">Hx</span> <span class="id">Hy</span> <span class="id">Hxy</span>.<br/>
<span class="id">zify</span> ; <span class="tactic">intros</span> ; <span class="tactic">subst</span>.<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> <span class="id">sx</span> ; <span class="tactic">case</span> <span class="id">sy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bmult">Bmult</a></span> <span class="id">mult_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f</span> <span class="id">pl</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult_correct_aux">Bmult_correct_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bmult_correct">Bmult_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mult_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5912')">Proof.</div>
<div class="proofscript" id="proof5912">
<span class="tactic">intros</span> <span class="id">mult_nan</span> <span class="id">m</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> <span class="id">ply</span>|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> ( <span class="tactic">rewrite</span> ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_r">Rmult_0_r</a></span>, ?<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span> ; [ <span class="id">now</span> <span class="tactic">repeat</span> <span class="id">constructor</span> | <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span> | <span class="id">now</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span> ] ).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult_correct_aux">Bmult_correct_aux</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H2</span>, (<span class="id">H3</span>, <span class="id">H4</span>)).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>. <span class="tactic">auto</span>.<br/>
<span class="tactic">intros</span> <span class="id">H2</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF_FF2B">B2FF_FF2B</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bmult_FF">Bmult_FF</a></span> <span class="id">mult_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f</span> <span class="id">pl</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_infinity">F754_infinity</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_zero">F754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_finite">F754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>) (<span class="id">mx</span> * <span class="id">my</span>) (<span class="id">ex</span> + <span class="id">ey</span>) <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="B2FF_Bmult">B2FF_Bmult</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mult_nan</span> <span class="id">mult_nan_ff</span>,<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan_ff">mult_nan_ff</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = (<span class="kwd">let</span> '(<span class="id">sr</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#exist">exist</a></span> <span class="id">plr</span> <span class="id">_</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="kwd">in</span> (<span class="id">sr</span>, <span class="id">plr</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult">Bmult</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan">mult_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult_FF">Bmult_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mult_nan_ff">mult_nan_ff</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5913')">Proof.</div>
<div class="proofscript" id="proof5913">
<span class="tactic">intros</span> <span class="id">mult_nan</span> <span class="id">mult_nan_ff</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Hmult_nan</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bmult_FF">Bmult_FF</a></span>. <span class="tactic">rewrite</span> <span class="id">Hmult_nan</span>.<br/>
<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> [<span class="id">plx</span> <span class="id">Hplx</span>]|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>], <span class="id">y</span> <span class="kwd">as</span> [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> [<span class="id">ply</span> <span class="id">Hply</span>]|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] ;<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span> [<span class="id">mult_nan</span> ?<span class="id">x</span> ?<span class="id">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">mult_nan</span> <span class="id">x</span> <span class="id">y</span>) <span class="kwd">as</span> [? []] <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF_FF2B">B2FF_FF2B</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Normalization and rounding </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> (<span class="id">ex</span>' - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)%<span class="id">Z</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">d</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos">shift_pos</a></span> <span class="id">d</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>, <span class="id">ex</span>')<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shl_align_correct">shl_align_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>',<br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">mx</span>', <span class="id">ex</span>'') := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id">ex</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>') <span class="id">ex</span>'') /\<br/>
&nbsp;&nbsp;(<span class="id">ex</span>'' &lt;= <span class="id">ex</span>')%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5914')">Proof.</div>
<div class="proofscript" id="proof5914">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>'.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span>.<br/>
<span class="id">case_eq</span> (<span class="id">ex</span>' - <span class="id">ex</span>)%<span class="id">Z</span>.<br/>
<span class="comment">(*&nbsp;d&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zminus_eq">Zminus_eq</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>.<br/>
<span class="comment">(*&nbsp;d&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">d</span> <span class="id">Hd</span>.<br/>
<span class="tactic">repeat</span> <span class="tactic">split</span>.<br/>
<span class="tactic">replace</span> <span class="id">ex</span>' <span class="kwd">with</span> (<span class="id">ex</span>' - <span class="id">ex</span> + <span class="id">ex</span>)%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hd</span>.<br/>
<span class="tactic">pattern</span> <span class="id">ex</span> <span class="tactic">at</span> 1 ; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_l">Zplus_0_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zplus_le_compat_r">Zplus_le_compat_r</a></span>.<br/>
<span class="comment">(*&nbsp;d&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">intros</span> <span class="id">d</span> <span class="id">Hd</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpower.html#shift_pos_correct">shift_pos_correct</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmult_comm">Zmult_comm</a></span>.<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower_pos">Zpower_pos</a></span> 2 <span class="id">d</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zpow_def.html#Zpower">Zpower</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">d</span>)).<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">d</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zopp">Zopp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">d</span>)).<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hd</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">replace</span> (- (<span class="id">ex</span>' - <span class="id">ex</span>))%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id">ex</span> - <span class="id">ex</span>')%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_change_exp">F2R_change_exp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_0_minus_le">Zle_0_minus_le</a></span>.<br/>
<span class="tactic">replace</span> (<span class="id">ex</span> - <span class="id">ex</span>')%<span class="id">Z</span> <span class="kwd">with</span> (- (<span class="id">ex</span>' - <span class="id">ex</span>))%<span class="id">Z</span> <span class="tactic">by</span> <span class="tactic">ring</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id">Hd</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="snd_shl_align">snd_shl_align</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>',<br/>
&nbsp;&nbsp;(<span class="id">ex</span>' &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)%<span class="id">Z</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id">ex</span>') = <span class="id">ex</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5915')">Proof.</div>
<div class="proofscript" id="proof5915">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ex</span>' <span class="id">He</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span>.<br/>
<span class="id">case_eq</span> (<span class="id">ex</span>' - <span class="id">ex</span>)%<span class="id">Z</span> ; <span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zminus_eq">Zminus_eq</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="tactic">intros</span> <span class="id">p</span>.<br/>
<span class="tactic">clear</span> -<span class="id">He</span> ; <span class="id">zify</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shl_align_fexp">shl_align_fexp</a></span> <span class="id">mx</span> <span class="id">ex</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">digits2_pos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="shl_align_fexp_correct">shl_align_fexp_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">mx</span>', <span class="id">ex</span>') := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_fexp">shl_align_fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>') <span class="id">ex</span>') /\<br/>
&nbsp;&nbsp;(<span class="id">ex</span>' &lt;= <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>') + <span class="id">ex</span>'))%<span class="id">Z</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5916')">Proof.</div>
<div class="proofscript" id="proof5916">
<span class="tactic">intros</span> <span class="id">mx</span> <span class="id">ex</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_fexp">shl_align_fexp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_correct">shl_align_correct</a></span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#digits2_pos">digits2_pos</a></span> <span class="id">mx</span>) + <span class="id">ex</span>))).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zpos_digits2_pos">Zpos_digits2_pos</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">mx</span>' <span class="id">ex</span>' (<span class="id">H1</span>, <span class="id">H2</span>).<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">exact</span> <span class="id">H1</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span>. 2: <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_digits.html#ln_beta_F2R_Zdigits">ln_beta_F2R_Zdigits</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_round">binary_round</a></span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mz</span>, <span class="id">ez</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_fexp">shl_align_fexp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="kwd">in</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id">mz</span> <span class="id">ez</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="binary_round_correct">binary_round_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round">binary_round</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5917')">Proof.</div>
<div class="proofscript" id="proof5917">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round">binary_round</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_fexp_correct">shl_align_fexp_correct</a></span> <span class="id">mx</span> <span class="id">ex</span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_fexp">shl_align_fexp</a></span> <span class="id">mx</span> <span class="id">ex</span>) <span class="kwd">as</span> (<span class="id">mz</span>, <span class="id">ez</span>).<br/>
<span class="tactic">intros</span> (<span class="id">H1</span>, <span class="id">H2</span>).<br/>
<span class="tactic">set</span> (<span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>)).<br/>
<span class="tactic">replace</span> <span class="id">sx</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> <span class="id">x</span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux_correct">binary_round_aux_correct</a></span>.<br/>
<span class="id">constructor</span>.<br/>
<span class="tactic">unfold</span> <span class="id">x</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="tactic">exact</span> <span class="id">H2</span>.<br/>
<span class="tactic">unfold</span> <span class="id">x</span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_normalize">binary_normalize</a></span> <span class="id">mode</span> <span class="id">m</span> <span class="id">e</span> <span class="id">szero</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#szero">szero</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_correct">binary_round_correct</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">m</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_correct">binary_round_correct</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode">mode</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="binary_normalize_correct">binary_normalize_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">szero</span>,<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#szero">szero</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#szero">szero</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#szero">szero</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#szero">szero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#szero">szero</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>)) 0).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5918')">Proof with</div>
<div class="proofscript" id="proof5918">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ez</span> <span class="id">szero</span>.<br/>
<span class="tactic">destruct</span> <span class="id">mx</span> <span class="kwd">as</span> [|<span class="id">mz</span>|<span class="id">mz</span>] ; <span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_0">F2R_0</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">split</span>... <span class="tactic">split</span>...<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Eq">Rcompare_Eq</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_correct">binary_round_correct</a></span> <span class="id">m</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mz</span> <span class="id">ez</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span> (<span class="id">Vz</span>, (<span class="id">Rz</span>, (<span class="id">Rz</span>', <span class="id">Rz</span>''))).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>, <span class="id">Rz</span>''.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Gt">Rcompare_Gt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">simpl</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hz</span>' (<span class="id">Vz</span>, <span class="id">Rz</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF_FF2B">B2FF_FF2B</a></span>, <span class="id">Rz</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_correct">binary_round_correct</a></span> <span class="id">m</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">mz</span> <span class="id">ez</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span> (<span class="id">Vz</span>, (<span class="id">Rz</span>, (<span class="id">Rz</span>', <span class="id">Rz</span>''))).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>, <span class="id">Rz</span>''.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Lt">Rcompare_Lt</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">simpl</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hz</span>' (<span class="id">Vz</span>, <span class="id">Rz</span>).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF_FF2B">B2FF_FF2B</a></span>, <span class="id">Rz</span>.<br/>
<span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Addition </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bplus">Bplus</a></span> <span class="id">plus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f</span> <span class="id">pl</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id">sx</span> <span class="id">sy</span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#eqb">Bool.eqb</a></span> <span class="id">sx</span> <span class="id">sy</span> <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">ez</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmin">Zmin</a></span> <span class="id">ex</span> <span class="id">ey</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_normalize">binary_normalize</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus">Zplus</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ez">ez</a></span>)))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ez">ez</a></span>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ez">ez</a></span> (<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bplus_correct">Bplus_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">plus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) <span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#plus_nan">plus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5919')">Proof with</div>
<div class="proofscript" id="proof5919">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">plus_nan</span> <span class="id">m</span> [<span class="id">sx</span>|<span class="id">sx</span>| |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] [<span class="id">sy</span>|<span class="id">sy</span>| |<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] <span class="id">Fx</span> <span class="id">Fy</span> ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Eq">Rcompare_Eq</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
<span class="tactic">destruct</span> <span class="id">sx</span>, <span class="id">sy</span>; <span class="tactic">try</span> <span class="id">easy</span>; <span class="id">now</span> <span class="tactic">case</span> <span class="id">m</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">split</span>... <span class="tactic">split</span>...<br/>
<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>.<br/>
<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Z2R">Rcompare_Z2R</a></span> <span class="kwd">with</span> (<span class="id">y</span>:=0%<span class="id">Z</span>).<br/>
<span class="tactic">destruct</span> <span class="id">sy</span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_generic">round_generic</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>...<br/>
<span class="tactic">split</span>... <span class="tactic">split</span>...<br/>
<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>.<br/>
<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_mult_r">Rcompare_mult_r</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_Z2R">Rcompare_Z2R</a></span> <span class="kwd">with</span> (<span class="id">y</span>:=0%<span class="id">Z</span>).<br/>
<span class="tactic">destruct</span> <span class="id">sx</span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#abs_B2R_lt_emax">abs_B2R_lt_emax</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#generic_format_B2R">generic_format_B2R</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">clear</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">set</span> (<span class="id">szero</span> := <span class="kwd">match</span> <span class="id">m</span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span>).<br/>
<span class="tactic">set</span> (<span class="id">ez</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmin">Zmin</a></span> <span class="id">ex</span> <span class="id">ey</span>).<br/>
<span class="tactic">set</span> (<span class="id">mz</span> := (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span>))) + <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span>))))%<span class="id">Z</span>).<br/>
<span class="tactic">assert</span> (<span class="id">Hp</span>: (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>) +<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>))%<span class="id">R</span> = <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">mz</span> <span class="id">ez</span>)).<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_correct">shl_align_correct</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align_correct">shl_align_correct</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#snd_shl_align">snd_shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zmin.html#Zle_min_l">Zle_min_l</a></span> <span class="id">ex</span> <span class="id">ey</span>)).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#snd_shl_align">snd_shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zmin.html#Zle_min_r">Zle_min_r</a></span> <span class="id">ex</span> <span class="id">ey</span>)).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">ez</span>) <span class="kwd">as</span> (<span class="id">mx</span>', <span class="id">ex</span>').<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#shl_align">shl_align</a></span> <span class="id">my</span> <span class="id">ey</span> <span class="id">ez</span>) <span class="kwd">as</span> (<span class="id">my</span>', <span class="id">ey</span>').<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H2</span>.<br/>
<span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="tactic">intros</span> (<span class="id">H1</span>, <span class="id">_</span>) (<span class="id">H2</span>, <span class="id">_</span>).<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H2</span>.<br/>
<span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
<span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_cond_Zopp">F2R_cond_Zopp</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span>. <span class="tactic">simpl</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_plus_distr_r">Rmult_plus_distr_r</a></span>, &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_plus">Z2R_plus</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Hp</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Sz</span>: (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span> &lt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">mz</span> <span class="id">ez</span>))))%<span class="id">R</span> -&gt; <span class="id">sx</span> = <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id">mz</span> <span class="id">ez</span>)) 0 /\ <span class="id">sx</span> = <span class="id">sy</span>).<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> &lt;- <span class="id">Hp</span>.<br/>
<span class="tactic">intros</span> <span class="id">Bz</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#bool_dec">Bool.bool_dec</a></span> <span class="id">sx</span> <span class="id">sy</span>) <span class="kwd">as</span> [<span class="id">Hs</span>|<span class="id">Hs</span>].<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> <span class="id">Hs</span>).<br/>
<span class="tactic">rewrite</span> <span class="id">Hs</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_lt_compat">Rplus_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat">Rplus_le_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_not_lt">Rle_not_lt</a></span> <span class="kwd">with</span> (1 := <span class="id">Bz</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded_lt_emax">bounded_lt_emax</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded_lt_emax">bounded_lt_emax</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>).<br/>
<span class="tactic">intros</span> <span class="id">Bx</span> <span class="id">By</span> (<span class="id">Hx</span>',<span class="id">_</span>) (<span class="id">Hy</span>',<span class="id">_</span>).<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>') (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hy</span>').<br/>
<span class="tactic">clear</span> -<span class="id">Bx</span> <span class="id">By</span> <span class="id">Hs</span> <span class="id">prec_gt_0_</span>.<br/>
<span class="tactic">intros</span> <span class="id">Cx</span> <span class="id">Cy</span>.<br/>
<span class="tactic">destruct</span> <span class="id">sx</span>.<br/>
<span class="comment">(*&nbsp;...&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">sy</span>.<br/>
<span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hs</span>.<br/>
<span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rabs_lt">Rabs_lt</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">pattern</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>)) <span class="tactic">at</span> 1 ; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">By</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span>))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_r">Rplus_le_compat_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_le_0_compat">F2R_le_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;...&nbsp;*)</span><br/>
<span class="tactic">destruct</span> <span class="id">sy</span>.<br/>
2: <span class="id">now</span> <span class="tactic">elim</span> <span class="id">Hs</span>.<br/>
<span class="tactic">clear</span> <span class="id">Hs</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rabs_lt">Rabs_lt</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">pattern</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>)) <span class="tactic">at</span> 1 ; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_0_l">Rplus_0_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_r">Rplus_le_compat_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_lt_trans">Rle_lt_trans</a></span> <span class="kwd">with</span> (2 := <span class="id">Bx</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_le_generic">round_le_generic</a></span>...<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_0_r">Rplus_0_r</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_le_0_compat">F2R_le_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;*)</span><br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_normalize_correct">binary_normalize_correct</a></span> <span class="id">m</span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">szero</span>).<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_spec">Rlt_bool_spec</a></span>.<br/>
<span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">easy</span>. <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare_spec">Rcompare_spec</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id">beta</span>:=<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>) {| <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Fnum</a></span> := <span class="id">mz</span>; <span class="id">Fexp</span> := <span class="id">ez</span> |}) 0); <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_opp_r_uniq">Rplus_opp_r_uniq</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">eapply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#canonic_unicity">canonic_unicity</a></span> <span class="kwd">in</span> <span class="id">Hp</span>.<br/>
<span class="tactic">inversion</span> <span class="id">Hp</span>. <span class="tactic">destruct</span> <span class="id">sy</span>, <span class="id">sx</span>, <span class="id">m</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="id">H3</span>; <span class="id">easy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hy</span>. <span class="id">easy</span>.<br/>
<span class="tactic">replace</span> (-<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>))%<span class="id">Z</span> <span class="kwd">with</span>  (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id">sx</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>))<br/>
&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">sx</span>; <span class="tactic">auto</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">Bool.andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Hx</span>. <span class="id">easy</span>.<br/>
<span class="tactic">intros</span> <span class="id">Hz</span>' <span class="id">Vz</span>.<br/>
<span class="id">specialize</span> (<span class="id">Sz</span> <span class="id">Hz</span>').<br/>
<span class="tactic">split</span>.<br/>
<span class="tactic">rewrite</span> <span class="id">Vz</span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
<span class="tactic">apply</span> <span class="id">Sz</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Subtraction </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bminus">Bminus</a></span> <span class="id">minus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus">Bplus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#pair">pair</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bminus_correct">Bminus_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">minus_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rcompare">Rcompare</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) 0 <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Eq">Eq</a></span> =&gt; <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mode_DN">mode_DN</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)) <span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bminus">Bminus</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#minus_nan">minus_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5920')">Proof with</div>
<div class="proofscript" id="proof5920">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">minus_nan</span> <span class="id">x</span> <span class="id">y</span> <span class="id">Fx</span> <span class="id">Fy</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id">y</span>)) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bopp">Bopp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#pair">pair</a></span> <span class="id">y</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rminus">Rminus</a></span>.<br/>
<span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_Bopp">B2R_Bopp</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bplus_correct">Bplus_correct</a></span>.<br/>
<span class="tactic">exact</span> <span class="id">Fx</span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_Bopp">is_finite_Bopp</a></span>. <span class="tactic">auto</span>. <span class="id">now</span> <span class="tactic">destruct</span> <span class="id">y</span> <span class="kwd">as</span> [ | | | ].<br/>
Qed.</div>
<br/>
<div class="doc">Division </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Fdiv_core_binary">Fdiv_core_binary</a></span> <span class="id">m1</span> <span class="id">e1</span> <span class="id">m2</span> <span class="id">e2</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">d1</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m1">m1</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">d2</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m2">m2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e</span> := (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e1">e1</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e2">e2</a></span>)%<span class="id">Z</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">m</span>, <span class="id">e</span>') :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#d2">d2</a></span> + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#d1">d1</a></span>)%<span class="id">Z</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m1">m1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>), <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> + <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">p</span>)%<span class="id">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m1">m1</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">q</span>, <span class="id">r</span>) :=  <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zfast_div_eucl">Zfast_div_eucl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m2">m2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;(<span class="id">q</span>, <span class="id">e</span>', <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#new_location">new_location</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m2">m2</a></span> <span class="id">r</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bdiv_correct_aux">Bdiv_correct_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#my">my</a></span>)) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ey">ey</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mz</span>, <span class="id">ez</span>, <span class="id">lz</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Fdiv_core_binary">Fdiv_core_binary</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#my">my</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ey">ey</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">mz</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span>) <span class="id">mz</span> <span class="id">ez</span> <span class="id">lz</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sx">sx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sy">sy</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5921')">Proof.</div>
<div class="proofscript" id="proof5921">
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Fdiv_core_binary">Fdiv_core_binary</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_div.html#Fdiv_core">Fdiv_core</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span>).<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_div.html#Fdiv_core_correct">Fdiv_core_correct</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_div.html#Fdiv_core">Fdiv_core</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>) <span class="id">ey</span>) <span class="kwd">as</span> ((<span class="id">mz</span>, <span class="id">ez</span>), <span class="id">lz</span>).<br/>
<span class="tactic">intros</span> (<span class="id">Pz</span>, <span class="id">Bz</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sx</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>)) <span class="id">ex</span>) *<br/>
&nbsp;&nbsp;/ <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#cond_Zopp">cond_Zopp</a></span> <span class="id">sy</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)) <span class="id">ey</span>)) 0).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>.<br/>
<span class="tactic">destruct</span> <span class="id">mz</span> <span class="kwd">as</span> [|<span class="id">mz</span>|<span class="id">mz</span>].<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_irrefl">Zlt_irrefl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_trans">Zle_lt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux_correct">binary_round_aux_correct</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_mult">Rabs_mult</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_Rinv">Rabs_Rinv</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> &lt;- 2!<span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zabs">F2R_Zabs</a></span>, 2!<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#abs_cond_Zopp">abs_cond_Zopp</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sy</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_eq">Rlt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="id">revert</span> <span class="id">Pz</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">clear</span>.<br/>
<span class="tactic">intros</span> ; <span class="id">zify</span> ; <span class="tactic">subst</span>.<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span> <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bz</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_le_0_compat">F2R_le_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">mz</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">case</span> <span class="id">sy</span> ; <span class="tactic">simpl</span>.<br/>
<span class="id">change</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zneg">Zneg</a></span> <span class="id">my</span>) <span class="kwd">with</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zopp">Zopp</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">my</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_inv_permute">Ropp_inv_permute</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_r_reverse">Ropp_mult_distr_r_reverse</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span> ; <span class="tactic">simpl</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Calc.Fcalc_ops.html#F2R_opp">F2R_opp</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rgt_not_eq">Rgt_not_eq</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_Zopp">F2R_Zopp</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_mult_distr_l_reverse">Ropp_mult_distr_l_reverse</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_0">Ropp_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Ropp_lt_contravar">Ropp_lt_contravar</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_lt_0_compat">Rmult_lt_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rinv_0_lt_compat">Rinv_0_lt_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Fdiv_core_binary">Fdiv_core_binary</a></span>, <span class="id"><a href="compcert.flocq.Calc.Fcalc_div.html#Fdiv_core">Fdiv_core</a></span>.<br/>
<span class="tactic">rewrite</span> 2!<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2_Zdigits">Zdigits2_Zdigits</a></span>.<br/>
<span class="id">change</span> 2%<span class="id">Z</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix_val">radix_val</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span>).<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">my</span>) + <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.pos">Z.pos</a></span> <span class="id">mx</span>))%<span class="id">Z</span> <span class="kwd">as</span> [|<span class="id">p</span>|<span class="id">p</span>].<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zfast_div_eucl_correct">Zfast_div_eucl_correct</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_mul_pow2">Z.shiftl_mul_pow2</a></span> <span class="tactic">by</span> <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zfast_div_eucl_correct">Zfast_div_eucl_correct</a></span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zfast_div_eucl_correct">Zfast_div_eucl_correct</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bdiv">Bdiv</a></span> <span class="id">div_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f</span> <span class="id">pl</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> | <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> <span class="id">sx</span> <span class="id">sy</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sx</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">sy</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">_</span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv_correct_aux">Bdiv_correct_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bdiv_correct">Bdiv_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">div_nan</span> <span class="id">m</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span> &lt;&gt; 0%<span class="id">R</span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))) (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emax">emax</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> / <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF">B2FF</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv">Bdiv</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#div_nan">div_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_overflow">binary_overflow</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#xorb">xorb</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5922')">Proof.</div>
<div class="proofscript" id="proof5922">
<span class="tactic">intros</span> <span class="id">div_nan</span> <span class="id">m</span> <span class="id">x</span> [<span class="id">sy</span>|<span class="id">sy</span>|<span class="id">sy</span> <span class="id">ply</span>|<span class="id">sy</span> <span class="id">my</span> <span class="id">ey</span> <span class="id">Hy</span>] <span class="id">Zy</span> ; <span class="tactic">try</span> <span class="id">now</span> <span class="tactic">elim</span> <span class="id">Zy</span>.<br/>
<span class="id">revert</span> <span class="id">x</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>.<br/>
<span class="tactic">intros</span> [<span class="id">sx</span>|<span class="id">sx</span>|<span class="id">sx</span> <span class="id">plx</span>|<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> ( <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_0_l">Rmult_0_l</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_R0">Rabs_R0</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span> ; [ <span class="id">now</span> <span class="tactic">repeat</span> <span class="id">constructor</span> | <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span> | <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span> ] ).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bdiv_correct_aux">Bdiv_correct_aux</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#Rdiv">Rdiv</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool">Rlt_bool</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">H2</span>, (<span class="id">H3</span>, <span class="id">H4</span>)).<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>. <span class="tactic">congruence</span>.<br/>
<span class="tactic">intros</span> <span class="id">H2</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2FF_FF2B">B2FF_FF2B</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Square root </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Fsqrt_core_binary">Fsqrt_core_binary</a></span> <span class="id">m</span> <span class="id">e</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">d</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2">Zdigits2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">s</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zmax">Zmax</a></span> (2 * <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#d">d</a></span>) 0 <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e</span>' := (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#e">e</a></span> - <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span>)%<span class="id">Z</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">s</span>', <span class="id">e</span>'') := <span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> <span class="id">e</span>' <span class="kwd">then</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span>, <span class="id">e</span>') <span class="kwd">else</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#s">s</a></span> + 1, <span class="id">e</span>' - 1)%<span class="id">Z</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">m</span>' :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">s</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl">Z.shiftl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">q</span>, <span class="id">r</span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sqrtrem">Z.sqrtrem</a></span> <span class="id">m</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zeq_bool">Zeq_bool</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#r">r</a></span> 0 <span class="kwd">then</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Exact">loc_Exact</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#loc_Inexact">loc_Inexact</a></span> (<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zbool.html#Zle_bool">Zle_bool</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#r">r</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#q">q</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Lt">Lt</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Gt">Gt</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#q">q</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zeven.html#Zdiv2">Zdiv2</a></span> <span class="id">e</span>'', <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#l">l</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Bsqrt_correct_aux">Bsqrt_correct_aux</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ex</span> (<span class="id">Hx</span> : <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded">bounded</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">z</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> '(<span class="id">mz</span>, <span class="id">ez</span>, <span class="id">lz</span>) := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Fsqrt_core_binary">Fsqrt_core_binary</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#mx">mx</a></span>) <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#ex">ex</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">mz</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux">binary_round_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">mz</span> <span class="id">ez</span> <span class="id">lz</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#F754_nan">F754_nan</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#xH">xH</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#valid_binary">valid_binary</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2R">FF2R</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF">is_finite_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sign_FF">sign_FF</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#z">z</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5923')">Proof with</div>
<div class="proofscript" id="proof5923">
 <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">m</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>.<br/>
<span class="tactic">replace</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Fsqrt_core_binary">Fsqrt_core_binary</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>) <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_sqrt.html#Fsqrt_core">Fsqrt_core</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_sqrt.html#Fsqrt_core_correct">Fsqrt_core_correct</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span> <span class="id">_</span>)) ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="tactic">destruct</span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_sqrt.html#Fsqrt_core">Fsqrt_core</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>) <span class="kwd">as</span> ((<span class="id">mz</span>, <span class="id">ez</span>), <span class="id">lz</span>).<br/>
<span class="tactic">intros</span> (<span class="id">Pz</span>, <span class="id">Bz</span>).<br/>
<span class="tactic">destruct</span> <span class="id">mz</span> <span class="kwd">as</span> [|<span class="id">mz</span>|<span class="id">mz</span>].<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;=&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zlt_irrefl">Zlt_irrefl</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_lt_trans">Zle_lt_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z0">Z0</a></span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&gt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#binary_round_aux_correct">binary_round_aux_correct</a></span> <span class="id">m</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="id">mz</span> <span class="id">ez</span> <span class="id">lz</span> <span class="id">_</span> <span class="id">_</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_false">Rlt_bool_false</a></span>. 2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rlt_bool_true">Rlt_bool_true</a></span>.<br/>
<span class="id">easy</span>.<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
<span class="tactic">refine</span> (<span class="id">_</span> (<span class="id"><a href="compcert.flocq.Prop.Fprop_relative.html#relative_error_FLT_ex">relative_error_FLT_ex</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emin">emin</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>) (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id">m</span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#F2R">F2R</a></span> (<span class="id"><a href="compcert.flocq.Core.Fcore_defs.html#Float">Float</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mx</span>) <span class="id">ex</span>))) <span class="id">_</span>)).<br/>
<span class="id">fold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span>.<br/>
<span class="tactic">intros</span> (<span class="id">eps</span>, (<span class="id">Heps</span>, <span class="id">Hr</span>)).<br/>
<span class="tactic">rewrite</span> <span class="id">Hr</span>.<br/>
<span class="tactic">assert</span> (<span class="id">Heps</span>': (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs">Rabs</a></span> <span class="id">eps</span> &lt; 1)%<span class="id">R</span>).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> (1 := <span class="id">Heps</span>).<br/>
<span class="id">fold</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> 0).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_incrst_0">Rsqr_incrst_0</a></span>.<br/>
3: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_mult">Rsqr_mult</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#Rsqr_sqrt">Rsqr_sqrt</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rsqr">Rsqr</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_ge_0_gt_0_lt_compat">Rmult_ge_0_gt_0_lt_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_ge">Rle_ge</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_0_sqr">Rle_0_sqr</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_gt_0">bpow_gt_0</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#bounded_lt_emax">bounded_lt_emax</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le_trans">Rlt_le_trans</a></span> <span class="kwd">with</span> 4%<span class="id">R</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_incrst_1">Rsqr_incrst_1</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_lt_compat_l">Rplus_lt_compat_l</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rabs_lt_inv">Rabs_lt_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heps</span>').<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_opp_r">Rplus_opp_r</a></span> 1).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rabs_lt_inv">Rabs_lt_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heps</span>').<br/>
<span class="id">now</span> <span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Z2R_le">Z2R_le</a></span> 0 2).<br/>
<span class="id">change</span> 4%<span class="id">R</span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> 2).<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_FLX.html#prec_gt_0">prec_gt_0</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.prec">prec</a></span>).<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rmult_le_pos">Rmult_le_pos</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Raxioms.html#Rplus_opp_r">Rplus_opp_r</a></span> 1).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rplus_le_compat_l">Rplus_le_compat_l</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_le">Rlt_le</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#Rabs_lt_inv">Rabs_lt_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heps</span>').<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqr.html#Rsqr_incr_0">Rsqr_incr_0</a></span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_ge_0">bpow_ge_0</a></span>.<br/>
2: <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#Rsqr_sqrt">Rsqr_sqrt</a></span>.<br/>
2: <span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_ge_0_compat">F2R_ge_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow">bpow</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.emin">emin</a></span>).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rsqr">Rsqr</a></span>.<br/>
<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_plus">bpow_plus</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#bpow_le">bpow_le</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#emin">emin</a></span>.<br/>
<span class="tactic">clear</span> -<span class="id">Hmax</span> ; <span class="tactic">omega</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_ge_bpow">generic_format_ge_bpow</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span>.<br/>
<span class="tactic">intros</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zmax.html#Zle_max_r">Zle_max_r</a></span>.<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_gt_0_compat">F2R_gt_0_compat</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_canonic">generic_format_canonic</a></span>.<br/>
<span class="tactic">apply</span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#canonic_canonic_mantissa">canonic_canonic_mantissa</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<span class="tactic">apply</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span>).<br/>
<span class="comment">(*&nbsp;..&nbsp;*)</span><br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_ge_generic">round_ge_generic</a></span>...<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#generic_format_0">generic_format_0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rabs_pos_eq">Rabs_pos_eq</a></span>.<br/>
<span class="tactic">exact</span> <span class="id">Bz</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="id">revert</span> <span class="id">Pz</span>.<br/>
<span class="tactic">generalize</span> (<span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits">Zdigits</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Zpos">Zpos</a></span> <span class="id">mz</span>)).<br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#fexp">fexp</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_FLT.html#FLT_exp">FLT_exp</a></span>.<br/>
<span class="tactic">clear</span>.<br/>
<span class="tactic">intros</span> ; <span class="id">zify</span> ; <span class="tactic">subst</span>.<br/>
<span class="tactic">omega</span>.<br/>
<span class="comment">(*&nbsp;.&nbsp;mz&nbsp;&lt;&nbsp;0&nbsp;*)</span><br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rlt_not_le">Rlt_not_le</a></span>  <span class="kwd">with</span> (1 := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> (<span class="id"><a href="compcert.flocq.Calc.Fcalc_bracket.html#inbetween_float_bounds">inbetween_float_bounds</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Bz</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rle_trans">Rle_trans</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rdefinitions.html#R0">R0</a></span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_le_0_compat">F2R_le_0_compat</a></span>.<br/>
<span class="id">now</span> <span class="tactic">case</span> <span class="id">mz</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Raux.html#sqrt_ge_0">sqrt_ge_0</a></span>.<br/>
<span class="comment">(*&nbsp;*)</span><br/>
<span class="tactic">unfold</span> <span class="id"><a href="compcert.flocq.Calc.Fcalc_sqrt.html#Fsqrt_core">Fsqrt_core</a></span>, <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Fsqrt_core_binary">Fsqrt_core_binary</a></span>.<br/>
<span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Core.Fcore_digits.html#Zdigits2_Zdigits">Zdigits2_Zdigits</a></span>.<br/>
<span class="tactic">destruct</span> (<span class="kwd">if</span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#Zeven">Zeven</a></span> <span class="id">_</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>) <span class="kwd">as</span> [[|<span class="id">s</span>'|<span class="id">s</span>'] <span class="id">e</span>''] ; <span class="tactic">try</span> <span class="id">easy</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.shiftl_mul_pow2">Z.shiftl_mul_pow2</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Bsqrt">Bsqrt</a></span> <span class="id">sqrt_nan</span> <span class="id">m</span> <span class="id">x</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">f</span> <span class="id">pl</span> := <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#pl">pl</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_nan">B754_nan</a></span> <span class="id">sx</span> <span class="id">plx</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_infinity">B754_infinity</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#f">f</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#FF2B">FF2B</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsqrt_correct_aux">Bsqrt_correct_aux</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="Bsqrt_correct">Bsqrt_correct</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sqrt_nan</span> <span class="id">m</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round">round</a></span> <span class="id"><a href="compcert.flocq.Core.Fcore_Zaux.html#radix2">radix2</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary.fexp">fexp</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#round_mode">round_mode</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R">B2R</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>)) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite">is_finite</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="kwd">match</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span> <span class="kwd">with</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_zero">B754_zero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B754_finite">B754_finite</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="kwd">end</span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_nan">is_nan</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> (<span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsqrt">Bsqrt</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#sqrt_nan">sqrt_nan</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#m">m</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>) = <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign">Bsign</a></span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5924')">Proof.</div>
<div class="proofscript" id="proof5924">
<span class="tactic">intros</span> <span class="id">sqrt_nan</span> <span class="id">m</span> [<span class="id">sx</span>|[|]| |<span class="id">sx</span> <span class="id">mx</span> <span class="id">ex</span> <span class="id">Hx</span>] ; <span class="tactic">try</span> ( <span class="id">now</span> <span class="tactic">simpl</span> ; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt_0">sqrt_0</a></span>, <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span> ; <span class="tactic">intuition</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span> ).<br/>
<span class="tactic">simpl</span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsqrt_correct_aux">Bsqrt_correct_aux</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">H1</span> (<span class="id">H2</span>, (<span class="id">H3</span>, <span class="id">H4</span>)).<br/>
<span class="tactic">case</span> <span class="id">sx</span>.<br/>
<span class="tactic">refine</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> <span class="id">_</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#conj">conj</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#refl_equal">refl_equal</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="id">_</span>)).<br/>
<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#sym_eq">sym_eq</a></span>.<br/>
<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.R_sqrt.html#sqrt">sqrt</a></span>.<br/>
<span class="tactic">case</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.Rbasic_fun.html#Rcase_abs">Rcase_abs</a></span>.<br/>
<span class="tactic">intros</span> <span class="id">_</span>.<br/>
<span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_generic_fmt.html#round_0">round_0</a></span>.<br/>
<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">typeclass_instances</span>.<br/>
<span class="tactic">intros</span> <span class="id">H</span>.<br/>
<span class="tactic">elim</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Reals.RIneq.html#Rge_not_lt">Rge_not_lt</a></span> <span class="kwd">with</span> (1 := <span class="id">H</span>).<br/>
<span class="id">now</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.flocq.Core.Fcore_float_prop.html#F2R_lt_0_compat">F2R_lt_0_compat</a></span>.<br/>
<span class="id">easy</span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#B2R_FF2B">B2R_FF2B</a></span>.<br/>
<span class="tactic">split</span>.<br/>
<span class="id">now</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#is_finite_FF2B">is_finite_FF2B</a></span>.<br/>
<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Bsign_FF2B">Bsign_FF2B</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.flocq.Appli.Fappli_IEEE.html#Binary">Binary</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
