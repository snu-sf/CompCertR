
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module AsmgenproofC</title>
<meta name="description" content="Documentation of Coq module AsmgenproofC" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module AsmgenproofC</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html">CoqlibC</a></span> <span class="id"><a href="compcert.common.Errors.html">Errors</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span> <span class="id"><a href="compcert.lib.Floats.html">Floats</a></span> <span class="id"><a href="compcert.common.AST.html">AST</a></span> <span class="id"><a href="compcert.common.Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.ValuesC.html">ValuesC</a></span> <span class="id"><a href="compcert.common.Memory.html">Memory</a></span> <span class="id"><a href="compcert.common.Events.html">Events</a></span> <span class="id"><a href="compcert.common.Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="compcert.common.Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.x86.Op.html">Op</a></span> <span class="id"><a href="compcert.backend.Locations.html">Locations</a></span> <span class="id"><a href="compcert.compcertm.MachC.html">MachC</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span> <span class="id"><a href="compcert.compcertm.ConventionsC.html">ConventionsC</a></span> <span class="id"><a href="compcert.compcertm.AsmC.html">AsmC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.x86.Asmgen.html">Asmgen</a></span> <span class="id"><a href="compcert.backend.Asmgenproof0.html">Asmgenproof0</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.sflib.html">sflib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Export</span> <span class="id"><a href="compcert.x86.Asmgenproof.html">Asmgenproof</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.SimModSem.html">SimModSem</a></span> <span class="id"><a href="compcert.compcertm.SimMemExt.html">SimMemExt</a></span> <span class="id"><a href="compcert.compcertm.SimSymbId.html">SimSymbId</a></span> <span class="id"><a href="compcert.compcertm.MemoryC.html">MemoryC</a></span> <span class="id"><a href="compcert.compcertm.ValuesC.html">ValuesC</a></span> <span class="id"><a href="compcert.compcertm.MemdataC.html">MemdataC</a></span> <span class="id"><a href="compcert.compcertm.LocationsC.html">LocationsC</a></span> <span class="id"><a href="compcert.compcertm.StoreArguments.html">StoreArguments</a></span> <span class="id"><a href="compcert.compcertm.Conventions1C.html">Conventions1C</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Skeleton.html">Skeleton</a></span> <span class="id"><a href="compcert.compcertm.Mod.html">Mod</a></span> <span class="id"><a href="compcert.compcertm.ModSem.html">ModSem</a></span> <span class="id"><a href="compcert.compcertm.SimMod.html">SimMod</a></span> <span class="id"><a href="compcert.compcertm.SimSymb.html">SimSymb</a></span> <span class="id"><a href="compcert.compcertm.SimMem.html">SimMem</a></span> <span class="id"><a href="compcert.compcertm.AsmregsC.html">AsmregsC</a></span> <span class="id"><a href="compcert.compcertm.MatchSimModSem.html">MatchSimModSem</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html">JunkBlock</a></span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html">StoreArgumentsProps</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.compcertm.SoundTop.html">SoundTop</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul">Z.mul</a></span>.<br/>
<span class="kwd">Local</span> <span class="id">Existing</span> <span class="kwd">Instance</span> <span class="id">main_args_some</span>.<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.skenv_link">skenv_link</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.t">SkEnv.t</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.prog">prog</a></span>: <span class="id"><a href="compcert.backend.Mach.html#program">Mach.program</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.tprog">tprog</a></span>: <span class="id"><a href="compcert.x86.Asm.html#program">Asm.program</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.md_src">md_src</a></span>: <span class="id"><a href="compcert.compcertm.Mod.html#Mod.t">Mod.t</a></span> := (<span class="id"><a href="compcert.compcertm.MachC.html#module">MachC.module</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.backend.Asmgenproof0.html#return_address_offset">return_address_offset</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.md_tgt">md_tgt</a></span>: <span class="id"><a href="compcert.compcertm.Mod.html#Mod.t">Mod.t</a></span> := (<span class="id"><a href="compcert.compcertm.AsmC.html#module">AsmC.module</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tprog">tprog</a></span>).<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="PRESERVATION.INCLSRC">INCLSRC</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.includes">SkEnv.includes</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_src">md_src</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.sk">Mod.sk</a></span>)).<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="PRESERVATION.INCLTGT">INCLTGT</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.includes">SkEnv.includes</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_tgt">md_tgt</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.sk">Mod.sk</a></span>)).<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="PRESERVATION.WF">WF</a></span>: <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.wf">SkEnv.wf</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span>).<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.TRANSF">TRANSF</a></span>: <span class="id"><a href="compcert.x86.Asmgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tprog">tprog</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.ge">ge</a></span> := (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_src">md_src</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.sk">Mod.sk</a></span>)) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.prog">prog</a></span>).<br/>
<span class="kwd">Let</span> <span class="id"><a name="PRESERVATION.tge">tge</a></span> := (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive">SkEnv.revive</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_tgt">md_tgt</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.sk">Mod.sk</a></span>)) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tprog">tprog</a></span>).<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.sm_link">sm_link</a></span>: <span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.t">SimMem.t</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="msp">msp</a></span>: <span class="id"><a href="compcert.compcertm.SimModSem.html#ModSemPair.t">ModSemPair.t</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.SimModSem.html#ModSemPair.mk">ModSemPair.mk</a></span> (<span class="id">SM</span> := <span class="id"><a href="compcert.compcertm.SimMemExt.html#SimMemExt">SimMemExt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_src">md_src</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.modsem">Mod.modsem</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_tgt">md_tgt</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.modsem">Mod.modsem</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.SimSymbId.html#mk">SimSymbId.mk</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_src">md_src</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_tgt">md_tgt</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.sm_link">sm_link</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="get_rs">get_rs</a></span> (<span class="id">ms</span>: <span class="id"><a href="compcert.backend.Mach.html#state">Mach.state</a></span>) : <span class="id"><a href="compcert.backend.Mach.html#regset">Mach.regset</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#ms">ms</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Mach.html#State">Mach.State</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">rs</span> <span class="id">_</span> =&gt; <span class="id">rs</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Mach.html#Callstate">Callstate</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">rs</span> <span class="id">_</span> =&gt; <span class="id">rs</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.backend.Mach.html#Returnstate">Returnstate</a></span> <span class="id">_</span> <span class="id">rs</span> <span class="id">_</span> =&gt; <span class="id">rs</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="agree_eq">agree_eq</a></span> (<span class="id">ms</span>: <span class="id"><a href="compcert.backend.Mach.html#regset">Mach.regset</a></span>) (<span class="id">sp</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>) (<span class="id">rs</span>: <span class="id"><a href="compcert.x86.Asm.html#regset">Asm.regset</a></span>) (<span class="id">sg</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="mkagree">mkagree</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="agree_sp">agree_sp</a></span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs">rs</a></span>#<span class="id"><a href="compcert.x86.Asm.html#SP">SP</a></span> = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sp">sp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="agree_sp_def">agree_sp_def</a></span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sp">sp</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="agree_mregs_less">agree_mregs_less</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">r</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) (<span class="id">IN</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#r">r</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sg">sg</a></span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#ms">ms</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#r">r</a></span>) (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs">rs</a></span>#(<span class="id"><a href="compcert.x86.Asm.html#preg_of">preg_of</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#r">r</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="agree_mregs_eq">agree_mregs_eq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">r</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) (<span class="id">NOTIN</span>: ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#r">r</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sg">sg</a></span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#ms">ms</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#r">r</a></span>) = (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs">rs</a></span>#(<span class="id"><a href="compcert.x86.Asm.html#preg_of">preg_of</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#r">r</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_regset">set_regset</a></span> (<span class="id">rs0</span> <span class="id">rs1</span>: <span class="id"><a href="compcert.backend.Mach.html#regset">Mach.regset</a></span>) (<span class="id">sg</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span class="id">mr</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) : <span class="id"><a href="compcert.common.Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin_dec">Loc.notin_dec</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sg">sg</a></span>)) <span class="kwd">then</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs1">rs1</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs0">rs0</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_regset_undef">set_regset_undef</a></span> (<span class="id">rs</span>: <span class="id"><a href="compcert.backend.Mach.html#regset">Mach.regset</a></span>) (<span class="id">sg</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span class="id">mr</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) : <span class="id"><a href="compcert.common.Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin_dec">Loc.notin_dec</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sg">sg</a></span>)) <span class="kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> <span class="kwd">else</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs">rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_init_data">match_init_data</a></span> <span class="id">init_sp</span> <span class="id">init_ra</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">init_rs_src</span> <span class="id">init_sg_src</span> <span class="id">init_rs_tgt</span> : <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="match_init_data_intro">match_init_data_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITRA</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs_tgt">init_rs_tgt</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITRAPTR</span>: &lt;&lt;<span class="id">TPTR</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span>) <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>&gt;&gt; /\ &lt;&lt;<span class="id">RADEF</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITRS</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#agree_eq">agree_eq</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_sp">init_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs_tgt">init_rs_tgt</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_sg_src">init_sg_src</a></span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIG</span>: <span class="id">exists</span> <span class="id">fd</span>, <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tge">tge</a></span>.(<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>) (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs_tgt">init_rs_tgt</a></span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fd">fd</a></span>) /\ <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fd">fd</a></span>.(<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span>) = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_sg_src">init_sg_src</a></span> /\ <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_sg_src">init_sg_src</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_cstyle">sig_cstyle</a></span>)).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="stack_base">stack_base</a></span> (<span class="id">initial_parent_sp</span> <span class="id">initial_parent_ra</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="compcert.backend.Mach.html#stackframe">Mach.stackframe</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="stack_base_dummy">stack_base_dummy</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#stack_base">stack_base</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_sp">initial_parent_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_ra">initial_parent_ra</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="compcert.backend.Mach.html#dummy_stack">dummy_stack</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_sp">initial_parent_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_ra">initial_parent_ra</a></span>)::[])<br/>
| <span class="id"><a name="stack_base_cons">stack_base_cons</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fr</span> <span class="id">ls</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TL</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#stack_base">stack_base</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_sp">initial_parent_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_ra">initial_parent_ra</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#ls">ls</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#stack_base">stack_base</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_sp">initial_parent_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#initial_parent_ra">initial_parent_ra</a></span> (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fr">fr</a></span>::<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#ls">ls</a></span>).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">idx</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">st_src0</span>: <span class="id"><a href="compcert.compcertm.MachC.html#state">MachC.state</a></span>) (<span class="id">st_tgt0</span>: <span class="id"><a href="compcert.compcertm.AsmC.html#state">AsmC.state</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sm0</span>: <span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.t">SimMem.t</a></span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="match_states_intro">match_states_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">init_sp</span> <span class="id">init_ra</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">initial_parent_ra_ptr</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">initial_parent_ra_def</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">initial_parent_ra_junk</span>: <span class="kwd">forall</span> <span class="id">blk</span> <span class="id">ofs</span> (<span class="id">RAVAL</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> = <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#blk">blk</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#ofs">ofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#blk">blk</a></span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKWF</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#stack_base">stack_base</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_sp">init_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> (<span class="id"><a href="compcert.compcertm.MachC.html#get_stack">get_stack</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_src0">st_src0</a></span>.(<span class="id"><a href="compcert.compcertm.MachC.html#st">MachC.st</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INITDATA</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#match_init_data">match_init_data</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_sp">init_sp</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_ra">init_ra</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_src0">st_src0</a></span>.(<span class="id"><a href="compcert.compcertm.MachC.html#init_rs">MachC.init_rs</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_src0">st_src0</a></span>.(<span class="id"><a href="compcert.compcertm.MachC.html#init_sg">init_sg</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_tgt0">st_tgt0</a></span>.(<span class="id"><a href="compcert.compcertm.AsmC.html#init_rs">init_rs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCHST</span>: <span class="id"><a href="compcert.x86.Asmgenproof.html#match_states">Asmgenproof.match_states</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_src0">st_src0</a></span>.(<span class="id"><a href="compcert.compcertm.MachC.html#st">MachC.st</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_tgt0">st_tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MCOMPATSRC</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_src0">st_src0</a></span>.(<span class="id"><a href="compcert.compcertm.MachC.html#st">MachC.st</a></span>).(<span class="id"><a href="compcert.compcertm.MachC.html#get_mem">MachC.get_mem</a></span>) = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.src">SimMem.src</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MCOMPATTGT</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_tgt0">st_tgt0</a></span>.(<span class="id"><a href="compcert.compcertm.AsmC.html#get_mem">get_mem</a></span>) = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.tgt">SimMem.tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">IDX</span>: <span class="kwd">measure</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st_src0">st_src0</a></span>.(<span class="id"><a href="compcert.compcertm.MachC.html#st">MachC.st</a></span>) = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#idx">idx</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="asm_step_dstep">asm_step_dstep</a></span> <span class="id">init_rs</span> <span class="id">st0</span> <span class="id">st1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.x86.Asm.html#step">Asm.step</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#DStep">Simulation.DStep</a></span> (<span class="id"><a href="compcert.compcertm.AsmC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tprog">tprog</a></span>) (<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs">init_rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st0">st0</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tr">tr</a></span> (<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs">init_rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st1">st1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6957')">Proof.</div>
<div class="proofscript" id="proof6957">
&nbsp;&nbsp;<span class="id">econs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmC.html#modsem_determinate">modsem_determinate</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;- <span class="id">econs</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="asm_star_dstar">asm_star_dstar</a></span> <span class="id">init_rs</span> <span class="id">st0</span> <span class="id">st1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.common.Smallstep.html#star">star</a></span> <span class="id"><a href="compcert.x86.Asm.html#step">Asm.step</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#DStar">Simulation.DStar</a></span> (<span class="id"><a href="compcert.compcertm.AsmC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tprog">tprog</a></span>) (<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs">init_rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st0">st0</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tr">tr</a></span> (<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs">init_rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st1">st1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6958')">Proof.</div>
<div class="proofscript" id="proof6958">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">STEP</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#asm_step_dstep">asm_step_dstep</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="asm_plus_dplus">asm_plus_dplus</a></span> <span class="id">init_rs</span> <span class="id">st0</span> <span class="id">st1</span> <span class="id">tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEP</span>: <span class="id"><a href="compcert.common.Smallstep.html#plus">plus</a></span> <span class="id"><a href="compcert.x86.Asm.html#step">Asm.step</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st0">st0</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tr">tr</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st1">st1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.Simulation.html#DPlus">Simulation.DPlus</a></span> (<span class="id"><a href="compcert.compcertm.AsmC.html#modsem">modsem</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tprog">tprog</a></span>) (<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs">init_rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st0">st0</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tr">tr</a></span> (<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#init_rs">init_rs</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#st1">st1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6959')">Proof.</div>
<div class="proofscript" id="proof6959">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#asm_step_dstep">asm_step_dstep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#asm_star_dstar">asm_star_dstar</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="make_match_genvs">make_match_genvs</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.SimSymbId.html#sim_skenv">SimSymbId.sim_skenv</a></span> (<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_src">md_src</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.sk">Mod.sk</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.project">SkEnv.project</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.skenv_link">skenv_link</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.md_tgt">md_tgt</a></span>.(<span class="id"><a href="compcert.compcertm.Mod.html#Mod.sk">Mod.sk</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.common.Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="compcert.common.Linking.html#match_globdef">match_globdef</a></span> (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id"><a href="compcert.x86.Asmgen.html#transf_fundef">transf_fundef</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#f">f</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#tf">tf</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.prog">prog</a></span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.ge">ge</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6960')">Proof.</div>
<div class="proofscript" id="proof6960">
 <span class="id">subst_locals</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SimSymbId.html#sim_skenv_revive">SimSymbId.sim_skenv_revive</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_function_sig">transf_function_sig</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fd_src</span> <span class="id">fd_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRANS</span>: <span class="id"><a href="compcert.x86.Asmgen.html#transf_function">transf_function</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fd_src">fd_src</a></span> = <span class="id"><a href="compcert.common.Errors.html#OK">OK</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fd_tgt">fd_tgt</a></span>):<br/>
&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fd_src">fd_src</a></span>.(<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span>) = <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#fd_tgt">fd_tgt</a></span>.(<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6961')">Proof.</div>
<div class="proofscript" id="proof6961">
 <span class="tactic">repeat</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmgen.html#transf_function">transf_function</a></span>, <span class="id"><a href="compcert.common.Errors.html#bind">bind</a></span>, <span class="id"><a href="compcert.x86.Asmgen.html#transl_function">transl_function</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="sim_modsem">sim_modsem</a></span>: <span class="id"><a href="compcert.compcertm.SimModSem.html#ModSemPair.sim">ModSemPair.sim</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#msp">msp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6962')">Proof.</div>
<div class="proofscript" id="proof6962">
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MatchSimModSem.html#match_states_sim">match_states_sim</a></span> <span class="kwd">with</span> (<span class="id">match_states</span> := <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#match_states">match_states</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">match_states_at</span> := <span class="id"><a href="compcert.compcertm.CoqlibC.html#top4">top4</a></span>); <span class="tactic">eauto</span>; <span class="id">ii</span>; <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.SoundTop.html#sound_state_local_preservation">SoundTop.sound_state_local_preservation</a></span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">INITTGT</span>; <span class="id">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ss</span>. <span class="id">des_safe</span>. <span class="id">inv</span> <span class="id">SAFESRC</span>. <span class="id">inv</span> <span class="id">SIMARGS</span>; <span class="id">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>. <span class="id">inv</span> <span class="id">SAFESRC</span>. <span class="tactic">destruct</span> <span class="id">sm_arg</span>, <span class="id">args_src</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">SIMARGS</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#make_match_genvs">make_match_genvs</a></span>; <span class="tactic">eauto</span>. { <span class="tactic">apply</span> <span class="id">SIMSKENV</span>. } <span class="tactic">intro</span> <span class="id">SIMGE</span>. <span class="id">des</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SRCSTORE</span>: <span class="id">exists</span> <span class="id">rs_src</span> <span class="id">m_src</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.StoreArguments.html#store_arguments">StoreArguments.store_arguments</a></span> <span class="id">src</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs_src">rs_src</a></span> (<span class="id"><a href="compcert.compcertm.ValuesC.html#typify_list">typify_list</a></span> <span class="id">vs_src</span> (<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>))) (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#m_src">m_src</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#agree_eq">agree_eq</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs_src">rs_src</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id">rs</span> (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>) /\ <span class="id"><a href="compcert.common.Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#m_src">m_src</a></span> <span class="id">m0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TYP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#store_arguments_parallel_extends">store_arguments_parallel_extends</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ValuesC.html#typify_has_type_list">typify_has_type_list</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive_incl_skenv">SkEnv.revive_incl_skenv</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.INCLTGT">INCLTGT</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">inv</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.WF">WF</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">WFPARAM</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.ValuesC.html#typify_list">typify_list</a></span> <span class="id">vs_src</span> (<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ValuesC.html#lessdef_list_typify_list">lessdef_list_typify_list</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.ValuesC.html#lessdef_list_length">lessdef_list_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STORE</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">des</span>. <span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset">set_regset</a></span> <span class="id">rs_src</span> (<span class="id"><a href="compcert.compcertm.AsmregsC.html#to_mregset">to_mregset</a></span> <span class="id">rs</span>) (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span> - <span class="id">ARGTGT</span>. <span class="id">inv</span> <span class="id">ARGTGT</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#extcall_arguments_same">extcall_arguments_same</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset">set_regset</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin_not_in">Loc.notin_not_in</a></span> <span class="kwd">in</span> <span class="id">n</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">STORE</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">MWF</span>. <span class="tactic">rewrite</span> <span class="id">mext_next</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">intros</span> <span class="id">X</span>. <span class="id">inv</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset">set_regset</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#val_inject_id">val_inject_id</a></span>. <span class="tactic">eapply</span> <span class="id">AGREE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset">set_regset</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.LocationsC.html#Loc_not_in_notin_R">LocationsC.Loc_not_in_notin_R</a></span> <span class="kwd">in</span> <span class="id">NOTIN</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SRCSTORE</span> <span class="kwd">as</span> [<span class="id">rs_src</span> [<span class="id">m_src</span> [<span class="id">SRCSTORE</span> [<span class="id">AGREE</span> <span class="id">EXTENDS</span>]]]]. <span class="id">inv</span> <span class="id">AGREE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="compcert.compcertm.MachC.html#mkstate">MachC.mkstate</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs_src</span> (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Mach.html#Callstate">Callstate</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id"><a href="compcert.backend.Mach.html#dummy_stack">dummy_stack</a></span> (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">src</span>) <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id">rs</span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>)]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fptr_src</span> <span class="id">rs_src</span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">assign_junk_blocks</a></span> <span class="id">m_src</span> <span class="id">n</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FPTR</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">auto</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">TYP0</span>. <span class="id">clear_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">SIG2</span>: <span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span> = (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial_genv">Genv.find_funct_transf_partial_genv</a></span> <span class="id">SIMGE</span>); <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">folder</span>. <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Errors.html#bind">bind</a></span> <span class="kwd">in</span> *; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#transf_function_sig">transf_function_sig</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">ii</span>. <span class="id">erewrite</span> (<span class="id">agree_mregs_eq0</span> <span class="id">mr</span>) <span class="kwd">in</span> *; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.sflib.html#NW">NW</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">NNPP</a></span>. <span class="tactic">intro</span> <span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">PTRFREE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.x86.Asm.html#preg_of">preg_of</a></span> <span class="id">mr</span>). <span class="tactic">intro</span> <span class="id">U</span>. <span class="id">contradict</span> <span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">is_junk_value</a></span> <span class="kwd">in</span> <span class="id">U</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">is_junk_value</a></span>. <span class="id">des_ifs</span>. <span class="id">des</span>. <span class="tactic">split</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_extends">Mem.valid_block_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_extends">Mem.valid_block_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_block_extends">assign_junk_block_extends</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">des</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="tactic">destruct</span> <span class="id">mr</span>; <span class="id">clarify</span>). <span class="tactic">rewrite</span> <span class="id"><a href="compcert.x86.Asm.html#to_preg_to_mreg">Asm.to_preg_to_mreg</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.SimMemExt.html#mk">SimMemExt.mk</a></span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">assign_junk_blocks</a></span> <span class="id">m_src</span> <span class="id">n</span>) (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">assign_junk_blocks</a></span> <span class="id">m0</span> <span class="id">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">RADEF</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">by</span> (<span class="id">econs</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_block_extends">assign_junk_block_extends</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd</span>))))); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">agree_mregs_eq0</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">des</span>. <span class="id">inv</span> <span class="id">SAFESRC</span>. <span class="id">inv</span> <span class="id">SIMARGS</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">sm_arg</span>; <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#make_match_genvs">make_match_genvs</a></span>; <span class="tactic">eauto</span>. { <span class="tactic">apply</span> <span class="id">SIMSKENV</span>. } <span class="tactic">intro</span> <span class="id">SIMGE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial_genv">Genv.find_funct_transf_partial_genv</a></span> <span class="id">SIMGE</span>); <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>. <span class="id">ss</span>; <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Errors.html#bind">bind</a></span> <span class="kwd">in</span> *; <span class="id">des_ifs</span>. <span class="tactic">rename</span> <span class="id">f</span> <span class="id">into</span> <span class="id">fd_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TYP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">SIG</span>: <span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span> <span class="id">fd_tgt</span> = (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">hexploit</span> (<span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_transf_partial_genv">Genv.find_funct_transf_partial_genv</a></span> <span class="id">SIMGE</span>); <span class="tactic">eauto</span>. <span class="id">i</span>; <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">folder</span>. <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Errors.html#bind">bind</a></span> <span class="kwd">in</span> *; <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#transf_function_sig">transf_function_sig</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">rs_tgt</span> <span class="id">m_tgt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">STORE</span>: <span class="id"><a href="compcert.compcertm.AsmC.html#store_arguments">AsmC.store_arguments</a></span> <span class="id">tgt</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs_tgt">rs_tgt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.ValuesC.html#typify_list">typify_list</a></span> <span class="id">vs_tgt</span> (<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;(Args.vs&nbsp;args_tgt)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>) <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#m_tgt">m_tgt</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">RSPC</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs_tgt">rs_tgt</a></span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> = <span class="id">fptr_tgt</span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">RSRA</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs_tgt">rs_tgt</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span> = <span class="id"><a href="compcert.common.Values.html#Vnullptr">Vnullptr</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">PTRFREE</span>: <span class="kwd">forall</span> <span class="id">pr</span> (<span class="id">PTR</span>: ~ <span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">is_junk_value</a></span> <span class="id">m0</span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">assign_junk_blocks</a></span> <span class="id">m0</span> <span class="id">n</span>) (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#rs_tgt">rs_tgt</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#pr">pr</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">INARG</span>: <span class="id">exists</span> <span class="id">mr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MR</span>: <span class="id"><a href="compcert.x86.Asm.html#to_mreg">to_mreg</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#pr">pr</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">ARG</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>)))&gt;&gt;)&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">INPC</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#pr">pr</a></span> = <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>&gt;&gt;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">INRSP</span>: <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#pr">pr</a></span> = <span class="id"><a href="compcert.x86.Asm.html#RSP">RSP</a></span>&gt;&gt;)&gt;&gt;)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#store_arguments_progress">StoreArgumentsProps.store_arguments_progress</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">instantiate</span> (2:=<span class="id"><a href="compcert.compcertm.ValuesC.html#typify_list">typify_list</a></span> <span class="id">vs_tgt</span> (<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ValuesC.html#typify_has_type_list">typify_has_type_list</a></span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.ValuesC.html#lessdef_list_length">lessdef_list_length</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.revive_incl_skenv">SkEnv.revive_incl_skenv</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.INCLTGT">INCLTGT</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>. <span class="id">inv</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.WF">WF</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">WFPARAM</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">SIG</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">instantiate</span> (1:= <span class="id">n</span>). <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> ((<span class="id"><a href="compcert.compcertm.AsmregsC.html#to_pregset">to_pregset</a></span> (<span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset_undef">set_regset_undef</a></span> <span class="id">rs0</span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> &lt;- <span class="id">fptr_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span> &lt;- <span class="id"><a href="compcert.common.Values.html#Vnullptr">Vnullptr</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="compcert.x86.Asm.html#RSP">RSP</a></span> &lt;- (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tgt</span>) <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">split</span>; <span class="id">ss</span>. <span class="id">inv</span> <span class="id">STR</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#extcall_arguments_same">extcall_arguments_same</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id">NNIN</span>: ~ <span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id">r</span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">X</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin_not_in">Loc.notin_not_in</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset_undef">set_regset_undef</a></span>, <span class="id"><a href="compcert.compcertm.AsmregsC.html#to_pregset">to_pregset</a></span>, <span class="id"><a href="compcert.compcertm.AsmregsC.html#to_mregset">to_mregset</a></span>, <span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span>, <span class="id"><a href="compcert.x86.Asm.html#to_preg">to_preg</a></span>, <span class="id"><a href="compcert.x86.Asm.html#preg_of">preg_of</a></span>, <span class="id"><a href="compcert.x86.Asm.html#to_mreg">to_mreg</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">r</span>; <span class="tactic">eauto</span>; <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NNIN</span>: <span class="kwd">forall</span> <span class="id">mr</span>, ~ <span class="id"><a href="compcert.backend.Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>))) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mr">mr</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="compcert.backend.Mach.html#fn_sig">Mach.fn_sig</a></span> <span class="id">fd</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">mr</span> <span class="id">NIN</span>. <span class="tactic">clear</span> - <span class="id">NIN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">NNPP</a></span>. <span class="tactic">intros</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.LocationsC.html#Loc_not_in_notin_R">LocationsC.Loc_not_in_notin_R</a></span> <span class="kwd">in</span> <span class="id">X</span>. <span class="id">des</span>. <span class="id">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">NNIN</span> <span class="id">PTR</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#set_regset_undef">set_regset_undef</a></span>, <span class="id"><a href="compcert.compcertm.AsmregsC.html#to_pregset">to_pregset</a></span>, <span class="id"><a href="compcert.compcertm.AsmregsC.html#to_mregset">to_mregset</a></span>, <span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span>, <span class="id"><a href="compcert.x86.Asm.html#to_preg">to_preg</a></span>, <span class="id"><a href="compcert.x86.Asm.html#preg_of">preg_of</a></span>, <span class="id"><a href="compcert.x86.Asm.html#to_mreg">to_mreg</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pr</span>; <span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">PTR</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des</span>. <span class="id">eexists</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>; <span class="id">swap</span> 1 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">folder</span>. <span class="id">inv</span> <span class="id">FPTR</span>; <span class="id">ss</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">RSRA</span>. <span class="id">econs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">RSRA</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id">SIG</span>. <span class="id">econs</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">LEN</span>. <span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.ValuesC.html#lessdef_list_length">lessdef_list_length</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#transf_function_sig">transf_function_sig</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#transf_function_sig">transf_function_sig</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="id">hexploit</span> <span class="id">PTRFREE0</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">apply</span> <span class="id">PTR</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">is_junk_value</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_nextblock">assign_junk_blocks_nextblock</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STORE</span>. <span class="id">inv</span> <span class="id">STORE0</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">NB0</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">NB</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span> <span class="id">src</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MWF</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mext_next</span>. <span class="id">des</span>; <span class="id">esplits</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">MATCH</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">st_src0</span>, <span class="id">st_tgt0</span>, <span class="id">sm0</span>. <span class="id">ss</span>. <span class="id">inv</span> <span class="id">MATCHST</span>; <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">inv</span> <span class="id">CALLSRC</span>. <span class="id">inv</span> <span class="id">MATCH</span>. <span class="id">inv</span> <span class="id">INITDATA</span>. <span class="id">inv</span> <span class="id">MATCHST</span>. <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">st_tgt0</span>. <span class="id">ss</span>. <span class="id">clarify</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FPTR</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> (<span class="id">rs0</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="id">eqn</span>:<span class="id">PCEQ</span>; <span class="id">ss</span>. <span class="id">des_ifs</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.backend.Asmgenproof0.html#extcall_arguments_match">Asmgenproof0.extcall_arguments_match</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">TGRARGS</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">TGTFREE</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">r</span> <span class="kwd">in</span> <span class="id">TRANSF</span>. <span class="id">r</span> <span class="kwd">in</span> <span class="id">TRANSF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="compcert.compcertm.SimSymbId.html#sim_skenv_revive">SimSymbId.sim_skenv_revive</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION.TRANSF">TRANSF</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">SIMSKENV</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">GE</span>. <span class="tactic">apply</span> (<span class="id"><a href="compcert.compcertm.GlobalenvsC.html#fsim_external_funct_id">fsim_external_funct_id</a></span> <span class="id">GE</span>); <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">STACKS</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id">inv</span> <span class="id">STACKWF</span>; [|<span class="id">inv</span> <span class="id">TL</span>]. <span class="id">inv</span> <span class="id">ATLR</span>; <span class="tactic">auto</span>; <span class="id">exfalso</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="tactic">destruct</span> <span class="id">ra</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">ATLR</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">AG</span>. <span class="tactic">rewrite</span> <span class="id">agree_sp0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.SimMemExt.html#mk">SimMemExt.mk</a></span> <span class="id">m1</span> <span class="id">m2</span>'). <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">AFTERSRC</span>. <span class="id">ss</span>. <span class="id">des</span>. <span class="id">clarify</span>. <span class="tactic">destruct</span> <span class="id">st_tgt0</span>, <span class="id">st</span>. <span class="id">inv</span> <span class="id">MATCH</span>. <span class="id">inv</span> <span class="id">MATCHST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INITDATA</span>. <span class="id">inv</span> <span class="id">SIMRET</span>; <span class="id">ss</span>. <span class="tactic">destruct</span> <span class="id">sm_ret</span>. <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree_parallel_extends">Mem_unfree_parallel_extends</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">UNFREE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">TGTUNFREE</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">exists</span> <span class="id">skd</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="tactic">replace</span> (<span class="id">r</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">with</span> <span class="id">fptr</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">FPTR</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">AG</span>. <span class="tactic">rewrite</span> <span class="id">agree_sp0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.SimMemExt.html#mk">SimMemExt.mk</a></span> <span class="id">m1</span> <span class="id">m2</span>'). <span class="id">inv</span> <span class="id">INITRS</span>. <span class="id">inv</span> <span class="id">AG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">econs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#loc_external_result">loc_external_result</a></span>, <span class="id"><a href="compcert.x86.Asm.html#regset_after_external">regset_after_external</a></span>, <span class="id"><a href="compcert.backend.Mach.html#regset_after_external">Mach.regset_after_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Asmgenproof0.html#agree_set_other">agree_set_other</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.backend.Asmgenproof0.html#agree_set_pair">agree_set_pair</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.x86.Asm.html#to_preg_to_mreg">to_preg_to_mreg</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">Conventions1.is_callee_save</a></span> <span class="id">r0</span>) <span class="id">eqn</span>:<span class="id">T</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">inv</span> <span class="id">FINALSRC</span>. <span class="id">des</span>. <span class="id">clarify</span>. <span class="tactic">destruct</span> <span class="id">st_tgt0</span>, <span class="id">st</span>. <span class="id">inv</span> <span class="id">MATCH</span>. <span class="id">inv</span> <span class="id">MATCHST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INITDATA</span>. <span class="tactic">destruct</span> <span class="id">sm0</span>. <span class="id">ss</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STACKWF</span>; [|<span class="id">inv</span> <span class="id">TL</span>]. <span class="id">inv</span> <span class="id">STACKS</span>; [|<span class="id">inv</span> <span class="id">H7</span>; <span class="id">ss</span>]. <span class="id">inv</span> <span class="id">INITRS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">TGTFREE</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">esplits</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">replace</span> (<span class="id">r</span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) <span class="kwd">with</span> (<span class="id">init_rs0</span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">clear</span> - <span class="id">initial_parent_ra_junk</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.AsmC.html#external_state">external_state</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">initial_parent_ra_junk</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs_range">Genv.genv_defs_range</a></span> <span class="kwd">in</span> <span class="id">Heq1</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ATPC</span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">ATPC</span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span>, <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Globalenvs.html#Genv.genv_defs_range">Genv.genv_defs_range</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">initial_parent_ra_junk</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">AG</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> &lt;- <span class="id">agree_mregs_eq0</span>; <span class="tactic">auto</span>. <span class="id">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Conventions1C.html#loc_args_callee_save_disjoint">loc_args_callee_save_disjoint</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">AG</span>. <span class="tactic">rewrite</span> <span class="id">agree_sp0</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">econs</span>; <span class="tactic">simpl</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">ss</span>. <span class="id">inv</span> <span class="id">AG</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">instantiate</span> (1:= <span class="id"><a href="compcert.compcertm.SimMemExt.html#mk">SimMemExt.mk</a></span> <span class="id">_</span> <span class="id">_</span>). <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="id">left</span>; <span class="id">i</span>. <span class="id">ss</span>. <span class="id">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MachC.html#modsem_receptive">MachC.modsem_receptive</a></span>; <span class="id">et</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">i</span>. <span class="id">inv</span> <span class="id">STEPSRC</span>. <span class="id">inv</span> <span class="id">MATCH</span>. <span class="tactic">set</span> (<span class="id">INITDATA0</span> := <span class="id">INITDATA</span>). <span class="id">inv</span> <span class="id">INITDATA0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INITRAPTR</span>. <span class="id">inv</span> <span class="id">INITRS0</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.x86.Asmgenproof.html#step_simulation">step_simulation</a></span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">agree_sp_def0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#make_match_genvs">make_match_genvs</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">SIMSKENV</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">i</span>. <span class="id">des</span>; <span class="id">ss</span>; <span class="id">esplits</span>; <span class="tactic">auto</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">left</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">mkstate</a></span> <span class="id">st_tgt0</span>.(<span class="id"><a href="compcert.compcertm.AsmC.html#init_rs">init_rs</a></span>) <span class="id">S2</span>'). <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">st_tgt0</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#asm_plus_dplus">asm_plus_dplus</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.compcertm.SimMemExt.html#mk">SimMemExt.mk</a></span> (<span class="id"><a href="compcert.compcertm.MachC.html#get_mem">MachC.get_mem</a></span> (<span class="id"><a href="compcert.compcertm.MachC.html#st">MachC.st</a></span> <span class="id">st_src1</span>)) (<span class="id"><a href="compcert.compcertm.AsmC.html#get_mem">get_mem</a></span> <span class="id">S2</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.AsmC.html#init_rs">init_rs</a></span> <span class="id">st_tgt0</span> <span class="id"><a href="compcert.x86.Asm.html#RSP">RSP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">st_src0</span>, <span class="id">st_src1</span>. <span class="tactic">clear</span> - <span class="id">STEP</span> <span class="id">STACKWF</span> <span class="id">NOTDUMMY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STEP</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STACKWF</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">INITRS</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">INITFPTR</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">right</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="compcert.common.Smallstep.html#star_refl">star_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">instantiate</span> (1 := <span class="id"><a href="compcert.compcertm.SimMemExt.html#mk">SimMemExt.mk</a></span> (<span class="id"><a href="compcert.compcertm.MachC.html#get_mem">MachC.get_mem</a></span> (<span class="id"><a href="compcert.compcertm.MachC.html#st">MachC.st</a></span> <span class="id">st_src1</span>)) <span class="id">st_tgt0</span>.(<span class="id"><a href="compcert.compcertm.AsmC.html#st">st</a></span>).(<span class="id"><a href="compcert.compcertm.AsmC.html#get_mem">get_mem</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">instantiate</span> (1:=<span class="id"><a href="compcert.compcertm.AsmC.html#init_rs">init_rs</a></span> <span class="id">st_tgt0</span> <span class="id"><a href="compcert.x86.Asm.html#RSP">RSP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">st_src0</span>, <span class="id">st_src1</span>. <span class="tactic">clear</span> - <span class="id">STEP</span> <span class="id">STACKWF</span> <span class="id">NOTDUMMY</span>. <span class="id">inv</span> <span class="id">STEP</span>; <span class="id">ss</span>; <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">STACKWF</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">INITRS</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">INITFPTR</span>. <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SIMMOD">SIMMOD</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SIMMOD.prog">prog</a></span>: <span class="id"><a href="compcert.backend.Mach.html#program">Mach.program</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SIMMOD.tprog">tprog</a></span>: <span class="id"><a href="compcert.x86.Asm.html#program">program</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SIMMOD.TRANSL">TRANSL</a></span>: <span class="id"><a href="compcert.x86.Asmgenproof.html#match_prog">match_prog</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#SIMMOD.prog">prog</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#SIMMOD.tprog">tprog</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mp">mp</a></span>: <span class="id"><a href="compcert.compcertm.SimMod.html#ModPair.t">ModPair.t</a></span> := <span class="id"><a href="compcert.compcertm.SimSymbId.html#mk_mp">mk_mp</a></span> (<span class="id"><a href="compcert.compcertm.MachC.html#module">MachC.module</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#SIMMOD.prog">prog</a></span> <span class="id"><a href="compcert.backend.Asmgenproof0.html#return_address_offset">return_address_offset</a></span>) (<span class="id"><a href="compcert.compcertm.AsmC.html#module">AsmC.module</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#SIMMOD.tprog">tprog</a></span>).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="sim_mod">sim_mod</a></span>: <span class="id"><a href="compcert.compcertm.SimMod.html#ModPair.sim">ModPair.sim</a></span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#mp">mp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6963')">Proof.</div>
<div class="proofscript" id="proof6963">
&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id">r</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.Skeleton.html#Sk.match_program_eq">Sk.match_program_eq</a></span>; <span class="tactic">eauto</span>. <span class="id">ii</span>. <span class="tactic">destruct</span> <span class="id">f1</span>; <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">clarify</span>. <span class="id">right</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Errors.html#bind">bind</a></span> <span class="kwd">in</span> <span class="id">MATCH</span>. <span class="id">des_ifs</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asmgen.html#transf_function">transf_function</a></span>, <span class="id"><a href="compcert.x86.Asmgen.html#transl_function">transl_function</a></span>, <span class="id"><a href="compcert.common.Errors.html#bind">bind</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">clarify</span>. <span class="id">left</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">inv</span> <span class="id">SIMSKENVLINK</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#sim_modsem">sim_modsem</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.AsmgenproofC.html#SIMMOD">SIMMOD</a></span>.<br/>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
