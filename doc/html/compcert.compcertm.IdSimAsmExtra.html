
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module IdSimAsmExtra</title>
<meta name="description" content="Documentation of Coq module IdSimAsmExtra" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module IdSimAsmExtra</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="kwd">Program</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Sem.html">Sem</a></span> <span class="id"><a href="compcert.compcertm.SimProg.html">SimProg</a></span> <span class="id"><a href="compcert.compcertm.Skeleton.html">Skeleton</a></span> <span class="id"><a href="compcert.compcertm.Mod.html">Mod</a></span> <span class="id"><a href="compcert.compcertm.ModSem.html">ModSem</a></span> <span class="id"><a href="compcert.compcertm.SimMod.html">SimMod</a></span> <span class="id"><a href="compcert.compcertm.SimModSem.html">SimModSem</a></span> <span class="id"><a href="compcert.compcertm.SimSymb.html">SimSymb</a></span> <span class="id"><a href="compcert.compcertm.SimMem.html">SimMem</a></span> <span class="id"><a href="compcert.compcertm.Sound.html">Sound</a></span> <span class="id"><a href="compcert.compcertm.SimSymb.html">SimSymb</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.AsmC.html">AsmC</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.compcertm.SimMemId.html">SimMemId</a></span> <span class="id"><a href="compcert.compcertm.SimMemExt.html">SimMemExt</a></span> <span class="id"><a href="compcert.common.SimMemInj.html">SimMemInj</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.compcertm.SoundTop.html">SoundTop</a></span> <span class="id"><a href="compcert.compcertm.UnreachC.html">UnreachC</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="compcert.compcertm.SimSymbId.html">SimSymbId</a></span> <span class="id"><a href="compcert.compcertm.SimSymbDrop.html">SimSymbDrop</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.CoqlibC.html">CoqlibC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.ValuesC.html">ValuesC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.LinkingC.html">LinkingC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.MapsC.html">MapsC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.AxiomsC.html">AxiomsC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Ord.html">Ord</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.MemoryC.html">MemoryC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.SmallstepC.html">SmallstepC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.common.Events.html">Events</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Preservation.html">Preservation</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.lib.Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.LocationsC.html">LocationsC</a></span> <span class="id"><a href="compcert.backend.Conventions.html">Conventions</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.AsmregsC.html">AsmregsC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.MatchSimModSemExcl2.html">MatchSimModSemExcl2</a></span> <span class="id"><a href="compcert.compcertm.MatchSimModSem.html">MatchSimModSem</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.StoreArguments.html">StoreArguments</a></span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html">StoreArgumentsProps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html">AsmStepInj</a></span> <span class="id"><a href="compcert.compcertm.AsmStepExt.html">AsmStepExt</a></span> <span class="id"><a href="compcert.compcertm.IntegersC.html">IntegersC</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.PropExtensionality.html">Coq.Logic.PropExtensionality</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.AsmExtra.html">AsmExtra</a></span> <span class="id"><a href="compcert.compcertm.IdSimExtra.html">IdSimExtra</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.Conventions1C.html">Conventions1C</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="compcert.compcertm.mktac.html">mktac</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<br/>
<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.mul">Z.mul</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add">Z.add</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub">Z.sub</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.div">Z.div</a></span>.<br/>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lessdef_commute">lessdef_commute</a></span> <span class="id">j</span> <span class="id">src0</span> <span class="id">src1</span> <span class="id">tgt0</span> <span class="id">tgt1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ0</span>: <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src0">src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#tgt0">tgt0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ1</span>: <span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src1">src1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#tgt1">tgt1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LESS</span>: <span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src0">src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src1">src1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNDEF</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src0">src0</a></span> = <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span> -&gt; <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#tgt0">tgt0</a></span> = <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#tgt0">tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#tgt1">tgt1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7246')">Proof.</div>
<div class="proofscript" id="proof7246">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LESS</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">INJ0</span>; <span class="id">inv</span> <span class="id">INJ1</span>; <span class="id">ss</span>; <span class="tactic">try</span> <span class="id">econs</span>; <span class="id">clarify</span>. <span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MEMORYLEMMA">MEMORYLEMMA</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Plt_lemma">Plt_lemma</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LE</span>: ~ <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#a">a</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#a">a</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#c">c</a></span> - <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#c">c</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7247')">Proof.</div>
<div class="proofscript" id="proof7247">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.compare_lt_iff">Pos.compare_lt_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_compare_mono_r">Pos.add_compare_mono_r</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">instantiate</span> (1:=<span class="id">b</span>) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.sub_add">Pos.sub_add</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="id">xomega</span>]. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_comm">Pos.add_comm</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.compare_lt_iff">Pos.compare_lt_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Plt_lemma2">Plt_lemma2</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LE</span>: ~ <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#a">a</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LT</span>: <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#a">a</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#d">d</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#a">a</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#c">c</a></span> - <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>) (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#c">c</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7248')">Proof.</div>
<div class="proofscript" id="proof7248">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.compare_lt_iff">Pos.compare_lt_iff</a></span> <span class="kwd">in</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_compare_mono_r">Pos.add_compare_mono_r</a></span> <span class="kwd">in</span> <span class="id">LT</span>. <span class="id">instantiate</span> (1:=<span class="id">c</span>) <span class="kwd">in</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.sub_compare_mono_r">Pos.sub_compare_mono_r</a></span> <span class="kwd">in</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">instantiate</span> (1:=<span class="id">b</span>) <span class="kwd">in</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.compare_lt_iff">Pos.compare_lt_iff</a></span> <span class="kwd">in</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rpapply</span> <span class="id">LT</span>. <span class="tactic">replace</span> (<span class="id">b</span> + <span class="id">d</span> + <span class="id">c</span>)%<span class="id">positive</span> <span class="kwd">with</span> (<span class="id">c</span> + <span class="id">d</span> + <span class="id">b</span>)%<span class="id">positive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_sub">Pos.add_sub</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">clear</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span> <span class="id">LT</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">clear</span>. <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Z2Nat_range">Z2Nat_range</a></span> <span class="id">n</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>) = <span class="kwd">if</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zle">zle</a></span> 0 <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>) <span class="kwd">then</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span> <span class="kwd">else</span> 0.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7249')">Proof.</div>
<div class="proofscript" id="proof7249">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.to_nat">Z.to_nat</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Mem_unfree_parallel_inject">Mem_unfree_parallel_inject</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">j</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">b</span> <span class="id">ofs_src</span> <span class="id">ofs_tgt</span> <span class="id">sz</span> <span class="id">m1</span>' <span class="id">b</span>' <span class="id">delta</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJECT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNFREE</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m1</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VAL</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DELTA</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b</span>', <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ALIGN</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">chunk</span> <span class="id">p</span> (<span class="id">PERM</span>: <span class="kwd">forall</span> <span class="id">ofs0</span> (<span class="id">BOUND</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> &lt;= <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs0">ofs0</a></span> &lt; <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.common.Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#chunk">chunk</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span>) &lt;= <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs0">ofs0</a></span> &lt; (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) \/ <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs0">ofs0</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#p">p</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.Memdata.html#align_chunk">align_chunk</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#chunk">chunk</a></span> | <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">REPRESENTABLE</span>: <span class="kwd">forall</span> <span class="id">ofs</span> (<span class="id">PERM</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span>) <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> - 1) <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> <span class="id"><a href="compcert.common.Memtype.html#Nonempty">Nonempty</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span>) &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> &lt; (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span>) &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> - 1 &lt; (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span> &gt;= 0 /\ 0 &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NOPERM</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_range_noperm">Mem_range_noperm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m2">m2</a></span> <span class="id">b</span>' (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">UNFREE</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m2">m2</a></span> <span class="id">b</span>' (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m2</span>'&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">INJECT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id">m1</span>' <span class="id">m2</span>'&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7250')">Proof.</div>
<div class="proofscript" id="proof7250">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span> <span class="kwd">in</span> <span class="id">UNFREE</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">VALID</span>: <span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_2">Mem.valid_block_inject_2</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NOOVERLAP</span>: <span class="kwd">forall</span> <span class="id">b_src</span> <span class="id">delta</span>' <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span> (<span class="id">DELTA</span>: <span class="id">j</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b_src">b_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b</span>', <span class="id">delta</span>'))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">OFS</span>: (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs_src</span>) + <span class="id">delta</span> &lt;= <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> + <span class="id">delta</span>' &lt; <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs_src</span> + <span class="id">delta</span> + <span class="id">sz</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">PERM</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m1</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b_src">b_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#k">k</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#p">p</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_inject">Mem.perm_inject</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exploit</span> <span class="id">NOPERM</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="tactic">eauto</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_max">Mem.perm_max</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">econs</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">i</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">cinv</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.mi_inj">Mem.mi_inj</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">INJECT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">b</span> <span class="id">b1</span>); <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span>, <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs_safe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">clarify</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_inject">Mem.perm_inject</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">NOPERM</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_max">Mem.perm_max</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">econs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_inject">Mem.perm_inject</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id">NOPERM</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_max">Mem.perm_max</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">econs</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="id">lia</span>. <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="tactic">try</span> <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="id">lia</span>; <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="tactic">try</span> <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">assert</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">m2</span> <span class="id">b2</span> (<span class="id">ofs</span> + <span class="id">delta0</span>) <span class="id">k</span> <span class="id">p1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_inject">Mem.perm_inject</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span>, <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>. <span class="id">exfalso</span>. <span class="id">exploit</span> <span class="id">NOPERM</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_max">Mem.perm_max</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">eauto</span>. <span class="id">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">ss</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">b1</span> <span class="id">b</span>); <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id">ALIGN</span>; <span class="tactic">eauto</span>. <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gss">PMap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span>. <span class="id">des_ifs</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_align">Mem.mi_align</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_inj">Mem.mi_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span>, <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_setN_in_repeat">Mem_setN_in_repeat</a></span>; <span class="tactic">eauto</span>; [<span class="id">econs</span>|]. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Z2Nat.id">Z2Nat.id</a></span>; <span class="id">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">zsimpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> 0 <span class="id">sz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>. <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">nia</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>; <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>. <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">lia</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>; <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">nia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">zsimpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> 0 <span class="id">sz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>; <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>. <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">lia</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>; <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">nia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>; <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="id">cycle</span> 1; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Coqlib.html#length_list_repeat">length_list_repeat</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Z2Nat_range">Z2Nat_range</a></span>. <span class="id">des_ifs</span>; <span class="tactic">try</span> <span class="id">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">NNPP</a></span>. <span class="id">ii</span>. <span class="id">exploit</span> <span class="id">NOOVERLAP</span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>; <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="id">lia</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_freeblocks">Mem.mi_freeblocks</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_mappedblocks">Mem.mi_mappedblocks</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#imply_to_or">imply_to_or</a></span>. <span class="id">i</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_no_overlap">Mem.mi_no_overlap</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>; <span class="id">i</span>; <span class="id">des</span>; <span class="id">clarify</span>; <span class="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">ii</span>; <span class="id">exploit</span> <span class="id">NOOVERLAP</span>; <span class="tactic">eauto</span>; <span class="id">nia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#peq">peq</a></span> <span class="id">b0</span> <span class="id">b</span>); <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id">REPRESENTABLE</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gss">PMap.gss</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="id">des</span>; <span class="tactic">eauto</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_representable">Mem.mi_representable</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span>, <span class="id"><a href="compcert.lib.Coqlib.html#proj_sumbool">proj_sumbool</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>; (<span class="tactic">try</span> <span class="tactic">by</span> <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_perm_inv">Mem.mi_perm_inv</a></span>; <span class="tactic">eauto</span>); <span class="tactic">try</span> <span class="tactic">by</span> (<span class="id">left</span>; <span class="tactic">try</span> <span class="id">econs</span>; <span class="tactic">try</span> <span class="id">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">left</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>. <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="tactic">eauto</span>. <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="compcert.lib.Coqlib.html#zlt">zlt</a></span> 0 <span class="id">sz</span>); <span class="tactic">try</span> <span class="id">lia</span>. <span class="id">left</span>. <span class="id">erewrite</span> <span class="id"><a href="compcert.compcertm.AsmStepInj.html#unsigned_add">unsigned_add</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>; <span class="tactic">eapply</span> <span class="id">REPRESENTABLE</span>; <span class="tactic">eauto</span>; <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">right</span>. <span class="id">ii</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_inject">Mem.perm_inject</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="tactic">eapply</span> <span class="id">NOPERM</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Mem_unfree_perm_restore">Mem_unfree_perm_restore</a></span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">blk</span> <span class="id">lo</span> <span class="id">hi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREE</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MAXPERM</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VALID</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<span class="id">MAX</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m2">m2</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> &lt;1= <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNFREE</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m2">m2</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#lo">lo</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m3">m3</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NBLE</span>: <span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m2">m2</a></span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> (<span class="id">VALID</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MAX</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m3">m3</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span> &lt;1= <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> <span class="id"><a href="compcert.common.Memtype.html#Max">Max</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7251')">Proof.</div>
<div class="proofscript" id="proof7251">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span> (<span class="id"><a href="compcert.compcertm.MemoryC.html#brange">brange</a></span> <span class="id">blk</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">b</span> <span class="id">ofs</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur">Mem.perm_cur</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memtype.html#perm_F_any">perm_F_any</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_unchanged_on_2">Mem.perm_unchanged_on_2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_unchanged_on">Mem.free_unchanged_on</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= ~2 <span class="id"><a href="compcert.compcertm.MemoryC.html#brange">brange</a></span> <span class="id">blk</span> <span class="id">lo</span> <span class="id">hi</span>). <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">H1</span>. <span class="id">splits</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">MAXPERM</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_unchanged_on_2">Mem.perm_unchanged_on_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree_unchanged_on">Mem_unfree_unchanged_on</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span> <span class="kwd">in</span> <span class="id">FREE</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_Ple_trans">Plt_Ple_trans</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> &lt;- <span class="id">FREE</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Mem_unfree_parallel">Mem_unfree_parallel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">sm_arg</span> <span class="id">sm_ret</span> <span class="id">blk_src</span> <span class="id">ofs_src</span> <span class="id">ofs_tgt</span> <span class="id">sz</span> <span class="id">blk_tgt</span> <span class="id">delta</span> <span class="id">m_src1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DELTA</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk_src">blk_src</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk_tgt">blk_tgt</a></span>, <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VAL</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span> = <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MLE0</span>: <span class="id">SimMemInj.le</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_arg">sm_arg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREESRC</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk_src">blk_src</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_arg">sm_arg</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FREETGT</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.free">Mem.free</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk_tgt">blk_tgt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_arg">sm_arg</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF0</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF1</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_arg">sm_arg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF2</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_ret">sm_ret</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MLE1</span>: <span class="id">SimMemInj.le</span>' (<span class="id">SimMemInj.lift</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_arg">sm_arg</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_ret">sm_ret</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNFREESRC</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_ret">sm_ret</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk_src">blk_src</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_src">ofs_src</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src1">m_src1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span>) = <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src1">m_src1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) = <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_ret">sm_ret</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">FREETGT</span>: <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm_ret">sm_ret</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk_tgt">blk_tgt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span>) (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs_tgt">ofs_tgt</a></span> + <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sz">sz</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span>)&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">SimMemInj.le</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7252')">Proof.</div>
<div class="proofscript" id="proof7252">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DELTA0</span>: <span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span> <span class="id">sm_ret</span> <span class="id">blk_src</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">blk_tgt</span>, <span class="id">delta</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MLE0</span>. <span class="id">inv</span> <span class="id">MLE1</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id">INCR0</span>. <span class="tactic">eapply</span> <span class="id">INCR</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cinv</span> <span class="id">MWF0</span>. <span class="id">cinv</span> <span class="id">MWF2</span>. <span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Mem_unfree_parallel_inject">Mem_unfree_parallel_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">cinv</span> <span class="id">PUBLIC</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_align">Mem.mi_align</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ii</span>. <span class="id">exploit</span> <span class="id">PERM</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur">Mem.perm_cur</a></span>. <span class="id">instantiate</span> (1:=<span class="id">p</span>). <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memtype.html#perm_F_any">perm_F_any</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">MLE1</span>. <span class="tactic">eapply</span> <span class="id">MAXSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">DELTA</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">inv</span> <span class="id">MWF0</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.mi_representable">Mem.mi_representable</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">MLE1</span>. <span class="id">ss</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">MAXSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">DELTA</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_free_3">Mem.perm_free_3</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">MAXSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">DELTA</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur">Mem.perm_cur</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memtype.html#perm_F_any">perm_F_any</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur">Mem.perm_cur</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memtype.html#perm_F_any">perm_F_any</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">ii</span>. <span class="id">inv</span> <span class="id">MLE1</span>. <span class="id">ss</span>. <span class="tactic">eapply</span> <span class="id">MAXTGT</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_free_noperm">Mem_free_noperm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_2">Mem.valid_block_inject_2</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">DELTA</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">i</span>. <span class="id">des</span>. <span class="id">eexists</span> (<span class="id"><a href="compcert.compcertm.SimMemInjC.html#update">SimMemInjC.update</a></span> <span class="id">sm0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>). <span class="id">inv</span> <span class="id">MLE0</span>. <span class="id">inv</span> <span class="id">MLE1</span>. <span class="id">inv</span> <span class="id">MWF1</span>. <span class="id">esplits</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etrans</span>. <span class="tactic">rewrite</span> <span class="id">SRCPARENTEQ</span>. <span class="tactic">eapply</span> <span class="id">SRCEXT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#src_private">SimMemInj.src_private</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">SimMemInj.valid_blocks</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#loc_unmapped_frozen">SimMemInj.loc_unmapped_frozen</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_valid_block_unfree">Mem_valid_block_unfree</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">UNFREESRC</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_unchanged_on">Mem.valid_block_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.SimMemInj.html#tgt_private">SimMemInj.tgt_private</a></span>, <span class="id"><a href="compcert.common.SimMemInj.html#valid_blocks">SimMemInj.valid_blocks</a></span> <span class="kwd">in</span> *. <span class="id">ss</span>. <span class="id">ii</span>; <span class="id">des</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">r</span>. <span class="id">ii</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">blk_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id">TGTEXT</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="id">des</span>. <span class="id">r</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="tactic">eapply</span> <span class="id">PR</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Mem_unfree_perm_restore">Mem_unfree_perm_restore</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">UNFREESRC</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">MAXSRC0</span>; <span class="id">et</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">PUBLIC</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">TGTPARENTEQ</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="tactic">eapply</span> <span class="id">TGTEXT1</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="id">des</span>. <span class="id">r</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="tactic">eapply</span> <span class="id">PR</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_preserves_tgt">SimMemInj.frozen_preserves_tgt</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">MAXSRC0</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">PUBLIC1</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_preserves_tgt">SimMemInj.frozen_preserves_tgt</a></span>; <span class="id">et</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">H0</span> <span class="id">UNFREESRC</span> <span class="id">n</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree">Mem_unfree</a></span>, <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="id">ss</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.lib.Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">et</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">TGTPARENTEQ</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="tactic">eapply</span> <span class="id">TGTEXT1</span> <span class="kwd">in</span> <span class="id">PR</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_valid_block_unfree">Mem_valid_block_unfree</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">UNFREE</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_unchanged_on">Mem.valid_block_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etrans</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span> <span class="kwd">in</span> <span class="id">SRCUNCHANGED0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span> <span class="kwd">in</span> <span class="id">SRCUNCHANGED</span>. <span class="id">etrans</span>; <span class="tactic">eauto</span>. <span class="id">etrans</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_nextblock_unfree">Mem_nextblock_unfree</a></span> <span class="kwd">in</span> <span class="id">UNFREESRC</span>. <span class="tactic">rewrite</span> <span class="id">UNFREESRC</span>. <span class="id">refl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etrans</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span> <span class="kwd">in</span> <span class="id">TGTUNCHANGED0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span> <span class="kwd">in</span> <span class="id">TGTUNCHANGED</span>. <span class="id">etrans</span>; <span class="tactic">eauto</span>. <span class="id">etrans</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_nextblock_unfree">Mem_nextblock_unfree</a></span> <span class="kwd">in</span> <span class="id">UNFREE</span>. <span class="tactic">rewrite</span> <span class="id">UNFREE</span>. <span class="id">refl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">assert</span>(<span class="id">FROZENHI</span>: <span class="id"><a href="compcert.common.SimMemInj.html#frozen">SimMemInj.frozen</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span> <span class="id">sm0</span>) (<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span> <span class="id">sm_ret</span>) (<span class="id"><a href="compcert.common.SimMemInj.html#src_parent_nb">SimMemInj.src_parent_nb</a></span> <span class="id">sm0</span>) (<span class="id"><a href="compcert.common.SimMemInj.html#tgt_parent_nb">SimMemInj.tgt_parent_nb</a></span> <span class="id">sm0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ + <span class="id">econs</span>. <span class="id">ii</span>. <span class="id">des</span>. <span class="tactic">destruct</span> (<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span> <span class="id">sm_arg</span> <span class="id">b_src</span>) <span class="id">eqn</span>: <span class="id">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">p</span>. <span class="id">erewrite</span> <span class="id">INCR0</span> <span class="kwd">in</span> <span class="id">NEW0</span>; <span class="id">et</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id">FROZEN</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#inject_separated_frozen">SimMemInj.inject_separated_frozen</a></span> <span class="kwd">in</span> <span class="id">FROZEN0</span>. <span class="id">exploit</span> <span class="id">FROZEN0</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SRCPARENTEQNB</span>, <span class="id">TGTPARENTEQNB</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">clear</span> - <span class="id">H</span> <span class="id">H0</span> <span class="id">SRCLE1</span> <span class="id">TGTLE1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span> <span class="id">sm_arg</span>)) <span class="id">b_src</span>) <span class="tactic">by</span> <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="compcert.lib.Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span> <span class="id">sm_arg</span>)) <span class="id">b_tgt</span>) <span class="tactic">by</span> <span class="id">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_trans">Pos.le_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econs</span>; <span class="id">ss</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etrans</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etrans</span>; <span class="tactic">eauto</span>. <span class="id">etrans</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">SRCPARENTEQ</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree_unchanged_on">Mem_unfree_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">SRCEXT</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#brange">brange</a></span>, <span class="id"><a href="compcert.common.Events.html#loc_unmapped">loc_unmapped</a></span> <span class="kwd">in</span> *. <span class="id">des</span>. <span class="id">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">etrans</span>; <span class="tactic">eauto</span>. <span class="id">etrans</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">TGTPARENTEQ</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#Mem_unfree_unchanged_on">Mem_unfree_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">TGTEXT</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#brange">brange</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_cur">Mem.perm_cur</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_implies">Mem.perm_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memtype.html#perm_F_any">perm_F_any</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.address_inject">Mem.address_inject</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">PUBLIC</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.free_range_perm">Mem.free_range_perm</a></span>; <span class="tactic">eauto</span>. <span class="id">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.SimMemInj.html#frozen_shortened">SimMemInj.frozen_shortened</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Mem_unfree_perm_restore">Mem_unfree_perm_restore</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">UNFREESRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">MAXSRC0</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Mem_unfree_perm_restore">Mem_unfree_perm_restore</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">UNFREE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id">MAXTGT0</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">erewrite</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_free">Mem.nextblock_free</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_nextblock">Mem.unchanged_on_nextblock</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#MEMORYLEMMA">MEMORYLEMMA</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="junk_inj">junk_inj</a></span> (<span class="id">m_src0</span> <span class="id">m_tgt0</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">j</span>: <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span>) (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>): <span class="id"><a href="compcert.common.Values.html#meminj">meminj</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">blk</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span>) <span class="kwd">then</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>)) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ((<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span> + (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>) - (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span>))%<span class="id">positive</span>, 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="src_junk_val">src_junk_val</a></span> (<span class="id">m_src0</span> <span class="id">m_tgt0</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) (<span class="id">v</span>: <span class="id"><a href="compcert.common.Values.html#val">val</a></span>): <span class="id"><a href="compcert.common.Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id">blk</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id">blk</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>) <span class="kwd">then</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="compcert.lib.Coqlib.html#plt">plt</a></span> <span class="id">blk</span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>)) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> (<span class="id">blk</span> + (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span>) - (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>))%<span class="id">positive</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v">v</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="src_junk_val_inj">src_junk_val_inj</a></span> <span class="id">m_src0</span> <span class="id">m_tgt0</span> <span class="id">j</span> <span class="id">n</span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#Val.inject">Val.inject</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>) (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src_junk_val">src_junk_val</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v">v</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7253')">Proof.</div>
<div class="proofscript" id="proof7253">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src_junk_val">src_junk_val</a></span>. <span class="id">des_ifs</span>; <span class="tactic">eauto</span>. <span class="id">econs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma">Plt_lemma</a></span> <span class="kwd">in</span> <span class="id">p0</span>; <span class="tactic">eauto</span>. <span class="id">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">instantiate</span> (1:=0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id">b</span> + <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m_src0</span> - <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m_tgt0</span> + <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m_tgt0</span> - <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m_src0</span>)%<span class="id">positive</span> <span class="kwd">with</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> - <span class="id">n0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.sub_add">Pos.sub_add</a></span>; <span class="tactic">try</span> <span class="id">xomega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.add_sub">Pos.add_sub</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exfalso</span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_nextblock">JunkBlock.assign_junk_blocks_nextblock</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">apply</span> <span class="id">n2</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma2">Plt_lemma2</a></span> <span class="kwd">in</span> <span class="id">p</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">symmetry</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="src_junk_val_junk">src_junk_val_junk</a></span> <span class="id">m_src0</span> <span class="id">m_tgt0</span> <span class="id">n</span> <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">JUNK</span>: <span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">JunkBlock.is_junk_value</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v">v</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">JunkBlock.is_junk_value</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> (<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src_junk_val">src_junk_val</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v">v</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7254')">Proof.</div>
<div class="proofscript" id="proof7254">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#is_junk_value">JunkBlock.is_junk_value</a></span>, <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src_junk_val">src_junk_val</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="id">des</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma">Plt_lemma</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_nextblock">JunkBlock.assign_junk_blocks_nextblock</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma2">Plt_lemma2</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="set_regset_junk">set_regset_junk</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m_src0</span> <span class="id">m_tgt0</span>: <span class="id"><a href="compcert.common.Memory.html#mem">mem</a></span>) (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rs0</span> <span class="id">rs1</span>: <span class="id"><a href="compcert.backend.Mach.html#regset">Mach.regset</a></span>) (<span class="id">sg</span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span>) (<span class="id">mr</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) : <span class="id"><a href="compcert.common.Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="compcert.backend.Locations.html#Loc.notin_dec">Loc.notin_dec</a></span> (<span class="id"><a href="compcert.backend.Locations.html#R">R</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#mr">mr</a></span>) (<span class="id"><a href="compcert.common.AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="compcert.x86.Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#src_junk_val">src_junk_val</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs1">rs1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#mr">mr</a></span>) <span class="kwd">else</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs0">rs0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#mr">mr</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="junk_inj_incr">junk_inj_incr</a></span> <span class="id">m_src0</span> <span class="id">m_tgt0</span> <span class="id">j</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Values.html#inject_incr">inject_incr</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7255')">Proof.</div>
<div class="proofscript" id="proof7255">
&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span>. <span class="id">des_ifs</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="assign_junk_blocks_parallel_inject">assign_junk_blocks_parallel_inject</a></span> <span class="id">m_src0</span> <span class="id">m_tgt0</span> <span class="id">j</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7256')">Proof.</div>
<div class="proofscript" id="proof7256">
&nbsp;&nbsp;<span class="id">dup</span> <span class="id">INJ</span>. <span class="id">inv</span> <span class="id">INJ</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econs</span>; [<span class="id">inv</span> <span class="id">mi_inj</span>; <span class="id">econs</span>|..]; <span class="id">i</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_perm">JunkBlock.assign_junk_blocks_perm</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id">des_ifs</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">exfalso</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="kwd">in</span> *. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_perm">JunkBlock.assign_junk_blocks_perm</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;- <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memdata.html#memval_inject_incr">memval_inject_incr</a></span>; [..|<span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj_incr">junk_inj_incr</a></span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">mi_memval</span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">rpapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_contents">Mem.unchanged_on_contents</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">JunkBlock.assign_junk_blocks_unchanged_on</a></span>. } <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_contents">Mem.unchanged_on_contents</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">JunkBlock.assign_junk_blocks_unchanged_on</a></span>. } <span class="id">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">exfalso</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">exfalso</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_unchanged_on">Mem.valid_block_unchanged_on</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">JunkBlock.assign_junk_blocks_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b</span>) <span class="kwd">as</span> [[]|] <span class="id">eqn</span>:<span class="id">DELTA</span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span> <span class="kwd">in</span> <span class="id">DELTA</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">INJ0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_unchanged_on">Mem.valid_block_unchanged_on</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">JunkBlock.assign_junk_blocks_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_nextblock">JunkBlock.assign_junk_blocks_nextblock</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma2">Plt_lemma2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_perm">JunkBlock.assign_junk_blocks_perm</a></span> <span class="kwd">in</span> *. <span class="id">des_ifs</span>; <span class="tactic">eauto</span>; <span class="id">exfalso</span>; <span class="id">apply_all_once</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">set</span> (<span class="id"><a href="compcert.lib.Integers.html#Ptrofs.unsigned_range_2">Ptrofs.unsigned_range_2</a></span> <span class="id">ofs</span>). <span class="id">des_ifs</span>; <span class="id">des</span>; <span class="tactic">eauto</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id">des_ifs</span>; <span class="tactic">eauto</span>. <span class="id">zsimpl</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma">Plt_lemma</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="junk_inj_separated">junk_inj_separated</a></span> <span class="id">m_src0</span> <span class="id">m_tgt0</span> <span class="id">j</span> <span class="id">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Events.html#inject_separated">inject_separated</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#j">j</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src0">m_src0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt0">m_tgt0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7257')">Proof.</div>
<div class="proofscript" id="proof7257">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span>. <span class="id">ii</span>. <span class="id">des_ifs</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#Plt_lemma">Plt_lemma</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="assign_junk_blocks_parallel">assign_junk_blocks_parallel</a></span> <span class="id">n</span> <span class="id">sm0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MSRC</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span>) = <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MTGT</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span>) = <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks">JunkBlock.assign_junk_blocks</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MINJ</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) = <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj">junk_inj</a></span> (<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) (<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) (<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#n">n</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MWF</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>&gt;&gt;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (&lt;&lt;<span class="id">MLE</span>: <span class="id">SimMemInj.le</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>&gt;&gt;)<br/>
.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7258')">Proof.</div>
<div class="proofscript" id="proof7258">
&nbsp;&nbsp;<span class="id">cinv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="id">hexploit</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#assign_junk_blocks_parallel_inject">assign_junk_blocks_parallel_inject</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">INJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.SimMemInjC.html#parallel_gen">SimMemInjC.parallel_gen</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj_incr">junk_inj_incr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#junk_inj_separated">junk_inj_separated</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">JunkBlock.assign_junk_blocks_unchanged_on</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_unchanged_on">JunkBlock.assign_junk_blocks_unchanged_on</a></span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_perm">JunkBlock.assign_junk_blocks_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.JunkBlock.html#assign_junk_blocks_perm">JunkBlock.assign_junk_blocks_perm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_arguments_nextblock">store_arguments_nextblock</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">rs</span> <span class="id">vs</span> <span class="id">sg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STORE</span>: <span class="id"><a href="compcert.compcertm.StoreArguments.html#store_arguments">store_arguments</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#vs">vs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.lib.Coqlib.html#Plt">Plt</a></span> (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7259')">Proof.</div>
<div class="proofscript" id="proof7259">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STORE</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">NB</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.nextblock_alloc">Mem.nextblock_alloc</a></span> <span class="kwd">in</span> <span class="id">ALC</span>. <span class="id">erewrite</span> <span class="id">ALC</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_arguments_max_perm">store_arguments_max_perm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">m0</span> <span class="id">m1</span> <span class="id">rs</span> <span class="id">vs</span> <span class="id">sg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STORE</span>: <span class="id"><a href="compcert.compcertm.StoreArguments.html#store_arguments">store_arguments</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#vs">vs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VALID</span>: <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m1">m1</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span> &lt;2= <span class="id"><a href="compcert.common.Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m0">m0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#b">b</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7260')">Proof.</div>
<div class="proofscript" id="proof7260">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">STORE</span>. <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_unchanged_on_2">Mem.perm_unchanged_on_2</a></span> <span class="kwd">in</span> <span class="id">PR</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">UNCH</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">ALC</span>. <span class="id">ii</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_strict">Plt_strict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ss</span>. <span class="id">des_ifs</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">ALC</span>. <span class="id">ii</span>. <span class="id">clarify</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_strict">Plt_strict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_arguments_parallel">store_arguments_parallel</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sm0</span> <span class="id">m_tgt1</span> <span class="id">rs_tgt</span> <span class="id">vs</span> <span class="id">vs</span>' <span class="id">sg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ARGSRC</span>: <span class="id"><a href="compcert.compcertm.StoreArguments.html#store_arguments">store_arguments</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span> <span class="id">vs</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt1">m_tgt1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TYP</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type_list">Val.has_type_list</a></span> <span class="id">vs</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_args">sig_args</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SZ</span>: 4 * <span class="id"><a href="compcert.x86.Conventions1.html#size_arguments">size_arguments</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> &lt;= <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">VALINJ</span>: <span class="id"><a href="compcert.common.Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#vs">vs</a></span> <span class="id">vs</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sm1</span> <span class="id">rs_src</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">ARGTGT</span>: <span class="id"><a href="compcert.compcertm.StoreArguments.html#store_arguments">store_arguments</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#vs">vs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span>)&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">INJ</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) = (<span class="id"><a href="compcert.compcertm.MemoryC.html#update_meminj">update_meminj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span>)) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span>)) 0)&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MWF</span>: <span class="id">SimMemInj.wf</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MLE</span>: <span class="id">SimMemInj.le</span>' <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">MTGT</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm1">sm1</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span>) = <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt1">m_tgt1</a></span>&gt;&gt;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;&lt;<span class="id">AGREE</span>: <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#agree">StoreArgumentsProps.agree</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.MemoryC.html#update_meminj">update_meminj</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#inj">SimMemInj.inj</a></span>) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#src">SimMemInj.src</a></span>)) (<span class="id"><a href="compcert.common.Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.common.SimMemInj.html#tgt">SimMemInj.tgt</a></span>)) 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span>&gt;&gt;).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7261')">Proof.</div>
<div class="proofscript" id="proof7261">
&nbsp;&nbsp;<span class="id">cinv</span> <span class="id">MWF</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#store_arguments_parallel_inject">store_arguments_parallel_inject</a></span>; <span class="tactic">eauto</span>. <span class="id">i</span>. <span class="id">des</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.SimMemInjC.html#parallel_gen">SimMemInjC.parallel_gen</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#update_meminj">update_meminj</a></span>. <span class="id">ii</span>. <span class="id">des_ifs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.valid_block_inject_1">Mem.valid_block_inject_1</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_strict">Plt_strict</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.MemoryC.html#update_meminj">update_meminj</a></span>. <span class="id">ii</span>. <span class="id">des_ifs</span>. <span class="tactic">split</span>; <span class="tactic">eapply</span> <span class="id"><a href="compcert.lib.Coqlib.html#Plt_strict">Plt_strict</a></span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#store_arguments_unchanged_on">store_arguments_unchanged_on</a></span>; <span class="tactic">eauto</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="compcert.common.Memory.html#Mem.unchanged_on_implies">Mem.unchanged_on_implies</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.StoreArgumentsProps.html#store_arguments_unchanged_on">store_arguments_unchanged_on</a></span>; <span class="tactic">eauto</span>. <span class="id">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#store_arguments_max_perm">store_arguments_max_perm</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">ARGSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">ii</span>. <span class="tactic">eapply</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#store_arguments_max_perm">store_arguments_max_perm</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">ARGSRC</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">i</span>. <span class="id">des</span>. <span class="id">esplits</span>; <span class="tactic">eauto</span>; <span class="id">ss</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="undef_bisim">undef_bisim</a></span> (<span class="id">rs_src</span> <span class="id">rs_tgt</span>: <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">r</span>: <span class="id"><a href="compcert.x86.Machregs.html#mreg">mreg</a></span>) (<span class="id">IN</span>: <span class="id"><a href="compcert.x86.Conventions1.html#is_callee_save">Conventions1.is_callee_save</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#r">r</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) (<span class="id">UNDEF</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span> (<span class="id"><a href="compcert.x86.Asm.html#to_preg">to_preg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#r">r</a></span>) = <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span> (<span class="id"><a href="compcert.x86.Asm.html#to_preg">to_preg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#r">r</a></span>) = <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="wf_init_rs">wf_init_rs</a></span> (<span class="id">rs</span>: <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="wf_init_rs_intro">wf_init_rs_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RSPDEF</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.x86.Asm.html#RSP">RSP</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TPTR</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>) <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RADEF</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rs">wf_init_rs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="wf_init_rs_asmstyle">wf_init_rs_asmstyle</a></span> (<span class="id">rs</span>: <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span>): <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="wf_init_rs_amstyle_intro">wf_init_rs_amstyle_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TPTR</span>: <span class="id"><a href="compcert.common.Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>) <span class="id"><a href="compcert.common.AST.html#Tptr">Tptr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RADEF</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span> &lt;&gt; <span class="id"><a href="compcert.common.Values.html#Vundef">Vundef</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rs_asmstyle">wf_init_rs_asmstyle</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs">rs</a></span><br/>
.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="wf_init_rss">wf_init_rss</a></span>: <span class="id"><a href="compcert.common.AST.html#signature">signature</a></span> -&gt; <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span> -&gt; <span class="id"><a href="compcert.x86.Asm.html#regset">regset</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="wf_init_rss_intro">wf_init_rss_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sg</span> <span class="id">init_rs_src</span> <span class="id">init_rs_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WFINITSRC</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rs">wf_init_rs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WFINITTGT</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rs">wf_init_rs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">UNDEF</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#undef_bisim">undef_bisim</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CSTYLE</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_cstyle">sig_cstyle</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rss">wf_init_rss</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span><br/>
| <span class="id"><a name="wf_init_rss_asmstyle">wf_init_rss_asmstyle</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sg</span> <span class="id">init_rs_src</span> <span class="id">init_rs_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WFINITSRC</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rs_asmstyle">wf_init_rs_asmstyle</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WFINITTGT</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rs_asmstyle">wf_init_rs_asmstyle</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">CSTYLE</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span>.(<span class="id"><a href="compcert.common.AST.html#sig_cstyle">sig_cstyle</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rss">wf_init_rss</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span><br/>
.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_states_ext">match_states_ext</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">skenv_link_tgt</span> : <span class="id"><a href="compcert.compcertm.Skeleton.html#SkEnv.t">SkEnv.t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge_src</span> <span class="id">ge_tgt</span>: <span class="id"><a href="compcert.x86.Asm.html#genv">genv</a></span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span> -&gt; <span class="id"><a href="compcert.compcertm.AsmC.html#state">AsmC.state</a></span> -&gt; <span class="id"><a href="compcert.compcertm.AsmC.html#state">AsmC.state</a></span> -&gt; (@<span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.t">SimMem.t</a></span> <span class="id"><a href="compcert.compcertm.SimMemExt.html#SimMemExt">SimMemExt.SimMemExt</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="match_states_ext_intro">match_states_ext_intro</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">init_rs_src</span> <span class="id">init_rs_tgt</span> <span class="id">rs_src</span> <span class="id">rs_tgt</span> <span class="id">m_src</span> <span class="id">m_tgt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sm0</span> : @<span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.t">SimMem.t</a></span> <span class="id"><a href="compcert.compcertm.SimMemExt.html#SimMemExt">SimMemExt.SimMemExt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGREE</span>: <span class="id"><a href="compcert.compcertm.AsmStepExt.html#agree">AsmStepExt.agree</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGREEINIT</span>: <span class="id"><a href="compcert.compcertm.AsmStepExt.html#agree">AsmStepExt.agree</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MCOMPATSRC</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src">m_src</a></span> = <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.src">SimMem.src</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MCOMPATTGT</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt">m_tgt</a></span> = <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.(<span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.tgt">SimMem.tgt</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MWF</span>: <span class="id"><a href="compcert.compcertm.SimMem.html#SimMem.wf">SimMem.wf</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FINDF</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ge_src">ge_src</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="compcert.common.AST.html#Internal">Internal</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#fd">fd</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WFINITRS</span>: <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#wf_init_rss">wf_init_rss</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#fd">fd</a></span>.(<span class="id"><a href="compcert.x86.Asm.html#fn_sig">fn_sig</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RAWF</span>: <span class="id"><a href="compcert.common.Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#skenv_link_tgt">skenv_link_tgt</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span> <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#match_states_ext">match_states_ext</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#skenv_link_tgt">skenv_link_tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ge_src">ge_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#ge_tgt">ge_tgt</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#tt">tt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">AsmC.mkstate</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_src">init_rs_src</a></span> (<span class="id"><a href="compcert.x86.Asm.html#State">Asm.State</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_src">m_src</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="compcert.compcertm.AsmC.html#mkstate">AsmC.mkstate</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#init_rs_tgt">init_rs_tgt</a></span> (<span class="id"><a href="compcert.x86.Asm.html#State">Asm.State</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#m_tgt">m_tgt</a></span>)) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sm0">sm0</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="asm_init_rs">asm_init_rs</a></span> (<span class="id">rs_src</span> <span class="id">rs_tgt</span>: <span class="id"><a href="compcert.backend.Mach.html#regset">Mach.regset</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">sg</span> <span class="id">v_pc</span> <span class="id">v_ra</span> <span class="id">blk</span> :=<br/>
&nbsp;&nbsp;(((<span class="id"><a href="compcert.compcertm.AsmregsC.html#to_pregset">to_pregset</a></span> (<span class="id"><a href="compcert.compcertm.AsmExtra.html#set_regset">set_regset</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span>)) # <span class="id"><a href="compcert.x86.Asm.html#PC">PC</a></span> &lt;- <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v_pc">v_pc</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id"><a href="compcert.x86.Asm.html#RA">RA</a></span> &lt;- <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v_ra">v_ra</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id"><a href="compcert.x86.Asm.html#RSP">RSP</a></span> &lt;- (<span class="id"><a href="compcert.common.Values.html#Vptr">Vptr</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span> <span class="id"><a href="compcert.lib.Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="asm_init_rs_undef_bisim">asm_init_rs_undef_bisim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs_src</span> <span class="id">rs_tgt</span> <span class="id">sg</span> <span class="id">v_pc</span> <span class="id">v_ra</span> <span class="id">blk</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#undef_bisim">undef_bisim</a></span> (<span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#asm_init_rs">asm_init_rs</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_src">rs_src</a></span> (<span class="id"><a href="compcert.compcertm.AsmregsC.html#to_mregset">to_mregset</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#sg">sg</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v_pc">v_pc</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#v_ra">v_ra</a></span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#blk">blk</a></span>) <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#rs_tgt">rs_tgt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7262')">Proof.</div>
<div class="proofscript" id="proof7262">
&nbsp;&nbsp;<span class="id">ii</span>. <span class="tactic">unfold</span> <span class="id"><a href="compcert.compcertm.IdSimAsmExtra.html#asm_init_rs">asm_init_rs</a></span>, <span class="id"><a href="compcert.compcertm.AsmregsC.html#to_pregset">to_pregset</a></span>, <span class="id"><a href="compcert.compcertm.AsmExtra.html#set_regset">set_regset</a></span>, <span class="id"><a href="compcert.compcertm.AsmregsC.html#to_mregset">to_mregset</a></span>, <span class="id"><a href="compcert.x86.Asm.html#Pregmap.set">Pregmap.set</a></span>, <span class="id"><a href="compcert.x86.Asm.html#to_preg">to_preg</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">des_ifs</span>; <span class="tactic">try</span> (<span class="tactic">by</span> <span class="tactic">unfold</span> <span class="id"><a href="compcert.x86.Asm.html#preg_of">preg_of</a></span> <span class="kwd">in</span> *; <span class="id">des_ifs</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">rewrite</span> <span class="id"><a href="compcert.x86.Asm.html#to_preg_to_mreg">to_preg_to_mreg</a></span> <span class="kwd">in</span> *. <span class="id">clarify</span>. <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="compcert.compcertm.Conventions1C.html#loc_args_callee_save_disjoint">loc_args_callee_save_disjoint</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">NNPP</a></span>. <span class="id">ii</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="compcert.compcertm.LocationsC.html#loc_notin_not_in">loc_notin_not_in</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>

</div>
<div class="footer"><hr/>Generated by <a href="https://github.com/xavierleroy/coq2html/">coq2html</div>
</body>
</html>
